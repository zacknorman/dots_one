Ala.prototype.yfa=W(6,function(){throw Gca("setValue not supported").C;});Rca.prototype.H=W(1,function(){throw Gca("remove").C;});sda.prototype.H=W(0,function(){this.J.splice(this.F,1);this.F--});function cLh(a,b){a.yT=b.yT;return a}function dLh(a,b,c){for(a=a.Lj();a.C();){var d=a.D();if(zb(b,d))return c&&a.H(),!0}return!1}function eLh(a,b,c){return a.IY(b)?a.pxa(b,c):null}function fLh(a,b){var c=b.Qs();b=b.Rs();var d=a.get(c);return!zb(b,d)||null==d&&!a.IY(c)?!1:!0}
function gLh(a){return a?a.Rs():null}function hLh(a){if(a.F.C())return!0;if(!Ta(a.F,a.R))return!1;a.F=a.L.C.Lj();return a.F.C()}function iLh(a,b){return(a=a.C.get(b))?a:[]}function jLh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(zb(a,d.Qs()))return d}return null}function kLh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function lLh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}
function mLh(a,b){for(b=b.Lj();b.C();){var c=b.D().Rs();if(zb(a,c))return!0}return!1}function nLh(){this.J=this.F=0}t(nLh,Sa);nLh.prototype.C=function(){return this.F<this.L.size()};nLh.prototype.D=function(){this.C();return this.L.cqa(this.J=this.F++)};nLh.prototype.H=function(){this.L.ria(this.J);this.F=this.J;this.J=-1};function oLh(){nLh.call(this)}t(oLh,nLh);function pLh(){this.J=!1}t(pLh,Sa);pLh.prototype.C=g("J");
pLh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=hLh(this);return a};pLh.prototype.H=function(){this.O.H();this.O=null;this.J=hLh(this)};function qLh(){}t(qLh,Sa);qLh.prototype.C=function(){return this.F.C()};qLh.prototype.D=function(){return this.F.D().Rs()};qLh.prototype.H=function(){this.F.H()};function rLh(){}t(rLh,Sa);rLh.prototype.C=function(){return this.F.C()};rLh.prototype.D=function(){return this.F.D().Qs()};rLh.prototype.H=function(){this.F.H()};
function sLh(){this.F=this.J=0}t(sLh,Sa);sLh.prototype.C=function(){return this.J<this.L.C.length};sLh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};sLh.prototype.H=function(){this.L.ria(this.J=this.F);this.F=-1};function tLh(a){var b;null==a?b=0:b=Cb(a)|0;return b}function uLh(a,b){for(var c=tLh(b),d=iLh(a,c),e=0;e<d.length;e++){var f=d[e];if(zb(b,f.Qs()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Rs()}return null}
function vLh(){this.F=0}t(vLh,Sa);vLh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};vLh.prototype.D=function(){return this.L=this.J[this.F++]};vLh.prototype.H=function(){uLh(this.O,this.L.Qs());0!=this.F&&this.F--};function wLh(){this.D=0}t(wLh,Sa);wLh.prototype.Lj=function(){var a=new vLh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function xLh(a){var b=0;for(a=a.Lj();a.C();){var c=a.D();b+=Wba(c);b|=0}return b}function yLh(){}t(yLh,Sa);yLh.prototype.equals=function(a){return null!=a&&a.w_?zb(this.Qs(),a.Qs())&&zb(this.Rs(),a.Rs()):!1};yLh.prototype.Lk=function(){return Wba(this.Qs())^Wba(this.Rs())};yLh.prototype.toString=function(){return Ua(this.Qs())+"="+Ua(this.Rs())};yLh.prototype.w_=!0;function zLh(){this.F=0}t(zLh,yLh);zLh.prototype.Qs=function(){return this.C.value[0]};
zLh.prototype.Rs=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};zLh.prototype.yfa=function(a){return lLh(this.D,this.C.value[0],a)};function ALh(){}t(ALh,Sa);ALh.prototype.C=function(){return!this.J.done};ALh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new zLh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};ALh.prototype.H=function(){kLh(this.F,this.O.value[0])};function BLh(){this.D=this.F=0}t(BLh,Sa);
BLh.prototype.Lj=function(){var a=new ALh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function CLh(a){var b=new wLh;b.C=new Map;b.F=a;a.C=b;b=new BLh;b.C=new Map;b.H=a;a.D=b}function DLh(a,b){return Ta(b,a)?"(this Map)":Ua(b)}function ELh(){}t(ELh,Sa);ELh.prototype.toString=function(){return this.C?Wb(this.D)?this.C.toString():Ua(this.C.toString())+Ua(this.D):this.J};function FLh(a,b){var c=new ELh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ua(c.F)+Ua(c.D);return c}
function GLh(a,b){a.C?Gb(a.C,a.H):a.C=cca(a.F);a=a.C;a.bq=Ua(a.bq)+Ua(b)}function HLh(){}t(HLh,Sa);m=HLh.prototype;m.Qs=g("D");m.Rs=g("C");m.yfa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.w_?zb(this.D,a.Qs())&&zb(this.C,a.Rs()):!1};m.Lk=function(){return Wba(this.D)^Wba(this.C)};m.toString=function(){return Ua(this.D)+"="+Ua(this.C)};m.w_=!0;function ILh(){}t(ILh,HLh);function JLh(a,b){var c=new ILh;c.D=a;c.C=b;return c}
function KLh(a,b,c){var d=tLh(b),e=iLh(a,d);if(0==e.length)a.C.set(d,e);else if(d=jLh(b,e))return d.yfa(c);e[e.length]=JLh(b,c);a.D++;return null}function LLh(a,b,c){for(a=a.xH().Lj();a.C();){var d=a.D();if(zb(b,d.Qs()))return c&&(d=JLh(d.Qs(),d.Rs()),a.H()),d}return null}function MLh(){}t(MLh,Sa);m=MLh.prototype;m.add=function(){throw Gca("Add not supported on this collection").C;};m.clear=function(){for(var a=this.Lj();a.C();)a.D(),a.H()};m.contains=function(a){return dLh(this,a,!1)};
m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return dLh(this,a,!0)};m.Lc=function(a){for(var b=!1,c=this.Lj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Wf=function(){return this.aTa(Array(this.size()))};m.aTa=function(a){var b=this.size();a.length<b&&(a=cLh(Array(b),a));for(var c=a,d=this.Lj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=FLh("[","]"),b=this.Lj();b.C();){var c=b.D();GLh(a,Ta(c,this)?"(this Collection)":Ua(c))}return a.toString()};function NLh(){}t(NLh,MLh);NLh.prototype.clear=function(){this.C.clear()};NLh.prototype.contains=function(a){return this.C.Ju(a)};NLh.prototype.Lj=function(){var a=this.C.xH().Lj(),b=new qLh;b.F=a;return b};NLh.prototype.size=function(){return this.C.size()};function OLh(){}t(OLh,MLh);
OLh.prototype.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.LCa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.Lj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};OLh.prototype.Lk=function(){return xLh(this)};OLh.prototype.Lc=function(a){var b=this.size();if(b<a.size())for(var c=this.Lj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.Lj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};OLh.prototype.LCa=!0;function PLh(){}t(PLh,OLh);m=PLh.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.w_?fLh(this.C,a):!1};m.Lj=function(){var a=new pLh;a.L=this.C;a.R=a.L.D.Lj();a.F=a.R;a.J=hLh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Qs()),!0):!1};m.size=function(){return this.C.size()};function QLh(){}t(QLh,OLh);m=QLh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.IY(a)};m.Lj=function(){var a=this.C.xH().Lj(),b=new rLh;b.F=a;return b};
m.remove=function(a){return this.C.IY(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function RLh(){}t(RLh,Sa);m=RLh.prototype;m.clear=function(){this.xH().clear()};m.IY=function(a){return!!LLh(this,a,!1)};m.Ju=function(a){for(var b=this.xH().Lj();b.C();){var c=b.D().Rs();if(zb(a,c))return!0}return!1};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.I3a||this.size()!=a.size())return!1;for(a=a.xH().Lj();a.C();){var b=a.D();if(!fLh(this,b))return!1}return!0};
m.get=function(a){return gLh(LLh(this,a,!1))};m.Lk=function(){return xLh(this.xH())};m.isEmpty=function(){return 0==this.size()};m.YOb=function(){var a=new QLh;a.C=this;return a};m.pxa=function(){throw Gca("Put not supported on this map").C;};m.remove=function(a){return gLh(LLh(this,a,!0))};m.size=function(){return this.xH().size()};m.toString=function(){for(var a=FLh("{","}"),b=this.xH().Lj();b.C();){var c=b.D();c=Ua(DLh(this,c.Qs()))+"="+Ua(DLh(this,c.Rs()));GLh(a,c)}return a.toString()};
m.values=function(){var a=new NLh;a.C=this;return a};m.replace=function(a,b){return eLh(this,a,b)};m.I3a=!0;function SLh(){}t(SLh,RLh);m=SLh.prototype;m.clear=function(){CLh(this)};m.IY=function(a){var b;Yb(a)?b=null==a?!!jLh(null,iLh(this.C,tLh(null))):void 0!==this.D.C.get(a):b=!!jLh(a,iLh(this.C,tLh(a)));return b};m.Ju=function(a){return mLh(a,this.D)||mLh(a,this.C)};m.xH=function(){var a=new PLh;a.C=this;return a};
m.get=function(a){var b;Yb(a)?b=null==a?gLh(jLh(null,iLh(this.C,tLh(null)))):this.D.C.get(a):b=gLh(jLh(a,iLh(this.C,tLh(a))));return b};m.pxa=function(a,b){var c;Yb(a)?c=null==a?KLh(this.C,null,b):lLh(this.D,a,b):c=KLh(this.C,a,b);return c};m.remove=function(a){var b;Yb(a)?b=null==a?uLh(this.C,null):kLh(this.D,a):b=uLh(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return eLh(this,a,b)};function TLh(){}t(TLh,SLh);
TLh.prototype.replace=function(a,b){return eLh(this,a,b)};function ULh(){}t(ULh,MLh);m=ULh.prototype;m.add=function(a){this.nEa(this.size(),a);return!0};m.nEa=function(){throw Gca("Add not supported on this list").C;};m.clear=function(){this.$Sa(0,this.size())};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.KCa||this.size()!=a.size())return!1;a=a.Lj();for(var b=this.Lj();b.C();){var c=b.D(),d=a.D();if(!zb(c,d))return!1}return!0};
m.Lk=function(){for(var a=1,b=this.Lj();b.C();){var c=b.D();a=31*a+Wba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(zb(a,this.cqa(b)))return b;return-1};m.Lj=function(){var a=new nLh;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(zb(a,this.cqa(b)))return b;return-1};m.ria=function(){throw Gca("Remove not supported on this list").C;};
m.$Sa=function(a,b){var c=new oLh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.KCa=!0;function VLh(){}t(VLh,ULh);m=VLh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.nEa=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.cqa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};
m.Lj=function(){var a=new sLh;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.ria=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.ria(a);return!0};m.size=function(){return this.C.length};m.Wf=function(){var a=this.C;return cLh(a.slice(0,this.C.length),a)};
m.aTa=function(a){var b=this.C.length;a.length<b&&(a=cLh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.$Sa=function(a,b){this.C.splice(a,b-a)};m.KCa=!0;function WLh(a){var b=new Tsa;return Oj(b,6,a)}function XLh(){var a=gx.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function YLh(a){a.Q_a=!1;a.P_a=!1}function ZLh(a,b){return!(!a.D[b]&&!a.J[b])}var $Lh={};function O6(a){J(this,a,0,1,null,null)}v(O6,I);
O6.prototype.ea=function(){var a=new E;aMh(this,a);return Y(a)};function aMh(a,b){Aj(a,b,$Lh,O6.prototype.getExtension)}function bMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&pj(b,2,c);c=K(a,3);null!=c&&pj(b,3,c)}function cMh(a){J(this,a,0,-1,null,null)}v(cMh,I);m=cMh.prototype;m.ea=function(){var a=new E;bMh(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};
m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function dMh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function eMh(a){J(this,a,0,-1,null,null)}v(eMh,I);eMh.prototype.ea=function(){var a=new E;dMh(this,a);return Y(a)};
function fMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,cMh,3);null!=c&&b.C(3,c,bMh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,eMh,7);null!=c&&b.C(7,c,dMh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function gMh(a){J(this,a,0,-1,null,null)}v(gMh,I);m=gMh.prototype;m.ea=function(){var a=new E;fMh(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.fd=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Kc=function(a){return L(this,9,a)};var hMh=[8],iMh=[5];function jMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function P6(a){J(this,a,0,-1,null,null)}v(P6,I);m=P6.prototype;m.ea=function(){var a=new E;jMh(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};
m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function kMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,O6,3);null!=c&&b.C(3,c,aMh);c=K(a,4);null!=c&&b.D(4,c)}function lMh(a){J(this,a,0,-1,null,null)}v(lMh,I);m=lMh.prototype;m.ea=function(){var a=new E;kMh(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function mMh(a,b){a=N(a,sY,1);null!=a&&b.C(1,a,M8e)}function nMh(a){J(this,a,0,-1,null,null)}v(nMh,I);nMh.prototype.ea=function(){var a=new E;mMh(this,a);return Y(a)};
function Q6(a){return N(a,lMh,9)}function oMh(a,b){var c=N(a,sY,1);null!=c&&b.C(1,c,M8e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&qj(b,3,c);c=K(a,4);null!=c&&qj(b,4,c)}function pMh(a){J(this,a,0,-1,null,null)}v(pMh,I);pMh.prototype.ea=function(){var a=new E;oMh(this,a);return Y(a)};pMh.prototype.D=function(a){L(this,2,a)};
function qMh(a,b){var c=K(a,1);null!=c&&qj(b,1,c);c=K(a,2);null!=c&&qj(b,2,c);c=K(a,3);null!=c&&qj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Nj(a,pMh,5);0<c.length&&wj(b,5,c,oMh)}function rMh(a){J(this,a,0,-1,iMh,null)}v(rMh,I);rMh.prototype.ea=function(){var a=new E;qMh(this,a);return Y(a)};function sMh(a){J(this,a,0,-1,hMh,null)}v(sMh,I);m=sMh.prototype;m.ea=function(){var a=new E;tMh(this,a);return Y(a)};
function tMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,jMh);c=N(a,P6,4);null!=c&&b.C(4,c,jMh);c=N(a,sY,5);null!=c&&b.C(5,c,M8e);c=N(a,gMh,14);null!=c&&b.C(14,c,fMh);c=K(a,6);null!=c&&qj(b,6,c);c=K(a,7);null!=c&&qj(b,7,c);c=R6(a);0<c.length&&wj(b,8,c,tMh);c=Q6(a);null!=c&&b.C(9,c,kMh);c=N(a,LT,21);null!=c&&b.C(21,c,qhe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&qj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,nMh,18);null!=c&&b.C(18,c,mMh);c=N(a,rMh,19);null!=c&&b.C(19,c,qMh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Kc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,P6,3)};m.setContent=function(a){return Oj(this,3,a)};m.Es=function(){return null!=K(this,3)};function R6(a){return Nj(a,sMh,8)}
m.getOrigin=function(){return K(this,17)};function S6(a){return N(a,sMh,2)}function T6(a){J(this,a,0,-1,null,null)}v(T6,I);function uMh(a){J(this,a,0,-1,null,null)}v(uMh,I);m=T6.prototype;m.ea=function(){var a=new E;vMh(this,a);return Y(a)};
function vMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=S6(a);null!=c&&b.C(2,c,tMh);c=K(a,3);null!=c&&qj(b,3,c);c=K(a,4);null!=c&&qj(b,4,c);c=a.Op();null!=c&&b.C(5,c,wMh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Kc=function(a){return L(this,1,a)};m.Op=function(){return N(this,uMh,5)};m.tu=function(a){return Oj(this,5,a)};m=uMh.prototype;m.ea=function(){var a=new E;wMh(this,a);return Y(a)};
function wMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,jMh);c=N(a,T6,3);null!=c&&b.C(3,c,vMh)}m.getId=function(){return K(this,1)};m.Kc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,P6,2)};m.setTitle=function(a){return Oj(this,2,a)};function xMh(a){J(this,a,"gs",-1,null,null)}v(xMh,I);xMh.prototype.ea=function(){var a=new E;var b=this.kp();null!=b&&a.C(1,b,N8e);return Y(a)};xMh.we="gs";xMh.prototype.kp=function(){return N(this,tY,1)};
var yMh=[1,2],zMh=[1];function AMh(a){J(this,a,"sr",-1,zMh,null)}v(AMh,I);AMh.prototype.ea=function(){var a=new E;var b=Nj(this,T6,1);0<b.length&&wj(a,1,b,vMh);b=K(this,2);null!=b&&qj(a,2,b);b=K(this,3);null!=b&&qj(a,3,b);return Y(a)};AMh.we="sr";function BMh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function CMh(a){J(this,a,0,-1,null,null)}v(CMh,I);CMh.prototype.ea=function(){var a=new E;BMh(this,a);return Y(a)};CMh.prototype.getId=function(){return K(this,1)};
CMh.prototype.Kc=function(a){return L(this,1,a)};function DMh(a){J(this,a,"u",-1,yMh,null)}v(DMh,I);DMh.prototype.ea=function(){var a=new E;var b=Nj(this,T6,1);0<b.length&&wj(a,1,b,vMh);b=Nj(this,CMh,2);0<b.length&&wj(a,2,b,BMh);return Y(a)};DMh.we="u";
function EMh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Cgf(c,a.H):Dgf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Bgf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new cgf(d.D.metadata,d.F):igf),e=b(d.C));if(e)return d.getUrl()}}return null}function FMh(a){null===a.F&&(a.F=EMh(a.C,function(b){return!!b&&!dgf(b)}),null===a.F&&(a.F=Ugf(a,EMh)));return a.F}function GMh(){}t(GMh,OLh);m=GMh.prototype;m.add=function(a){return null==this.C.pxa(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.IY(a)};m.isEmpty=function(){return this.C.isEmpty()};m.Lj=function(){return this.C.YOb().Lj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.LCa=!0;function HMh(a,b,c,d){TB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(HMh,TB);HMh.prototype.Bw=function(){this.fA=[this.C?J8a(this.element):this.element.offsetLeft,this.element.offsetTop];HMh.Ua.Bw.call(this)};function IMh(a,b){A.call(this);this.Kg=a;this.C=b}
v(IMh,A);m=IMh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.Cf=function(a,b,c){this.Kg.D.Cf(this.C+":"+a,u(this.DHa,this,b),c)};m.WM=function(a){this.D=u(this.DHa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Kg.D.send(this.C+":"+a,b)};m.DHa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ja=function(){this.Kg=this.Kg.C[this.C]=null};
function JMh(a){A.call(this);this.D=a;this.C={};this.D.WM(u(this.F,this))}v(JMh,A);function KMh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new IMh(a,b);return a.C[b]=c}JMh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
JMh.prototype.Ja=function(){Id(this.C,function(a){Jf(a)});Jf(this.D);delete this.C;delete this.D};var LMh={N3a:"all",Xxc:"important",NONE:"none"};function MMh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function NMh(a){var b=new Ssa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new tzd(b)}var OMh=[1];
function PMh(a){J(this,a,0,-1,null,null)}v(PMh,I);PMh.prototype.ea=function(){var a=new E;var b=this.kp();null!=b&&a.C(1,b,N8e);return Y(a)};PMh.prototype.kp=function(){return N(this,tY,1)};function QMh(a){J(this,a,0,-1,null,null)}v(QMh,I);QMh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};QMh.prototype.Qf=function(){return K(this,1)};
function RMh(a){J(this,a,0,-1,OMh,null)}v(RMh,I);RMh.prototype.ea=function(){var a=new E;var b=Nj(this,T6,1);0<b.length&&wj(a,1,b,vMh);b=K(this,2);null!=b&&qj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&qj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var SMh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,TMh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function UMh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return De(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(SMh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,k=""):(l||(e="http://"),(k=h.match(TMh))&&!Ed(h,"(")?(h=k[1],k=k[2]):k="");b.href=e+h;d.push(Fe("a",b,h));d.push(k);return""});return Ge(d)}
var VMh={aAc:"docos-insert-discussion",Tkc:"docos-cancel-insert-discussion",tHc:"docos-new-doco",uHc:"docos-new-reply",ooc:"docos-delete-doco",qoc:"docos-delete-reply",$rc:"docos-edit-doco",bsc:"docos-edit-reply",asc:"docos-edit-draft",Zjc:"docos-before-highlight-doco",wxc:"docos-highlight-doco",nPc:"docos-speak-doco",KMc:"docos-resolve-doco",Qjc:"docos-back-to-document",Ghc:"docos-accept-suggestion",BMc:"docos-reject-suggestion",ymc:"docos-convert-doco",poc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",oTc:"docos-update-sort",NTc:"docos-vote-doco",OTc:"docos-vote-reply",WGc:"mouse-hover-doco-view"};function WMh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function U6(){return new WMh("")}function V6(a){return new XMh(a)}function XMh(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function W6(a,b){a.L=b;return a}function YMh(a){a.J=!0;return a}function ZMh(a){a.F=!1;return a}function $Mh(a,b){a.D=b;return a}
function aNh(a){a.H=!0;return a}function X6(a){return new WMh(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function Y6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",Y6,void 0);pa("docos.api.Event",Y6,void 0);Y6.prototype.getType=g("type");Y6.prototype.getType=Y6.prototype.getType;Y6.prototype.getAnchors=g("anchors");Y6.prototype.getAnchors=Y6.prototype.getAnchors;
Y6.prototype.getDocos=g("docos");Y6.prototype.getDocos=Y6.prototype.getDocos;Y6.prototype.isNonAnchored=g("nonAnchored");Y6.prototype.isNonAnchored=Y6.prototype.isNonAnchored;Y6.prototype.isUserInitiated=g("userInitiated");Y6.prototype.isUserInitiated=Y6.prototype.isUserInitiated;Y6.prototype.getArgs=g("args");Y6.prototype.getArgs=Y6.prototype.getArgs;Y6.prototype.canPreventDefault=ea(!1);Y6.prototype.canPreventDefault=Y6.prototype.canPreventDefault;
Y6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};Y6.prototype.preventDefault=Y6.prototype.preventDefault;Y6.prototype.getAnchorIds=g("D");Y6.prototype.getAnchorIds=Y6.prototype.getAnchorIds;Y6.prototype.getDocoHandles=g("F");Y6.prototype.getDocoHandles=Y6.prototype.getDocoHandles;function bNh(a){return new Z6(a)}Y6.builder=bNh;function Z6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",Z6,void 0);
Z6.prototype.addAnchorId=function(a){this.C.push(a);return this};Z6.prototype.addAnchorId=Z6.prototype.addAnchorId;Z6.prototype.setAnchorIds=function(a){this.C=a;return this};Z6.prototype.setAnchorIds=Z6.prototype.setAnchorIds;Z6.prototype.addDocoHandle=function(a){this.D.push(a);return this};Z6.prototype.addDocoHandle=Z6.prototype.addDocoHandle;Z6.prototype.setDocoHandles=function(a){this.D=a;return this};Z6.prototype.setDocoHandles=Z6.prototype.setDocoHandles;
Z6.prototype.setNonAnchored=function(a){this.F=a;return this};Z6.prototype.setNonAnchored=Z6.prototype.setNonAnchored;Z6.prototype.setUserInitiated=function(a){this.H=a;return this};Z6.prototype.setUserInitiated=Z6.prototype.setUserInitiated;Z6.prototype.setApiEventArgs=function(a){this.args=a;return this};Z6.prototype.setApiEventArgs=Z6.prototype.setApiEventArgs;Z6.prototype.isEmpty=function(){return ad(this.C)&&ad(this.D)&&!this.args};Z6.prototype.isEmpty=Z6.prototype.isEmpty;
Z6.prototype.build=function(){return new Y6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new i5)};Z6.prototype.build=Z6.prototype.build;function cNh(a,b){Y6.call(this,a,[],[],!1,!1,new i5);this.interval=this.interval=b}v(cNh,Y6);pa("docos.api.TimedEvent",cNh,void 0);function dNh(){this.C={};this.D={}}function eNh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Ho(c,"end",function(){delete f[b];delete h[b];e()})}function fNh(a,b){(a=a.C[b])&&a.stop()}dNh.prototype.getDuration=function(a){return this.D[a]};function gNh(a){var b=a.gi,c=a.rB,d=a.Qe;a=a.hR;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function hNh(a){var b=a.size,c=a.Qe,d=a.Dcb,e=a.hoa;a=a.u1;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(Ax(d))+'"':"")+(e?' data-hovercard-id="'+T(e)+'"':"")+(a?' data-name="'+T(a)+'"':"")+"/>")};function iNh(a,b,c){b=c||b;c=a.cFa;var d=a.bk,e=a.ao;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(hNh({size:32,Qe:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={bk:d,ao:e};d=e.bk;e=e.ao;var f='aria-label="'+
yx("Mark as done and hide discussion.");b=""+R(FA({bd:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:xx(f+'"'),style:e?4:0,content:wx(""+R(gNh({gi:"docos-icon-accept-checkmark-black",rB:"docos-icon-accept-checkmark-size",Qe:"docos-icon-checkmark jfk-button-img"}))),XN:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function jNh(a,b){return a?kNh($6(a),b):!1}function lNh(a,b){return a?jNh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function mNh(a,b){a=$6(a);return nNh(a,b)}function oNh(a,b,c){a=nNh(a,b,!0);return c?(new pB("Reassign to {user}")).format({user:a}):(new pB("Assign to {user}")).format({user:a})}function nNh(a,b,c){return kNh(a,b)?c?"you":"You":a7(a)}function kNh(a,b){return null!=a.getEmail()&&null!=b.gh().getEmail()&&a.getEmail()==b.gh().getEmail()};function b7(a,b){Q.call(this,b);this.Tc=pNh(a);this.C=c7(a)}v(b7,Q);b7.prototype.zd=!1;b7.prototype.Ia=function(){b7.Ua.Ia.call(this);this.zd&&(this.Fd(),qNh(this))};function rNh(a){a.zd||(a.zd=!0,a.getHandler().listen(a.C,"r",a.Fd),a.Fd(),qNh(a))}b7.prototype.Fd=function(){if(this.qb()){var a=this.getElement(),b=this.C.F;by(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));by(this.getElement(),"docos-offline",this.C.R)}};
function d7(a,b,c,d){a.Tc&&(d=a.Tc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function qNh(a){a.qb()&&d7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.qh)}b7.prototype.qh=function(a){a.stopPropagation()};function sNh(a,b,c){this.C=a;this.D=b;this.F=c};function tNh(a,b,c,d){b7.call(this,a,b);this.H=a;this.Kc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new GA(null);this.qa(this.R)}t(tNh,b7);m=tNh.prototype;
m.Ba=function(){var a=this.oa(),b=e7(uNh(this)),c=Ky(iNh,{cFa:mNh(b,this.C),bk:this.C.bk(),ao:"legacy"!=this.C.D});this.jb(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);d7(this,this.R,"action",this.eRb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=oV(a,"IMG","docos-assigneeview-avatar",c);a=$6(b);vNh(f7(this.H),this.D,a.D,a7(a));wNh(this,b)};
m.Ia=function(){b7.prototype.Ia.call(this);var a=e7(uNh(this));a=$6(a);xNh(this,a,this.F);xNh(this,a,this.D)};
function wNh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!jNh(b,a.C)||"black"==eA()&&vf||"material_yellow"==a.C.D||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=lNh(b,a.C);ay(a.getElement(),["docos-assignee-you","docos-assignee-other"]);ay(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);ay(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
ay(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Yx(a.L,d);Yx(a.O,e);Yx(a.J,c);Yx(a.getElement(),b)}function uNh(a){return g7(a.H).ud(a.getId())}m.update=function(){var a=e7(uNh(this)),b=mNh(a,this.C)||"";xp(this.F,b);h7(f7(this.H),this.D);b=$6(a);vNh(f7(this.H),this.D,b.D,a7(b));wNh(this,a);xNh(this,b,this.F);xNh(this,b,this.D)};
function xNh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.eRb=function(a){a&&a.stopPropagation();(a=uNh(this))&&!a.isResolved()&&(a=i7(this.H),this.dispatchEvent("br"),a.zf("docos-resolve-doco").mb(new sNh(this.getId(),!0,yNh(this.V))),this.dispatchEvent("ar"))};m.vd=function(){b7.prototype.vd.call(this)};
m.Ja=function(){b7.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function zNh(a,b){void 0!==b.getId()&&a.Kc(b.getId());var c=S6(b);if(void 0!==c){var d=S6(a);c?d?ANh(d,c):Oj(a,2,c):Oj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Op();if(void 0!==d)if(c=a.Op(),d)if(c){void 0!==d.getId()&&c.Kc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?BNh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,T6,3);void 0!==d&&(e=N(c,T6,3),d?e?zNh(e,d):Oj(c,3,d):Oj(c,3,void 0))}else a.tu(d);else a.tu(void 0);void 0!==Cj(b,
6)&&(c=Cj(b,6),L(a,6,c));void 0!==Cj(b,7)&&(c=Cj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Cj(b,9)&&(b=Cj(b,9),L(a,9,b))}
function ANh(a,b){void 0!==b.getId()&&a.Kc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?BNh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,P6,4);void 0!==c&&(d=N(a,P6,4),c?d?BNh(d,c):Oj(a,4,c):Oj(a,4,void 0));c=N(b,sY,5);void 0!==c&&(c?Oj(a,5,c):Oj(a,5,void 0));d=N(b,gMh,14);if(void 0!==d)if(c=N(a,gMh,14),d)if(c){void 0!==d.getName()&&c.fd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,cMh,3);if(void 0!==e){var f=
N(c,cMh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Oj(c,3,e);else Oj(c,3,void 0)}void 0!==Cj(d,4)&&(e=Cj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,eMh,7);void 0!==f&&(e=N(c,eMh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Oj(c,7,f):Oj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Oj(a,14,d);else Oj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));R6(b)&&(c=kd(R6(a),R6(b)),Qj(a,8,c));d=Q6(b);void 0!==d&&(c=Q6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,O6,3)&&(e=N(d,O6,3),
Oj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Oj(a,9,d):Oj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Cj(b,12)&&(c=Cj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Cj(b,15)&&(c=Cj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,nMh,18);void 0!==c&&(e=N(a,nMh,18),c?e?(d=N(c,sY,1),void 0!==d&&(c=N(e,sY,1),d?c?(void 0!==
d.getName()&&c.fd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Kc(d.getId()),void 0!==Cj(d,5)&&(e=Cj(d,5),L(c,5,e)),void 0!==Cj(d,6)&&(e=Cj(d,6),L(c,6,e)),void 0!==Cj(d,7)&&(e=Cj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Oj(e,1,d):Oj(e,1,void 0))):Oj(a,18,c):Oj(a,18,void 0));d=N(b,rMh,19);void 0!==d&&(c=N(a,rMh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Nj(d,pMh,5)&&(d=Nj(d,pMh,5),Qj(c,5,d))):Oj(a,19,d):Oj(a,19,void 0));void 0!==N(b,LT,21)?(c=N(b,LT,21),Oj(a,21,c)):void 0!==b.getContent()&&Oj(a,21,void 0);void 0!==Cj(b,22)&&(c=Cj(b,22),L(a,22,c));void 0!==Cj(b,23)&&(b=Cj(b,23),L(a,23,b))}function BNh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function CNh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Cd(b)?Dd(b.toLowerCase()):null;this.L=c;this.D=d;this.dd=e;this.H=f;this.C=h}CNh.prototype.getName=g("J");CNh.prototype.getEmail=g("F");CNh.prototype.getId=g("dd");function a7(a){a=Cd(ef(a.getName()))?a.getEmail():a.getName();return ef(a)}function DNh(a){var b=ENh(FNh(GNh(HNh((new j7).fd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Kc(a.getId()||""),!!Cj(a,5));a=!!Cj(a,7);b.D=a;return INh(b)}
function JNh(a){var b=(new sY).Kc(a.getId()||""),c=a.getName();null!==c&&b.fd(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function j7(){}j7.prototype.fd=function(a){this.H=a;return this};function HNh(a,b){a.C=b&&!Cd(b)?Dd(b.toLowerCase()):null;return a}function GNh(a,b){a.L=b;return a}function FNh(a,b){a.J=b;return a}j7.prototype.Kc=function(a){this.dd=a;return this};function ENh(a,b){a.F=b;return a}
function INh(a){return new CNh(a.H,a.C,a.L,a.J,a.dd,a.F,a.D)};function KNh(a){N(a,sY,1);this.C=a}function $6(a){a=N(a.C,sY,1);return DNh(a)}KNh.prototype.equals=function(a){return Tj(this.C,a.C)};function LNh(a){var b=new nMh;a=JNh(a);b=Oj(b,1,a);return new KNh(b)};function MNh(a){N(a,sY,1);K(a,2);this.C=a};function NNh(a){this.C=a}function ONh(a,b){var c=[];a=Nj(a.C,pMh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new MNh(e))}return c}function k7(a){return null!=K(a.C,4)?K(a.C,4):0};function PNh(){var a=QNh;this.C=[];this.D={};this.F=a}PNh.prototype.text=function(a){this.C.push(a)};function RNh(a,b){if(a.D[b])a.C.push(b);else{var c=new SNh(b,a.C.length);a.C.push(c);a.D[b]=c}}function TNh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Tc(Nd(a.D),function(e){return e.D>c.D});rd(d,function(e,f){return qd(e.D,f.D)});a.C.push(new UNh(a.F[b].close,d,a.F))}else a.C.push(b)}PNh.prototype.getResult=function(){return this.C.join("")};
function SNh(a,b){this.F=a;this.D=b;this.C=null}SNh.prototype.getName=g("F");SNh.prototype.toString=function(){return null!==this.C?this.C:this.F};function UNh(a,b,c){this.F=a;this.C=b;this.D=c}UNh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function VNh(a){a=Ce(UMh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new WNh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new XNh(a.substring(0,c))),a=a.substring(c);b.push(new WNh(a));return new YNh(b)}function ZNh(a){var b=new PNh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=$Nh.test(d);d=aOh.test(d);f?d?(f=b,f.D[e]?TNh(f,e):RNh(f,e)):RNh(b,e):d?TNh(b,e):b.text(e)}return new WNh(b.getResult())}
function bOh(a){return new WNh(a.replace(cOh,"<br>"))}var cOh=/\r\n|\n|\r/g,QNh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},$Nh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,aOh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function WNh(a){this.Ze=a}WNh.prototype.C=function(a){return a(this.Ze)};WNh.prototype.toString=g("Ze");function XNh(a){this.Ze=a}XNh.prototype.C=function(){return this};XNh.prototype.toString=g("Ze");
function YNh(a){this.Ci=a}YNh.prototype.C=function(a){var b=Uc(this.Ci,function(c){return c.C(a)});return new YNh(b)};YNh.prototype.toString=function(){return this.Ci.join("")};function dOh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=dOh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Oj(a,4,void 0),Oj(a,9,void 0));if(void 0!==N(a,LT,21)||void 0!==a.getContent())this.D=null;ANh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return Tj(this.C,a.C)};
m.ww=function(){var a=N(this.C,sY,5)||new sY;return DNh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Tx=function(){this.H||(this.H=cW(K(this.C,6)));return this.H};m.YP=function(){if(void 0===K(this.C,7))return this.Tx();this.J||(this.J=cW(K(this.C,7)));return this.J};function eOh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=cW(K(a.C,13))),b=a.F;if(!b||a.YP()>b)b=a.YP();return b}
function fOh(a){if(void 0!==Q6(a.C)&&("text/html"==Q6(a.C).getType()||"text/plain"==Q6(a.C).getType())){var b=Q6(a.C).getValue();b="text/html"==Q6(a.C).getType()?b:Ye(b)}return b||""}m.l3=function(){if(void 0!==Q6(this.C)){var a=N(Q6(this.C),O6,3);if(a)return a.Wf()}return null};m.Tfa=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.Ufa=function(){if(null!=N(this.C,LT,21)&&!this.D){var a=N(this.C,LT,21);this.D=Ie(K(a,2)||"",null)}return this.D};
m.XA=function(){return null!=N(this.C,P6,4)?N(this.C,P6,4).getValue()||"":""};m.swa=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.eR=function(){return!!Cj(this.C,12)};function l7(a){return!!K(a.C,13)}m.EB=function(){var a=N(this.C,nMh,18);return null!=a?new KNh(a):null};m.Hz=function(){var a=N(this.C,rMh,19);return null!=a?new NNh(a):null};m.zk=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.AH=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function gOh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Uua=function(){return!!Cj(this.C,22)};m.Pua=function(){return 2==this.getOrigin()};function m7(a,b){this.C=new sMh;L(this.C,11,a);b&&b!=a&&this.C.Kc(b)}function hOh(a,b){var c=R6(a.C);c.push(b.C);Qj(a.C,8,c);return a}function iOh(a,b){L(a.C,16,b);return a}
function n7(a){L(a.C,12,!0);return a}function jOh(a,b){L(a.C,6,b);return a}function kOh(a){var b=La();L(a.C,13,b);return a}function lOh(a){L(a.C,13,0);return a}function mOh(a,b){Oj(a.C,18,b.C);L(a.C,10,4);return a}function nOh(a,b){b=JNh(b);Oj(a.C,5,b);return a}function oOh(a){L(a.C,20,1);return a}function o7(a,b,c){b=Dd(b);var d=(new P6).setType("text/plain").setValue(b);Oj(a.C,4,d);b=(new P6).setType("text/html").setValue(VNh(b).C(ZNh).C(bOh).toString());a.C.setContent(b);L(a.C,7,c);return a};function pOh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function qOh(a,b){return a.F.getId()==b.ww().getId()}function rOh(a,b){return qOh(a,b)&&!!b.XA()&&("suggest"==a.C||"full"==a.C)}function sOh(a,b){return b instanceof dOh&&void 0!==b.Tfa()?!1:(a.H||qOh(a,b))&&(!!b.XA()||b.zk())&&("suggest"==a.C||"full"==a.C)}function tOh(a,b){return a.D&&!b.zk()&&("suggest"==a.C||"full"==a.C)}pOh.prototype.kva=g("D");function uOh(a){return"suggest"==a.C||"full"==a.C};function vOh(a){J(this,a,0,-1,null,null)}v(vOh,I);vOh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function wOh(a,b){this.D=a;this.C=b||null}wOh.prototype.So=function(a,b,c){this.D(a,b,c)};wOh.prototype.JAa=function(a){this.C&&this.C(a)};function xOh(a,b,c,d,e){d=d?d.Wf():void 0;e=e?e.Wf():void 0;a(b,c,d,e)};function yOh(a){No.call(this);this.M1(a)}v(yOh,No);m=yOh.prototype;
m.M1=function(a){var b=a.kd;this.Zg=b;if(void 0===b.gh())throw Error("Invalid or missing user.");var c=b.gh();this.IHa=INh(ENh(FNh(GNh(HNh((new j7).fd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Kc(c.getId()||""),!!Cj(c,5)));this.jea=!!Cj(b,40);this.S$=!Cj(b,20);this.T$=K(b,11);this.HJa=!!Cj(b,12);this.Koa=K(b,6);this.HHa=void 0!==a.l?!!a.l:!!Cj(b,25);this.IYa=K(b,21);this.Moa=K(b,23);this.JHa=K(b,24);this.YRa=K(b,31);void 0!==a.i?this.Loa=a.i:this.Loa=void 0;if(a=uY(b))this.N1=K(a,1);this.dispatchEvent("r")};
m.Koa=null;m.YRa=null;m.Loa=void 0;m.T$=null;m.HHa=!1;m.jea=!1;m.IYa=null;m.Moa=null;m.JHa=null;m.S$=!0;m.HJa=!1;m.IHa=null;m.N1=null;m.Zg=null;m.gh=g("IHa");function zOh(a,b,c){function d(f){return c?ld(f):f}var e=null;a&&ya(a)&&(e=d(a),ya(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function AOh(a){this.C=a};function BOh(){}BOh.prototype.install=function(a){a=a&&Ro(a);Eab(a)};BOh.prototype.C=function(a,b){cA(a,b,void 0)};BOh.prototype.qf=function(a){a=a&&Ro(a);Jab(a)};BOh.prototype.D=function(a,b){$V(a,b)};function COh(a,b){b=void 0===b?function(){return yNe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ya(c)&&(c=zOh(c,"kd",!0),c.unshift("kd"),a.kd=new O8e(c));yOh.call(this,a);this.nj=b}t(COh,yOh);m=COh.prototype;
m.M1=function(a){yOh.prototype.M1.call(this,a);this.J=this.J||v4b("disco");var b;if(!(b=this.Pa)){b=v4b("usp_dm");var c=new XLd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Pa=b;this.Fi=a["anchor-is-orphaned-fn"]||fe;this.Ca=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new AOh(a.containerdiv));this.Zr=b;this.Wb=a.storage||null;this.Tc=!!a["storage-ro"];this.Vd=!!a["disable-focus"];this.Gz=!!a.so;this.bf=a.docscroller||null;this.Wn=a["inactive-doco-indent"]||10;this.Ta=
a["instant-docos-div"]||null;this.ob=a["enable-new-delete-ui"]||!1;this.fb=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new wOh(b,c));this.Nk=a["memory-monitor-fn"]||null;this.Cj=a.layout||null;this.pj=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.f2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.$a=
b;this.Mc=a.quotefn||null;this.Ad=a["user-color-provider-fn"]||null;this.tE=a["user-color-provider-from-name-fn"]||null;this.$r=a.quoterenderfn||null;this.qh=!!a["hide-notification"];this.R=!!a.offline;this.Ec=!!a.nocss;this.Fc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.zd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Cj(this.Zg,8);this.F=new pOh(this.gh(),c?c:d?"readonly":"full",!!Cj(this.Zg,
3),b);this.Qa=!!a.iph;this.Xn=a.maxheight||0;this.jt=!!a.showerrors;this.Zc=a["stream-button"]||null;this.$d=!!a["disable-spfw"];this.Oa=a["anchor-mutate-fn"]||null;DOh(this)||(this.Oa=null);this.If=!!a["enable-comment-button"];this.Ka=!!a["enable-gsuite-embedding"];this.wg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.nm=a["acl-fix-fn"]||null;this.Yj=a["load-acl-fixer-fn"]||null;this.ze=a["intercept-docos-edit-fn"]||null;this.gj=a["is-an-illegal-write-fn"]||null;this.Fd=
!!a["defer-first-sync"];this.Fm=!!a["enable-lazy-loading"];this.Ha=!!a["enable-all-docos-in-anchored-stream"];this.Dz=a["stream-pane-banner-message"]||null;this.Cz=a["stream-pane-banner-learn-more-url"]||null;this.Ym=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Za=(b=a["impression-recorder-fn"])?Ha(xOh,b):null;this.Xh=a.hidepromofn;this.At=a.showpromofn;this.Ll=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new BOh;this.qm=a["browser-app-clipboard"]||
null;this.Xa=a["modal-dialog-z-index"]||null;this.Me=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Da=a["static-input-pane-message"]||null;this.tb=a["drive-id"]||null;this.pb=!!a["enable-roving-tabindex"];this.Vg=a["auto-complete-factories"]||[];this.Cn=a["overflow-menu-items"]||[];this.D=a["ui-version"]||"legacy";this.Pb=a["link-opener"]||null;this.dispatchEvent("r")};function EOh(a){return null!=K(a.Zg,44)&&null!=K(uY(a.Zg),51)&&!!Cj(uY(a.Zg),51)}
m.CJ=function(){if(this.qh)return!1;var a=Cj(this.Zg,26);return null!=a?!!a:!0};m.Sea=function(){return!!Cj(this.Zg,43)};m.ava=function(){var a=!1,b=uY(this.Zg);b&&(a=Cj(b,2));return!!Cj(this.Zg,43)&&!!a};function FOh(a){return!!uY(a.Zg)&&!!Cj(uY(a.Zg),32)}function DOh(a){return a.Zg&&!!Cj(a.Zg,18)}m.bk=function(){return!!Cj(this.Zg,39)};m.f2=function(){return null!=K(this.Zg,44)&&!!Cj(uY(this.Zg),53)&&!this.gh().C};function GOh(a){return a.nj()&&!!Cj(a.Zg,10)&&!a.Vd}
function HOh(a){return Cj(a.Zg,10)?a.Vg:[]}function IOh(a){return!!uY(a.Zg)&&!!Cj(uY(a.Zg),50)};function JOh(a,b,c,d,e,f){b7.call(this,a,c);this.D=c7(a);this.Oa=Dm(Mc(y(),"docs-seu")||this.D.Me||window.location.href);this.Oc=new Hz(c,new KOh(d));this.F=new $z("",this.Oc,void 0,c);this.F.jI=!0;this.Ga(this.F);this.J=null;$c(e,"edit")&&(this.J=new Cz("Edit"),this.J.Ic("docos-edit-menuitem"),this.Oc.Ga(this.J,!0));this.H=null;$c(e,"delete")&&(this.H=new Cz("Delete"),this.H.Ic("docos-delete-menuitem"),this.Oc.Ga(this.H,!0));this.R=null;$c(e,"reanchor")&&FOh(this.D)&&(this.R=new Cz("Reanchor comment"),
this.R.Ic("docos-reanchor-menuitem"),this.Oc.Ga(this.R,!0));this.xa=null;$c(e,"disable")&&(this.xa=new Cz("Turn off suggested action items"),this.xa.Ic("docos-disable-menuitem"),this.Oc.Ga(this.xa,!0));this.Ha=null;$c(e,"help")&&(this.Ha=new Cz("Learn more"),this.Ha.Ic("docos-help-menuitem"),this.Oc.Ga(this.Ha,!0));d=g7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ka=f?p7(d,f):null;this.V=null;c7(a).F.kva()&&$c(e,"resolve")&&(this.V=new Cz(""),this.Oc.Ga(this.V,
!0));this.O=this.Ca=this.ma=null;$c(e,"link")&&(this.Ca=new Cz("Link to this comment..."),this.Ca.Ic("docos-link-menuitem"),this.Oc.Ga(this.Ca,!0),this.O=new tdf(c,this.D.qm||void 0,void 0,null===this.D.Xa?void 0:this.D.Xa),this.Ga(this.O),Yx(qy(this.O),"docos"),this.O.setTitle("Link to this comment..."),LOh(this,b));this.Da=c7(a).Cn.map(function(h){return{B9a:h,ELa:new Cz(h.getLabel())}});for(a=0;a<this.Da.length;a++)this.Oc.Ga(this.Da[a].ELa,!0)}t(JOh,b7);m=JOh.prototype;
m.Gc=function(a){b7.prototype.Gc.call(this,a);a=this.oa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Tc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Na(!0),this.D.C.C(a,"More options..."),this.F.Fe("More options..."))};
m.Ia=function(){var a=this;b7.prototype.Ia.call(this);MOh(this);d7(d7(d7(this,this.Oc.getElement(),"click",this.QTa),this.F.getElement(),"click",this.QTa),this.D,"r",this.Asb);d7(this,this.F.getElement(),"keyup",this.rec);NOh(this,this.J,this.Afc);NOh(this,this.H,this.yfc);NOh(this,this.Ca,this.p9b);NOh(this,this.R,this.Efc);NOh(this,this.V,this.Ffc);NOh(this,this.xa,this.zfc);NOh(this,this.Ha,this.Dfc);for(var b={},c=0;c<this.Da.length;b={O8:b.O8},c++)b.O8=this.Da[c],NOh(this,b.O8.ELa,function(d){return function(){d.O8.B9a.C((a.Ka||
a.L).XA())}}(b))};m.Sh=function(a){this.oa().Qi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){MOh(this)};function LOh(a,b){if(a.O){var c=a.Oa.clone();b=c.D.set("disco",b);a.O.CUa(xm(c,b).toString())}}function NOh(a,b,c){b&&d7(a,b,"action",c)}m.Ffc=function(a){tOh(this.D.F,this.L)&&(this.dispatchEvent(new OOh("r")),POh(this,a))};m.Afc=function(a){QOh(this)&&(this.dispatchEvent(new OOh("e")),POh(this,a))};
m.zfc=function(a){this.dispatchEvent(new OOh("i"));POh(this,a)};m.yfc=function(a){ROh(this)&&(this.F.Hd(!1),this.dispatchEvent(new OOh("d")),POh(this,a))};m.Efc=function(a){this.dispatchEvent(new OOh("ra"));POh(this,a)};m.Dfc=function(a){this.dispatchEvent(new OOh("h"));POh(this,a)};m.p9b=function(a){POh(this,a);this.O.setVisible(!0)};function POh(a,b){b.stopPropagation();a.F.Hd(!1)}m.rec=function(a){27==a.keyCode&&a.stopPropagation()};m.QTa=function(a){a.stopPropagation()};m.Asb=function(){MOh(this)};
function QOh(a){return rOh(a.D.F,a.Ka||a.L)&&!a.ma}function ROh(a){return sOh(a.D.F,a.Ka||a.L)&&!a.D.ma}function MOh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=SOh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Na(tOh(a.D.F,a.L))}a.J&&(b=QOh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=ROh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function OOh(a){Bo.call(this,a)}t(OOh,Bo);
function KOh(a){a=void 0===a?"docos-docomenu":a;Fz.call(this);this.D=a}t(KOh,Fz);KOh.prototype.jc=function(){return(new Vq("goog-menu"," ","docos"," ",this.D)).toString()};function TOh(){hD.call(this,!1)}t(TOh,hD);TOh.prototype.YM=function(a){hD.prototype.YM.call(this,a)};function UOh(){this.C=!1;this.D=new Cf;this.qa(this.D)}v(UOh,A);function VOh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.ly=e;this.C=f;this.D=h}VOh.prototype.ud=g("F");function WOh(){}function q7(a){var b=new WOh;b.D=a;return b}function r7(a,b){a.C=b;return a}function XOh(a,b){a.ly=b;return a}function s7(a){return new VOh(a.D,a.C,a.J||!1,a.L||null,a.ly||null,a.F||null,a.H||null)};function YOh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.vr=h}function ZOh(){}function $Oh(a){var b=new ZOh;b.H=a;return b}function aPh(a,b){a.D=b;return a}function bPh(a,b){a.vr=b;return a}function cPh(a){return new YOh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.vr||null)};function dPh(a,b,c){var d=S6(a);this.F=a;this.O=b;this.Us=c||null;this.R=null;this.J={};this.D={};this.C=new dOh(d);this.H=void 0;this.iR=!!N(d,nMh,18);b=this.getId();if(a=S6(a)){a=R6(a);for(c=0;c<a.length;c++)d=new dOh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,gOh(d)&&(this.H=gOh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=dPh.prototype;m.ww=function(){return this.C.ww()};m.getId=function(){return this.C.getId()};
function t7(a){return K(a.C.C,11)||""}m.YP=function(){var a=K(this.F,4);if(void 0===a)return this.Tx();this.V||(this.V=cW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.swa=function(){return this.C.swa()};m.Tfa=function(){return this.C.Tfa()};m.XA=function(){return this.C.XA()};function u7(a){return K(a.F,8)||""}m.Ufa=function(){return this.C.Ufa()};m.l3=function(){return this.C.l3()};m.Iz=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Cj(this.F,6)};function ePh(a,b){var c=Nd(a.D);b&&c.push(a.C);sd(c,function(d,e){return bW(d.Tx(),e.Tx())});return c}function p7(a,b){return a.D[b]||null}m.Tx=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=cW(a)):this.L=null;return this.L};m.getNewDocoType=g("Us");m.tB=function(){return"draft"==this.Us||"client-integrated-draft"==this.Us||"instant-doco"==this.Us};function fPh(a){return gPh(a)}
function gPh(a){return a.tB()||"smart-todo"==a.Us}m.PX=function(){return"smart-todo"==this.Us};m.eR=function(){return!!Cj(this.F,9)};m.Hz=function(){return this.C.Hz()};m.EB=function(){return this.C.EB()};function e7(a){var b=a.C.EB()?a.C.EB():null;a=ePh(a);for(var c=0;c<a.length;c++){var d=a[c];d.EB()&&(d=d.EB(),b?(b=new KNh(Uj(b.C)),d=$6(d),d=JNh(d),Oj(b.C,1,d)):b=new KNh(Uj(d.C)))}return b}function SOh(a){return a.C.EB()?a.C:null}m.zk=function(){return this.C.zk()};
m.isTodo=function(){return null!=this.iR?this.iR:this.iR=!!SOh(this)};m.AH=function(){return this.C.AH()};function hPh(a){if(void 0!==a.H)return a.H;if(!a.zk())return a.H=null;for(var b in a.D){var c=gOh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Uua=function(){return this.C.Uua()};m.Pua=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=ePh(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function iPh(a){this.C=a;this.Us=null}function v7(a){var b=new T6;a=a.C;Oj(b,2,a);a.getId()||K(a,11);b.Kc(a.getId()||K(a,11));return new iPh(b)}function jPh(a,b){L(a.C,8,b);return a}function w7(a,b){L(a.C,9,b);return a}function kPh(a,b){a.Us=b;return a}iPh.prototype.getNewDocoType=g("Us");iPh.prototype.getId=function(){return S6(this.C).getId()};function lPh(a,b,c,d,e,f,h,k){Bo.call(this,a);this.O=b;this.C=c;this.R=d;this.vr=e;this.D=f;this.V=h;this.F=k}t(lPh,Bo);function mPh(){this.vr=this.F=this.D=this.L=this.Pv=null;this.H=this.C=0;this.J=!1}function nPh(a){var b=new mPh;b.Pv=a;return b}function oPh(a,b){a.L=b;return a}function pPh(a,b){a.H=b;return a}function qPh(a,b){a.J=b;return a}function rPh(a){return new lPh(a.Pv,a.L,a.D,a.F,a.vr,a.C,a.H,a.J)};function sPh(a){A.call(this);this.C=a;this.F=c7(a);this.D=tPh(this.C);this.H={}}v(sPh,A);function uPh(a,b,c,d,e,f){var h=gf(),k=new m7(h);d&&o7(k,d,La());f&&oOh(k);e&&(d=INh(ENh(HNh(new j7,e).Kc(""),!1)),d=LNh(d),mOh(k,d));c=kPh(w7(jPh(v7(k),b),!1),c);vPh(g7(a.C),c);g7(a.C).flush();wPh(a.D,cPh(bPh(aPh($Oh(43008),h),b)));return x7(g7(a.C),h)}
function xPh(a,b,c,d,e){d=ENh(HNh(new j7,d).Kc(""),!1);Cd(ef(e))||d.fd(e);e=INh(d);d=LNh(e);e=gf();var f=La();c=oOh(mOh(o7(nOh(new m7(e),a.F.gh()),c,f),d));c=kPh(w7(jPh(v7(c),b),!1),"smart-todo");vPh(g7(a.C),c);g7(a.C).flush();wPh(a.D,cPh(bPh(aPh($Oh(43023),e),b)));return x7(g7(a.C),e)}
function yPh(a,b,c,d,e){var f=gf(),h=La();c=o7(nOh(jOh(n7(new m7(f)),h),a.F.gh()),c,h);e&&oOh(c);d&&(d=INh(ENh(HNh(new j7,d).Kc(""),!1)),d=LNh(d),mOh(c,d));c=w7(v7(c),!0);L(c.C,3,h);b=kPh(jPh(c,b),"discussion");vPh(g7(a.C),b);g7(a.C).flush();b=g7(a.C).ud(f);y7(a.D,s7(r7(q7(43009),b)));return x7(g7(a.C),f)}m=sPh.prototype;m.zdb=function(a){zPh(g7(this.C),a);g7(this.C).flush()};
m.vdb=function(a,b,c,d){if(a=g7(this.C).ud(a)){if(d&&!a.EB())throw Error("Cannot reassign a doco with no existing assignment");if(a.zk()&&d)throw Error("Cannot reassign a suggestion.");var e=gf(),f=La();b=nOh(jOh(o7(n7(new m7(e)),b,f),f),this.F.gh());c&&iOh(b,c);d&&mOh(b,d);c=hOh(new m7(t7(a),a.getId()),b);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(d?43020:43010),a)))}};
m.Bdb=function(a,b){if(a=g7(this.C).ud(a)){var c=new m7(t7(a),a.getId()),d=null!=a.Hz()?new NNh(a.Hz().C.clone()):new NNh(new rMh);L(d.C,4,b?1:0);Oj(c.C,19,d.C);n7(c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43040:43041),a)))}};
m.Cdb=function(a,b,c){if(a=g7(this.C).ud(a)){var d=new m7(t7(a),a.getId());if(c=p7(a,c)){var e=null!=c.Hz()?new NNh(c.Hz().C.clone()):new NNh(new rMh),f=new m7(t7(a),c.getId());L(e.C,4,b?1:0);Oj(f.C,19,e.C);hOh(d,n7(f));d=w7(v7(d),!0);z7(g7(this.C),d);g7(this.C).flush();y7(this.D,s7(XOh(r7(q7(b?43042:43043),a),c)))}}};
m.vib=function(a,b,c){if(a=g7(this.C).ud(a))if(b=p7(a,b)){var d=La();c=o7(n7(new m7(K(b.C,11)||"",b.getId())),c,d);c=hOh(new m7(t7(a),a.getId()),c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(XOh(r7(q7(43021),a),b)))}};m.n6b=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(new m7(t7(a),a.getId()),b,c);b=w7(v7(b),!1);z7(g7(this.C),b);g7(this.C).flush()}};
m.Adb=function(a,b,c){if(a=g7(this.C).ud(a)){if(a.zk())throw Error("Cannot resolve a suggestion.");var d=gf(),e=La();d=nOh(jOh(n7(new m7(d)),e),this.F.gh());L(d.C,10,b?0:1);c&&o7(d,c,e);c=hOh(new m7(t7(a),a.getId()),d);c=w7(v7(c),!0);L(c.C,6,b);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43014:43015),a)))}};
m.wdb=function(a,b){var c=g7(this.C),d=c.ud(a);d&&(this.H[x7(c,a)]=Od(Zd(d.D)),a=kOh(n7(new m7(t7(d),d.getId()))),a=w7(v7(a),!0),d.PX()||(d=r7(q7(43017),d),null!=b&&(d.F=b),y7(this.D,s7(d))),z7(c,a),c.flush())};
function APh(a,b){var c=g7(a.C);if(A7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Da[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=lOh(n7(new m7(t7(d),d.getId()))),f=a.H[b];delete a.H[b];a=Zd(d.J);b=Zd(d.D);for(var h=0;h<f.length;h++){var k=f[h];hOh(e,lOh(n7(new m7(K((b[k]||a[k]).C,11)||"",k))))}e=w7(v7(e),!0);z7(c,e);c.flush();return x7(c,d.getId())}
m.KHa=function(a,b){if(a=A7(g7(this.C),a)){var c=a.AH();if(!a.zk()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=n7(new m7(t7(a),a.getId()));c=(new lMh).setType("application/vnd.google-apps.docs.mds");b=Oj(c,3,b);Oj(a.C,9,b);b=w7(v7(a),!0);z7(g7(this.C),b);g7(this.C).flush()}};m.tib=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(n7(new m7(t7(a),a.getId())),b,c);b=w7(v7(b),!0);z7(g7(this.C),b);g7(this.C).flush();y7(this.D,s7(r7(q7(43022),a)))}};
m.Kcb=function(a,b){(a=g7(this.C).ud(a))&&(b=p7(a,b))&&BPh(this,a,b)};function BPh(a,b,c){y7(a.D,s7(XOh(r7(q7(43016),b),c)));z7(g7(a.C),CPh(b,c));g7(a.C).flush()}function CPh(a,b){b=kOh(n7(new m7(K(b.C,11)||"",b.getId())));a=hOh(new m7(t7(a),a.getId()),b);return w7(v7(a),!0)}m.ydb=function(a){var b=A7(g7(this.C),a,!0);a=DPh(g7(this.C),a);b&&a&&BPh(this,b,a)};
m.xdb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=A7(g7(this.C),d,!0);d=DPh(g7(this.C),d);e&&d&&b.push(CPh(e,d))}EPh(g7(this.C),b,"c")};function FPh(a,b,c,d){b=A7(g7(a.C),b);if(!GPh(a,b))return 0;var e=gf();z7(g7(a.C),HPh(a,b,e,c));d||(d=a.D,c=r7(q7(c?43027:43028),b),c.J=!0,y7(d,s7(c)));return x7(g7(a.C),b.getId(),e)}function GPh(a,b){if(!b)return!1;if(!b.zk()||!b.AH())throw Error("Attempting to accept/reject a non-suggestion.");return IPh(g7(a.C),b)?!0:!1}
function HPh(a,b,c,d){a=iOh(nOh(jOh(n7(new m7(c)),La()),a.F.gh()),b.AH());L(a.C,10,d?2:3);b=hOh(new m7(t7(b),b.getId()),a);return w7(v7(b),!0)}function JPh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=A7(g7(a.C),b[h]);if(GPh(a,k)){var l=gf();d.push(HPh(a,k,l,c));e.push(k.getId());f.push(l)}}EPh(g7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(x7(g7(a.C),e[h],f[h]));return b};function KPh(){No.call(this)}v(KPh,No);function LPh(a,b){Bo.call(this,a);this.Cm=b||null}v(LPh,Bo);function MPh(){Fq.call(this,"",void 0,!0);this.F=new Bq(u(this.C,this));this.qa(this.F);this.H=null}t(MPh,Fq);MPh.prototype.O=function(a,b,c,d){if(this.H&&!wd(a,"Error in protected function: ")){var e=new QMh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);NPh(this.H,"rjse",c,void 0,ta,!0,1)}};MPh.prototype.Ja=function(){Fq.prototype.Ja.call(this);delete this.F};function OPh(a){No.call(this);var b=this;this.F=null;this.H=new oo;this.qa(this.H);this.C=a;po(this.H,this.C.uG(),function(){"hidden"===b.C.getState()&&(b.D=new PC);"visible"!=b.C.getState()||pmb(b.D)||(b.dispatchEvent("Cj"),PPh(b))});this.D=new PC;PPh(this)}t(OPh,No);OPh.prototype.format=function(a){var b=new PC(a);b=(new PC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return QPh.format(a);b=$8e(a.getTime());return RPh.format(a)+(" "+b)};
function PPh(a){var b=new PC;b.add(new OC(0,0,1));b=b.getTime();$p(a.F);a.F=Zp(function(){a.dispatchEvent("Cj");PPh(a)},b-La(),a)}ua(OPh);var RPh=new TC(7),QPh=new TC(2);function SPh(a){this.C=a;this.D={};this.J={};this.L=this.C.R;this.dd=0;this.H=[];this.Ma=new Oo(this);this.qa(this.Ma);this.Ma.listen(this.C,"r",this.O)}v(SPh,A);var TPh=[nf?"readystatechange":"load","abort","error"];function UPh(a){return"legacy"==a.C.D?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function VPh(a,b,c,d){if(b){var e="dcs-img-"+a.dd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";WPh(a,e)}}function vNh(a,b,c,d){b&&a.H.push(new XPh(b,c,d))}function YPh(a){Zp(function(){for(;this.H.length;){var b=this.H.pop();VPh(this,b.Mx,b.src,b.C)}},0,a)}function h7(a,b){b&&b.id&&(a.Ma.Bc(b,TPh,a.F),delete a.D[b.id],delete a.J[b.id])}SPh.prototype.O=function(){var a=this.C.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)WPh(this,b)};
SPh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.Ma.Bc(b,TPh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):h7(this,b)}};function WPh(a,b){a.Ma.listen(a.D[b],TPh,a.F);a.D[b].src=a.J[b]}function XPh(a,b,c){this.Mx=a;this.src=b;this.C=c};function ZPh(){VV.call(this);this.ma=!1}v(ZPh,VV);function c7(a){return a.get("config")}function i7(a){var b=WV(a,"action_registry");if(!b){b=new TOh;for(var c=Nd(VMh),d=0;d<c.length;d++){var e=c[d];e=O((new Ht(e)).Aj("label",e).Aj("visible",!0).Aj("hint",e).Aj("enabled",!0));b.au(e);b.qa(e)}a.Cf("action_registry",b)}return b}function g7(a){return a.get("stream")}function f7(a){return a.get("imageManager")}function $Ph(a){return a.get("subscriptionManager")}
function tPh(a){return a.get("impressionRecorder")}function pNh(a){return WV(a,"errorReporter")}function aQh(a){var b=WV(a,"batchEventTracker");b||(b=new UOh,a.Cf("batchEventTracker",b));return b};function bQh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=c7(a).Ym}function cQh(a,b){a.C!=b&&(a.C=b,b={Rj:a.D,bOb:a.O,kOb:b},i7(a.L).zf("mouse-hover-doco-view").mb(b))};function dQh(a){a=a||{};var b=a.gJ,c=a.f0,d=a.lOb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+XV(c)+"><span class="+XV(d)+">"+R(b)+"</span></div>":"<span class="+XV(d)+">"+R(b)+"</span>");return S(a)};function eQh(a){a=a||{};var b=a.gi,c=a.rB;a=a.hR;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(gNh({gi:""+b,rB:""+c,hR:a})):"")+"</div>")};function fQh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.vp){var e=b;b=a||{};var f=b.author,h=b.Wg,k=b.yM,l=b.Kma,n=b.Qe;a=b.Hm;var q=b.xB,r=b.zk,w=b.tB,x=b.yya,F=b.gJ,M=b.FX,X=b.bk,U=b.Sea,ca=b.ava,ma=b.timestamp,wa=b.zcb,xa=b.ao;f='<div class="'+T("docos-anchoredreplyview")+(n?" "+T(n):"")+(r?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(hNh({size:32,Dcb:wa,hoa:k?
""+k:"",u1:vx(f)&&!h?""+f:"",Qe:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(q?'<div class="'+T("docos-user-presence")+'"></div>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(k?' data-hovercard-id="'+T(k)+'"':"")+(vx(f)&&!h?' data-name="'+T(f)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+" "+T("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+
'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';vx(r)&&vx(q)?(F=F={ao:xa},F=S(gQh({bd:"docos-accept-suggestion jfk-button-collapse-right",ao:F.ao},e)),xa=xa={bk:X,ao:xa},X=xa.bk,xa=xa.ao,e=""+R(FA({title:"Reject suggestion",style:xa?4:0,bd:"docos-reject-suggestion jfk-button-collapse-left",content:wx(""+(xa?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(gNh({gi:"docos-icon-reject-suggestion-cross",rB:"docos-icon-reject-suggestion-cross-size",Qe:"jfk-button-img"})))),XN:X},e)),e=S(e),e=F+e):w?e="":(X=q?U?S(gQh({bd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(FA({bd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!vx(U)||!vx(M)&&F?e="":ca?(U=(U=b)||{},xa=U.xB,F=U.FX,U=U.bk,ca=R(gNh({gi:"docos-icon-thumb-black",rB:"docos-icon-thumb-size",Qe:"jfk-button-img",
hR:!0}))+'<div class="'+T("like-button-text")+'">',ca+="0</div>",e=""+R(FA({bd:"docos-like-button "+(vx(xa)&&!F?"jfk-button-collapse-left":""),title:"Like this",content:wx(ca),XN:U},e)),e=S(e),e=R(e)):(U=(U=b)||{},xa=U.xB,F=U.FX,U=U.bk,ca='<div class="'+T("vote-button-text")+'">',ca+="+1</div>",e=""+R(FA({bd:"docos-vote-button "+(vx(xa)&&!F?"jfk-button-collapse-left":""),title:"+1 this comment",content:wx(ca),XN:U},e)),e=S(e),e=R(e)),e=X+e+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
l=f+e+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(l?"":T("docos-collapsible-replyview-empty"))+'">'+(q||M?"":R(dQh(tx({f0:""},b))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(l?R(l):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';l=l+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');l+="Show less";q?d=R(dQh(tx({f0:"docos-root-reply-action-text-wrapper"},
b))):M?d=R(dQh(tx({f0:"docos-action-text-bottom-wrapper"},b))):d="";l+="</div></div></div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(x?R(x):"")+"</div></div>";d=S(l)}else M=a||{},l=M.author,f=M.Wg,e=M.yM,X=M.Kma,x=M.Zma,a=M.Hm,q=M.yya,xa=M.timestamp,F=M.ao,d=S,M.xB?(a=(a=M)||{},xa=a.author,F=a.yM,q=a.Kma,U=a.Qe,x=a.Hm,M=a.H$b,l=a.kva,f=a.yya,e=a.gJ,X=a.FX,ca=a.timestamp,
b='<div class="'+T("docos-streamrootreplyview")+(U?" "+T(U):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(F?' data-hovercard-id="'+T(F)+'"':"")+(xa?' data-name="'+T(xa)+'"':"")+">"+(xa?R(xa):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(eQh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+
" "+T("goog-inline-block")+'">'+(ca?R(ca):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+T("docos-streamdocoview-bullet")+
" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=yx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',M&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(M)+'<div class="'+T("docos-replyview-quote-collapse")+" "+
T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(q)+"</div>"+(e?R(dQh(tx({f0:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+T("goog-inline-block")+
'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=yx("Reply to this comment"),b+='">Reply</div></div>',l&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',X?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=yx("Mark as done and hide discussion"),
b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=yx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(x?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(f?R(f):"")+"</div></div>",b=S(b)):(b='<div class="'+T("docos-streamreplyview")+'">'+R(hNh({size:F?
32:24,hoa:e?""+e:"",u1:vx(l)&&!f?""+l:"",Qe:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(e?' data-hovercard-id="'+T(e)+'"':"")+(l?' data-name="'+T(l)+'"':"")+">"+(l?R(l):"")+"</div>"+R(dQh(M))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+
" "+T("docos-replyview-static")+'">'+R(X)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(xa?R(xa):"")+"</div>",vx(x)||vx(a)?(l=l={iab:!0,Zma:x,Hm:a},x=l.Zma,M=l.Hm,l=l.iab,f='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',M&&(f+=(l?'<div class="'+T("docos-streamdocoview-bullet")+" "+
T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=yx("Make changes to your comment"),f+='">Edit</div>'),x&&(f+=(l?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=yx("Permanently delete your comment"),
f+='">Delete</div>'),x=S(f+"</div>"),x=R(x)):x="",b=b+x+"</div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(q?R(q):"")+"</div></div></div>"),d=d(b);return c(d)}function hQh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function gQh(a,b){a=a||{};var c=a.bd;a=a.ao;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(gNh({gi:"docos-icon-accept-checkmark-black",rB:"docos-icon-accept-checkmark-size",Qe:"jfk-button-img"}));return d(R(FA({bd:c?""+c:"",style:a?4:0,content:wx(""+e)},b)))};function iQh(a,b){a=a||{};var c=a.XFa,d=a.bd,e=a.aJa;a=a.bJa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(sjd({Wk:c,bd:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function jQh(a,b,c){b=c||b;a=a||{};var d=a.Qe;c=a.f$;var e=a.Ydc,f=a.ena,h=a.cJa,k=a.cFa,l=a.bk,n=a.gJ,q=a.II;a='<div class="'+T("docos-input")+(d?" "+T(d):"")+'" style="display: none"><textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(dQh(tx({f0:"docos-edit-pane-action-text-wrapper",lOb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+'" style="display: none">'+R(sjd({bd:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+'">'+R(FA({style:2,
bd:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(FA({bd:"docos-input-cancel",title:d,content:wx(f),XN:l},b));return S(a+"</div></div>")};function kQh(a,b,c){b=c||b;a=a||{};c=S;if(a.vp){a=a||{};var d=a.author,e=a.PX,f=a.FX,h=a.bk,k=a.ao;a.tB?(a=(a=tx({author:d,bk:h},a))||{},d=a.author,e=a.bk,f=a.II,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(fQh(tx({author:d,vp:!0,xB:!0,Qe:"docos-replyview-first"},a),b))+"</div>"+R(jQh({Qe:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",bk:e,II:f},b)))):e?(d=(d=tx({bk:h,ao:k},a))||{},e=d.vab,a=
d.bk,f=d.ao,h='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(gNh({gi:"docos-icon-explore",rB:"docos-icon-explore-size",hR:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+T("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(eQh({rB:"docos-icon-overflow-three-dots-size",gi:"docos-icon-overflow-three-dots",hR:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),h+=R(jQh({Qe:"docos-docoview-input-pane",f$:"Dismiss",ena:"Dismiss suggested action item",bk:a},b)),e&&(h+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.bk,e='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(iQh({XFa:"Not an action item",bd:"docos-smarttodoview-feedback-checkbox-container",aJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
bJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(iQh({XFa:"Wrong assignee",bd:"docos-smarttodoview-feedback-checkbox-container",aJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",bJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(T("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(FA({style:2,bd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",XN:d},b)),e+=R(FA({bd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",XN:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+
" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else e=a||{},b=e.author,a=e.Wg,d=e.yM,e=e.ao,b=S('<div class="'+T("docos-docoview-tesla-conflict")+'">'+
R(hNh({size:e?32:48,hoa:d?""+d:"",u1:vx(b)&&!a?""+b:"",Qe:"docos-streamdocoview-avatar"}))+'<div class="'+T("docos-streamdocoview-content")+'"><div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(hNh({size:e?32:24,Qe:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');
return c(b)};function lQh(a,b){Bo.call(this,a);this.Rj=b}t(lQh,Bo);function B7(a){lQh.call(this,"rd",a)}t(B7,lQh);function C7(a,b,c,d,e){b7.call(this,a,d);this.R=a;this.Za=c;this.$a=[];this.O=null;this.Pa=new bQh(this.R,b,this.vp());this.Kc(b);this.Oa=null;this.Zc=e;this.pb=this.xa=null;this.yd=!0;this.Ec=!1}t(C7,b7);m=C7.prototype;m.iA=ba();m.Kc=function(a){b7.prototype.Kc.call(this,a);this.Pa.D=a};m.getContext=g("R");m.ud=function(){return g7(this.R).ud(this.getId())||null};m.ql=function(){var a=this.getId();return mQh(this.Zc,a)};m.sR=ea(null);m.uwa=ea(!1);
m.Ba=function(){var a=this.ud(),b=a.ww();a=e7(a);var c="Unknown"===b.getName();c=Ky(kQh,{author:b.getName(),Wg:b.C,yM:this.C.V&&!c?b.getId():null,vp:this.vp(),FX:!!a,bk:this.C.bk(),ao:"legacy"!=this.C.D});this.vp()||EOh(this.C)||Yx(c,"docos-streampanemargin-legacy");this.jb(c);this.Fe(b,a||void 0)};
m.Fe=function(a,b){b=b?mNh(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new pB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new pB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new pB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Ux(this.getElement(),b)};m.Ia=function(){b7.prototype.Ia.call(this);d7(d7(this,this.getElement(),["click","keypress","keyup"],this.aRb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.j7b);yp(this.getElement(),!0)};m.vd=function(){b7.prototype.vd.call(this);cQh(this.Pa,!1)};m.c$=ea(!1);
m.qza=ba();m.Hfa=function(){if("legacy"==this.C.D&&this.vp()&&(!this.xa||!this.pb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");Yx(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");Yx(c,"docos-anchoreddocoview-arrow-outer");this.pb=c;a.Hs(b,this.xa,0);a.Hs(b,this.pb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.yd;a||this.setVisible(!0);this.O=new Rm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.aRb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.PTa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.j7b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||cQh(b,"mouseenter"==a.type);a.stopPropagation()};m.mY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new B7(this.getId()))};m.setVisible=function(a){this.yd=a;P(this.getElement(),a)};m.isVisible=g("yd");
function nQh(a){var b=["docos-docoview-tesla-conflict"],c=[];oQh(a,"docos-anchoreddocoview",a.vp(),b,c);oQh(a,"docos-streamdocoview",!a.vp(),b,c);oQh(a,"docos-docoview-active",a.ql(),b,c);EOh(a.C)&&oQh(a,"docos-docoview-active-experiment",a.ql(),b,c);var d=a.ud();oQh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)Zx(a.getElement(),b),ay(a.getElement(),c),a.$a=Vx(a.getElement())}function oQh(a,b,c,d,e){c&&!$c(a.$a,b)?d.push(b):!c&&$c(a.$a,b)&&e.push(b)}m.TS=da("Oa");
function pQh(a){return a.Oa?a.Oa:a.C.Xn}m.getDocoMaxHeight=g("Oa");m.Ja=function(){b7.prototype.Ja.call(this);delete this.R};function qQh(a,b){this.C=a;this.cb=b}
function rQh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=yx("Contact information.");f+='">'+R(hNh({size:32,Qe:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=rx(d);Ke(c,d);d=b.getEmail();d=Cd(ef(b.getName()))?d:b.getName()+" "+d;Ux(c,d);c=oV(a.cb,"IMG","docos-contact-row-avatar",c);h7(a.C,c);VPh(a.C,c,b.D,a7(b));
return c};function sQh(a,b,c,d){d=void 0===d?null:d;jA.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new qQh(f7(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.vp());this.D=null}t(sQh,jA);m=sQh.prototype;m.Ia=function(){jA.prototype.Ia.call(this);this.D=$o("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.xRb).listen(this.getElement(),"focus",this.ey).listen(this.getElement(),["mousedown","blur"],this.OZa)};
m.xRb=function(a){this.C&&this.C.ud()==g7(this.L).O||(this.Hd(!this.sf()),this.OZa());a.stopPropagation()};m.ey=function(){Yx(this.D,"docos-assignee-select-focus")};m.OZa=function(){$x(this.D,"docos-assignee-select-focus")};m.ef=function(a){return this.Ob()&&2>this.Ob().yc()?!1:jA.prototype.ef.call(this,a)};m.jg=function(a){this.C&&this.C.ud()==g7(this.L).O&&(this.Ob()&&2>this.Wh()||jA.prototype.jg.call(this,a))};function tQh(a){return(a=a.mf())?a.gh():null}
m.Ge=function(a){jA.prototype.Ge.call(this,a);var b=a.getElement();b&&(Yx(b,"docos-assignee-select-menu"),"legacy"!=this.H.D&&Yx(b,"docs-gm"),this.O&&a.render(this.H.L))};m.jm=function(){var a=this.Ob().getElement();Hw(a,"width",this.J.offsetWidth+"px");jA.prototype.jm.call(this);var b=parseInt(Iw(a,"top"),10)||0,c=Ow(this.J).x;this.O?(c-=Ow(this.H.L).x,b+=-2):b+=-1;Lw(a,c,b)};function uQh(a){var b=new $l;if(!a.Ob())return b;a.Ob().Xe(function(c){b.add(c.gh())});return b}
m.update=function(a,b){if(!uQh(this).equals(new $l(a))||tQh(this)!=b){for(var c=new Hz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new vQh(f,this.R,this.oa());f==b&&(d=h);c.Ga(h,!0)}this.Ge(c);lA(this,d);P(this.getElement(),1<this.Wh())}};m.reset=function(){this.Ob().qd();lA(this,null)};function vQh(a,b,c){var d=c.createElement("div");Cz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=rQh(this.C,this.D,d)}t(vQh,Cz);m=vQh.prototype;m.Ba=function(){Cz.prototype.Ba.call(this);Yx(this.getElement(),"docos-assignee-select-item")};
m.Ia=function(){Cz.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.wRb)};m.gh=g("D");m.Rg=ea("");m.wRb=function(a){a.stopPropagation()};m.Ja=function(){Cz.prototype.Ja.call(this);var a=this.F;a&&h7(this.C.C,a)};function wQh(){xQh(this)}t(wQh,Sa);wQh.prototype.Wz=function(a){Xca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};wQh.prototype.cleanup=function(){this.D.clear();this.C=null};wQh.prototype.iterator=function(){if(!this.C){var a=new VLh,b=this.D;a.C=[];var c=b.Wf();b=c;var d=a.C;c=c.length;var e=0,f=0;Ta(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.Lj()};
wQh.prototype.Lj=function(){return this.iterator()};function xQh(a){var b=new GMh,c=new TLh;CLh(c);b.C=c;a.D=b;a.C=null};function yQh(a){xQh(this);this.F=a}t(yQh,wQh);yQh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();zQh(b,this.F)}};yQh.prototype.get=g("F");function AQh(a,b,c){return new BQh(a,b,c)}function BQh(a,b,c){this.C=CQh(a,b);this.ge=c;this.F=!1;this.D=-1;DQh(this,0)}BQh.prototype.d5=g("F");BQh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function CQh(a,b){for(var c=[],d={},e=0;e<b.length;d={NT:d.NT,Q8:d.Q8},e++){d.Q8=b[e];var f=d;var h=new yQh(null);f.NT=h;d.Q8.H(a.token,a.g$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.NT.set(new EQh(l,n,r,k.Q8.getType(),w,q)):r&&k.NT.set(FQh())}}(d))||d.NT.set(FQh());c.push(d.NT)}return c}function DQh(a,b){if(!a.F)if(b>=a.C.length)a.ge(FQh()),a.close();else{a.D=b;var c=a.C[b];dc(a);Zca(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&zQh(a,b)}}
function zQh(a,b){b.isEmpty()?(a.C[a.D].Wz(a),DQh(a,a.D+1)):(a.ge(b),b.complete&&a.close())}function GQh(a,b,c){this.token=a;this.g$=b;this.C=c}function EQh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}EQh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function FQh(){return new EQh([],new Tyd(!1),!0,0,!1,void 0)};function HQh(a){this.C=a};function IQh(){this.className="docos-ac-highlighted"}IQh.prototype.aua=function(a,b,c){Cd(b)||c.C&&/^\W/.test(b)?c=null:(b=af(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Lx(a,c)};
IQh.prototype.Lx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Lx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Ro(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Kp(b,f)),f=h,h=Kp(b,""),b.ow(f,a),b.ow(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function JQh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function KQh(a){this.O9b=a}t(KQh,afb);function LQh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.Wla=!0;a=new MQh("\n",null,!0);YLh(a);a.A3a=!1;a.V=null;a.R=null;f=new NQh(f,k,this);f.R=!0;f.uCa=!1;f.O=!0;f.className="docos-ac";h&&cgb(f,h,void 0,h);vB.call(this,this,f,a);this.L.wh=this;this.Ha=c.map(function(n){return new OQh(n)});this.Oa=new IQh;this.Sra(Uo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Da=!1;this.Ca=null}v(LQh,vB);var PQh=/[\n]$/;m=LQh.prototype;
m.kI=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.So("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=QQh(this.L,a),l=RQh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new KQh(new JQh(e,f,n.getType(),h,x,F,w)),w.bza=!h,w.Kca=r.zma,c(a,q,w),h=!1)})}else b=AQh(new GQh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new KQh(new JQh(e,f,q.type,
h,q.complete,q.F,q.D));r.bza=!h;q.C&&(r.Kca=q.C.zma);c(a,q.rows,r);h=!1}}),this.C=new SQh(b,this.Pa)}else c(a,[])};function RQh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.Hw=function(a,b){b||(b=new afb);LQh.Ua.Hw.call(this,a,b);if(b instanceof KQh){this.Ca=b.O9b;var c=TQh(this,this.Ca,a.length,!1);b=this.Ca;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.So("dac",e,d.serialize()),this.R.So("dact",f,d.serialize())),b.D&&(this.R.So("dacfr",e,d.serialize()),this.R.So("dacfrt",f,d.serialize())))}else this.Ca=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=UQh[a])&&h.tja;b.C=a}else b.C&&0==d&&(h=(h=UQh[b.C])&&
h.Wja,b.C=null);h&&VQh(b,h,c)}};function TQh(a,b,c,d){var e=new aMd;e=L(e,1,c).setType(WQh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,wB(a,a.J)),L(c,6,b.L));return WLh(c)}function WQh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.Yq=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.WP()&&this.Oa.aua(c,a.data.WP().D,new HQh(a.data.WP().C)))};
m.lB=function(){var a=xB(this)?this.F[wB(this,this.J)]:null,b;this.Ca&&(b=TQh(this,this.Ca,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=UQh[a.getType()])&&VQh(c,a.Mia,b);c.C=null}this.Da=!0;return LQh.Ua.lB.call(this)};m.lh=function(){if(!this.Da&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&UQh[a.C];b&&VQh(a,b.Q$);a.C=null}this.Da=!1;LQh.Ua.lh.call(this)};function XQh(a){return xB(a)?a.F[wB(a,a.J)].getId():null}
m.Ja=function(){LQh.Ua.Ja.call(this);Kf(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function MQh(a,b,c,d){this.D=0;AB.call(this,a,b,c,d)}v(MQh,AB);MQh.prototype.jg=function(){this.wh.sf()&&this.wh.lh()};MQh.prototype.Ng=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.wh.sf()||38===a.keyCode&&this.wh.sf()&&-1===this.wh.J?(this.wh.lh(),!0):MQh.Ua.Ng.call(this,a)};
MQh.prototype.HE=function(a,b){var c=null;if(a){c=a.nW();var d=YQh(this,a.getToken());c={start:c.Sk()+d,end:c.$v()+d}}b=MQh.Ua.HE.call(this,a,b);if(a){d=c.end;var e=this.Ml;e&&(yB(e,c.start),zB(e,d));a.L6()}return b};function YQh(a,b){var c=a.Ho();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function QQh(a,b){return a.Ho()-YQh(a,b)}function OQh(a){this.D=a}
OQh.prototype.H=function(a,b,c,d){var e=a.replace(PQh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new ZQh(q,a)}),h,k,l,n)})};OQh.prototype.getType=function(){return this.D.getType()};OQh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function ZQh(a,b){this.C=a;this.D=b}m=ZQh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.WP=function(){return this.C.WP()};m.nW=function(){return this.C.nW()};m.render=function(a){this.C.render(a)};
m.L6=function(){this.C.L6()};m.getToken=g("D");m.toString=function(){var a=PQh.test(this.D)?"\n"[0]:"";return this.nW().C+a};function SQh(a,b){var c=this;this.D=a;this.C=Zp(function(){c.C=null;c.D.close()},b)}SQh.prototype.cancel=function(){null!==this.C&&($p(this.C),this.C=null);this.D.close()};function NQh(a,b,c){VB.call(this,a,c);this.Ka=!!b}v(NQh,VB);
NQh.prototype.Yc=function(){NQh.Ua.Yc.call(this);Ux(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Mw(this.getElement()),b=this.Ka?-2:-1;Lw(this.getElement(),a.x,a.y+b)}};function $Qh(a){this.C=null;this.D=a}function VQh(a,b,c){if(c){var d=new hk;Oj(d,11,c)}a.D&&a.D(b,void 0,d)}var aRh={},UQh=(aRh[1]={tja:43002,Wja:43004,Q$:43006,Mia:43E3},aRh[2]={tja:43003,Wja:43005,Q$:43007,Mia:43001},aRh[3]={tja:43068,Wja:43069,Q$:43066,Mia:43067},aRh[4]={tja:43072,Wja:43073,Q$:43070,Mia:43071},aRh);function bRh(a,b,c,d){No.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new aC(a);Go(this.F,"input",this.L,!1,this);cRh(this)}v(bRh,No);bRh.prototype.L=function(){cRh(this)};function cRh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&xp(a.H,String(1==a.J?b:a.D-b))}bRh.prototype.Ja=function(){bRh.Ua.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function dRh(a,b){return eRh(a,b,!1)}function fRh(a,b){return eRh(a,b,!0)}function eRh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?yd(n,h):Bd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function gRh(a,b,c,d,e,f,h){b.getEmail();this.Cc=a;this.D=b;this.dd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(gRh,A);m=gRh.prototype;m.gh=g("D");m.getId=g("dd");m.getType=g("L");m.WP=g("H");m.nW=g("J");m.render=function(a){this.C=rQh(this.Cc,this.D,a)};m.L6=ba();m.Ja=function(){var a=this.C;a&&h7(this.Cc.C,a)};function hRh(a,b){this.C=a;iRh(this.C);this.D=b}function jRh(a,b){for(var c=0,d=b-1;0<=d;d--)if(kRh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(kRh.has(a[b])){d=b;break}return{text:a.slice(c,d),HI:c,dG:d}}function lRh(a,b){for(var c=0,d=b-1;0<=d;d--)if(mRh.has(a[d])&&(0==d||kRh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(kRh.has(a[b])){d=b;break}return{text:a.slice(c,d),HI:c,dG:d}}
function nRh(a,b,c,d,e,f,h,k,l){return a.C.Do(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,jY(FMh(r))?w=(new rY(FMh(r))).setSize(96).Ky():w=FMh(r)||null,w=INh(FNh(HNh(new j7,r.getEmail()).fd(r.getName()),w).Kc(""))):w=null;return{Lbb:r,wC:w}}).filter(function(r){return r.wC}).map(function(r,w){var x=r.wC;w=h+w;r=r.Lbb.getType();var F=new sS(d,!0),M=c;x.getName()&&(M=oRh(x.getName(),b,M));var X="+"+x.getEmail(),U=kRh.has(b[M.dG]);return new gRh(a.D,x,w,k,F,new tS(b.slice(0,
M.HI)+X+(U?"":" ")+b.slice(M.dG),M.HI+X.length+1,M.HI+X.length+1),r)});l(n,!q.gk(),a.C.C)},e)}
function oRh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(pRh).filter(function(l){return!!l}),e=b.slice(0,c.dG).split(pRh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.dG-a,{text:b.slice(a,c.dG),HI:a,dG:c.dG};f++}return c}
var kRh=new Set([" ","\t","\n"]),mRh=new Set(["@","+"]),pRh=/[ ]/;var qRh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
rRh=new $l(["everybody","nobody"]);function sRh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(sRh,A);sRh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=jRh(a,b);var f=tRh(this,b.text);a=nRh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,uRh,f.query.length,k,l)});this.C=a.gk()?a:null;return!0};
sRh.prototype.F=function(a,b){a=jRh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||$c(qRh,a.text.trim().toLowerCase())||rRh.contains(a.text.trim().toLowerCase())?!1:!0};function tRh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null!=a[2]?{query:a[2],filter:fRh}:null!=a[3]?{query:a[3],filter:dRh}:null}sRh.prototype.getType=ea(2);sRh.prototype.Ja=function(){delete this.C};var uRh=new Tyd(!1);function vRh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(vRh,A);vRh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=lRh(a,b);var f=wRh(this,b.text);a=nRh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,xRh,f.query.length,k,l)});this.C=a.gk()?a:null;return!0};vRh.prototype.F=function(a,b){a=lRh(a,b);return this.D.test(a.text)};
function wRh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null}vRh.prototype.getType=ea(1);vRh.prototype.Ja=function(){delete this.C};var xRh=new Tyd(!0);var yRh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,zRh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function ARh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Dd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function BRh(a){this.C=new DL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");iRh(this.J)}function CRh(a,b){var c=INh(ENh(HNh(new j7,b).Kc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Do(b,1,u(a.L,a,b)))}BRh.prototype.L=function(a,b){if(null!==b&&0<b.length&&FT(this.C,a)){b=b[0];var c=null;jY(FMh(b))?c=(new rY(FMh(b))).setSize(96).Ky():c=FMh(b)||null;b=INh(FNh(HNh(new j7,a).fd(b.getName()),c).Kc(""));this.C.set(a,b)}delete this.H[a]};
function DRh(a){return a.C.C.next.value||null}function ERh(a){return a.F?a.D:null};function FRh(a,b,c){Bo.call(this,c)}v(FRh,Bo);function GRh(a){a=a.rNb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function HRh(a,b,c){b7.call(this,a,b);this.D=c}t(HRh,b7);HRh.prototype.Ba=function(){this.jb(Ky(GRh,{rNb:this.D}))};HRh.prototype.Ia=function(){b7.prototype.Ia.call(this);this.setVisible(!1)};HRh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function IRh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;b7.call(this,a,b);this.Oa=a;this.R=new GA("",b);var e=this.C.bk();this.R.YN=e;this.Ga(this.R);this.O=new GA("",b);this.Ga(this.O);this.V=b.Ub().body;this.D=c;this.H=new BRh(this.Oa);this.Da=this.Xa=null;this.xa=new sQh(b,this.C,this.Oa,this.D);this.J=(this.Ad="legacy"!=this.C.D)?new jR(b):new kR(!1,b);this.Za=!1;this.Ka=!d;c=gx.getInstance();this.Fc=hx(c);this.Wb=hx(c);this.Ec=hx(c);this.tb=null;z(y(),"docs-edp")&&(this.tb=new HRh(a,b,"focused-presenceindicator"));
this.Pb=0;this.Ca=null;this.pb="Comment draft";this.Ta=this.Mc=null;this.$a=!0;this.ma=!1;this.ob=this.fb=this.L=this.Qa=this.Pa=null;this.Ha=!1}t(IRh,b7);m=IRh.prototype;m.Ba=function(){this.Gc(Ky(jQh,{bk:this.C.bk(),II:this.C.Da},void 0,this.oa()))};
m.Gc=function(a){b7.prototype.Gc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ka||P(this.F,this.Ka);var c=new bC;c.Va(this.F);this.qa(c);this.Ta=b.bb("docos-input-at-reply-message",a);this.Ta.setAttribute("id",this.Fc);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.Wb);this.Qa=b.bb("docos-input-assignment-message",a);this.Qa.setAttribute("id",this.Ec);this.Da=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Da;c.J=d;Qz(c,new Lz(d,9));this.Xa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),iR(this.J,this.Xa);c=JRh(this);if(0<c.length){d=!this.D||!this.D.vp();var e;d?e=this.C.L:this.D&&(e=this.D.getElement());this.L=new LQh(this.C,this.F,c,new $Qh(this.C.Za),this.C.O||void 0,e||void 0,this.F||void 0,d);this.qa(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Ux(e,this.O.Al());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.tb&&this.D.vp()&&(a=this.oa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.tb.render(a))};function JRh(a){var b=[],c=new qQh(f7(a.Oa),a.oa());c=GOh(a.C)?new hRh(a.Oa.get("contactStore"),c):null;if(GOh(a.C)){var d=new vRh(c);a.qa(d);b.push(d)}d=HOh(a.C).map(function(e){return e.F()});md(b,d);GOh(a.C)&&(c=new sRh(a.C.wg,c),a.qa(c),b.push(c));return b}
m.Ia=function(){b7.prototype.Ia.call(this);bMe(this.getElement(),!1);this.fb=new bRh(this.F,null,2048);this.qa(this.fb);this.ob=new aC(this.F);this.qa(this.ob);d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(this,this.ob,"input",this.Tyb),this.F,"keydown",this.lE),this.F,"keyup",this.BRb),this.F,"keypress",this.ARb),this.O,"action",this.zRb),this.R.getElement(),["click","keypress","keyup"],this.T1a),this.R,"action",this.UTa),this.Da,"click",this.t5b),this.J,"change",this.v5b),this.J.Wl(),"keypress",this.w5b),
this.Da,["keyup","keypress"],this.u5b),this.xa,"action",this.s5b),this.F,"pointerdown",this.yRb);this.L&&(d7(this,this.L,"update",this.Gpb),d7(this,this.L,"suggestionsupdate",this.S2a));this.F[KRh]=u(this.blur,this);this.F[LRh]=u(this.D6b,this);this.O.getElement()&&(d7(this,this.O.getElement(),["click","keypress","keyup"],this.T1a),this.O.Na(!0));if(this.D&&e7(this.D.ud())&&gPh(this.D.ud())){var a=this.H,b=$6(e7(this.D.ud())).getEmail();b&&!FT(a.C,b)&&CRh(a,b);a.C.isEmpty();a=this.H;b=DRh(this.H);
$c(a.C.Kd(),b);a.D=b;a.F=!0;this.J.Vb(!0)}this.F.value=this.Ca||"";Rx(this.F,"label",this.pb);this.Ha=!0;IOh(this.C)&&(yp(this.getElement(),!0),Ux(this.getElement(),"This is the input pane."))};m.yRb=function(a){$i&&xf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return Cd(this.getValue())};function D7(a){return!Cd(a.getValue())&&!a.Ha}m.Fe=da("pb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ca||"",Rx(this.F,"label",this.pb),this.Ha=!0,nf?Zp(this.VQa,0,this):this.VQa(),E7(this,a),this.F&&(this.F.style.height=""),a||MRh(this),NRh(this,"none"))};
function NRh(a,b){if(a.Ta&&a.Pa&&a.Qa){P(a.Ta,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Qa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Fc;break;case "assignmentMessage":d=a.Ec;break;case "aclFixerMessage":d=a.Wb}null!=d?Rx(c,"describedby",d):Sx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Mc=!b&&a||"",this.F.value=a||"",this.Ha=!1),Yx(this.getElement(),"docos-input-typing"),c||this.focus(),E7(this))};
m.blur=function(){this.D&&this.dispatchEvent(new Bo("b",this.D))};m.focus=function(){nf||Zp(this.TTa,0,this);this.TTa()};m.TTa=function(){this.isDisposed()||Zw(this.F)&&this.F.focus()};m.VQa=function(){this.isDisposed()||$x(this.getElement(),"docos-input-typing")};
function E7(a,b){var c=Dd(a.getValue());c=!a.Ha&&c!=a.Mc;a.R.Na(!a.ma&&(!a.Ka||c&&!a.isEmpty()));a.S2a();var d=ORh(a),e=a.H.D,f=a.H.C.Kd().length;if(a.Ka){var h=a.H;var k=a.getValue(),l=d?$6(d):void 0;d=ARh(zRh,k);k=h.C;h.C=new DL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];FT(k,q)?h.C.set(q,k.get(q)):CRh(h,q)}l&&(l=ef(l.getEmail()),!Cd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=DRh(h))?k.getEmail():null;(h.F||l==n)&&l&&FT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
PRh(a,!1);e=0==f&&h;f=a.C;uY(f.Zg)&&Cj(uY(f.Zg),31)&&e&&!a.ma&&Cj(f.Zg,33)&&!f.R&&!f.ma&&(e=f.Yj,f=DRh(a.H)?DRh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ka&&(a.D.uwa()||!!SOh(a.D.ud()));Cj(a.C.Zg,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Kd(),d),e=oNh(d,a.C,!!ORh(a)),f=a.xa.getElement(),xp(a.Xa,e),Ux(f,e+". Choose an assignee."),by(a.Xa,"docos-input-assignee-text-no-chevron",!Zw(f)),P(a.Da,!0),QRh(a,!0)):(PRh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Da,
!1),QRh(a,!1)));a.ma&&GOh(a.C)&&!a.H.C.isEmpty()?NRh(a,"aclFixerMessage"):a.$a&&GOh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?NRh(a,"assignmentMessage"):a.$a?NRh(a,"atReplyMessage"):NRh(a,"none"):NRh(a,"none");(e=ERh(a.H))&&a.D?(f=!!ORh(a),e=oNh(e,a.C,f),f=f?"Reassign":"Assign"):a.Za?(e="Save changes",f="Save"):!a.D||a.D.ud().tB()?(e="Post Comment",f="Comment"):a.D.ud().PX()?(e="Assign suggested action item",f="Assign"):(e="Reply to comment",f="Reply");a.R.getElement()&&c7(a.Oa).C.C(a.R.La(),e);xp(a.R.getElement(),
f);RRh(a);c?(SRh.contains(a)||(SRh.add(a),a.dispatchEvent(new FRh(a.D.getId(),1,"pr"))),Yx(a.getElement(),"docos-input-nohide")):(TRh(a),$x(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function TRh(a){SRh.contains(a)&&(SRh.remove(a),a.dispatchEvent(new FRh(a.D.getId(),0,"pr")))}
m.S2a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.sf()&&(this.getElement().setAttribute("aria-autocomplete","list"),xB(this.L)&&this.getElement().setAttribute("aria-activedescendant",XQh(this.L)))};function QRh(a,b){if(b=b&&a.D)b=a.D,b=b.vp()&&b.Ec;b?(a.C.At||fe)("docosTodos",u(a.L7b,a)):(a.C.Xh||fe)("docosTodos")}m.L7b=function(){this.dispatchEvent("ph")};function PRh(a,b){a.J.Vb(b);a.H.F=b}
function ORh(a){return a.D&&!a.D.ud().tB()&&SOh(a.D.ud())?e7(a.D.ud()):null}m.T1a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.zRb=function(){this.dispatchEvent("c");this.reset()};m.UTa=function(){if(this.R.isEnabled()){var a=this.H.C.kf(),b=this.C;if(Cj(b.Zg,33)&&!b.R&&!b.ma&&!ad(a)&&(b=this.C.nm)){NRh(this,"aclFixerMessage");this.ma=!0;E7(this);this.O.getElement()&&this.O.Na(!1);b(a,u(this.qob,this));return}URh(this)}};
m.t5b=function(){this.ma||(PRh(this,!this.J.isChecked()),E7(this))};m.v5b=function(){var a=this.J.isChecked();this.H.F=a;E7(this)};m.w5b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Vb(a.oD?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.u5b=function(a){a.stopPropagation()};m.s5b=function(){this.J.Vb(!0);var a=this.H,b=tQh(this.xa);$c(a.C.Kd(),b);a.D=b;a.F=!0;E7(this)};
m.qob=function(a){this.ma&&(this.ma=!1,"continue"==a?URh(this):NRh(this,"atReplyMessage"),this.D.getContext()&&(E7(this),this.O.getElement()&&this.O.Na(!0)))};function URh(a){nf&&a.D&&a.D.ud().tB()&&Jf(a.fb);a.dispatchEvent("p");a.reset()}m.D6b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new Bo("f",this.D))};function RRh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=Ww(a.F).height;return b!=c&&0<d?(Vw(a.F,d+c-b),!0):!1}
m.lE=function(a){RRh(this)&&this.dispatchEvent("s");this.Pb=a.keyCode;if(13==a.keyCode)VRh?a.metaKey&&uf&&$i&&WRh(this,a):WRh(this,a);else if(27==a.keyCode){rf&&a.preventDefault();if(this.L&&this.L.sf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new Bo("e",this.D));MRh(this)}a.stopPropagation()};
m.BRb=function(a){RRh(this)&&this.dispatchEvent("s");var b=this.Pb;this.Pb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Zc){xd(this.getValue(),"\n")?this.lE(a):a.preventDefault();return}this.Zc=!1}a.stopPropagation()};m.ARb=function(a){if(13==a.keyCode&&VRh)WRh(this,a);else if(27==a.keyCode){if(this.L&&this.L.sf())return;this.blur();MRh(this)}a.stopPropagation()};function WRh(a,b){if(b.ctrlKey||b.metaKey)a.Zc=!0,a.R.getElement().focus(),a.UTa()}
function MRh(a){a.V&&(nf&&!xf("9")?a.V.focus():Zp(function(){return a.V.focus()}))}m.Tyb=function(){E7(this)};m.Gpb=function(){E7(this)};m.Ja=function(){b7.prototype.Ja.call(this);TRh(this);this.F&&(this.F[KRh]=null,this.F[LRh]=null);delete this.F;delete this.fb;delete this.ob};var SRh=new $l,KRh=nf?"onfocusout":"onblur",LRh=nf?"onfocusin":"onfocus",VRh=uf||mf||rf;sf&&xf("530");function XRh(a,b,c,d,e,f,h){d=void 0===d?0:d;lQh.call(this,a,b);this.$m=c||null;this.Fp=d;this.C=e||null;this.B0=h}t(XRh,lQh);function YRh(a){this.C=c7(a)};function ZRh(a,b){b.PX()?a.V+=1:b.tB()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.zk()?(b=hPh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function $Rh(a,b,c,d,e){this.Rj=a;this.C=b||null;this.$m=c||null;this.Fp=d||null;this.flags=e||null};function aSh(a,b,c,d){Bo.call(this,b,a);this.source=c;this.C=d}t(aSh,Bo);function bSh(a,b){this.F=a;this.D=b;this.C=[]}function cSh(a){return new aSh(a.F,"bu",a.D,a.C)};function dSh(){this.D={};this.C={};this.F=0}function eSh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function fSh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new gSh(c,d);a.C[c][d||"$"]=b}dSh.prototype.bind=function(a,b){if(null!==eSh(this,a,b))return!1;this.F++;fSh(this,this.F,a,b);return!0};function hSh(a,b,c){var d=eSh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function iSh(a,b,c,d,e){var f=eSh(a,b,c);if(null===f||null!==eSh(a,d,e))return!1;hSh(a,b,c||void 0);fSh(a,f,d,e);return!0}
function jSh(a,b,c){return eSh(a,b,c)||0}dSh.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function gSh(a,b){this.C=a;this.D=b||null};function kSh(){this.D={}}kSh.prototype.C=function(a){gPh(a)||(this.H(a),a.eR()&&(this.D[a.getId()]=!0))};kSh.prototype.H=function(a){delete this.D[t7(a)];delete this.D[a.getId()]};kSh.prototype.F=function(){return!Td(this.D)};function lSh(a){this.J=a;this.D=new kSh}lSh.prototype.C=function(a){this.D.C(a);a=this.J.gj;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};lSh.prototype.H=function(a){this.D.H(a)};lSh.prototype.F=function(){return this.D.F()};function mSh(a){No.call(this);this.Ca=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Da={};this.L={};this.D=new dSh;this.Ka=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new lSh(this.Ca)}v(mSh,No);function nSh(a,b){a.zk();var c="<i>Made a suggestion</i>";(a=a.l3())&&(b=b.$r)&&(b=b(a).C())&&(c=b);return c}function oSh(a,b){return"n"!=b&&!gPh(a)&&a.eR()}
function pSh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new bSh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=u7(d);h.C.push(new $Rh(b,c,d,e,f));k&&a.dispatchEvent(cSh(h))}
function z7(a,b,c,d){c=c||"c";var e=qSh(a),f=rSh(a,b.getId(),K(S6(b.C),11)||"");if(f){var h=f.getId(),k=l7(f.C);b=b.C;var l=Uj(f.F);S6(b);var n=S6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!l7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&l7(f.C),x=R6(n),F=!1,M=0;M<x.length;M++){var X=x[M],U=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;U||(U=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!U);if(U){var ca=U.getId();U.update(X);if(ca!=U.getId()&&(delete f.D[ca],f.D[U.getId()]=U,jSh(f.O,
r,ca)&&!iSh(f.O,r,ca,r,U.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+U.getId());l7(U)?(delete f.D[U.getId()],f.J[U.getId()]=U,hSh(f.O,r,U.getId())):F&&!l7(U)&&(delete f.J[U.getId()],f.D[U.getId()]=U,f.O.bind(r,U.getId()))}else U=new dOh(X),l7(U)?(f.J[U.getId()]=U,hSh(f.O,r,U.getId())):(f.D[U.getId()]=U,delete f.J[U.getId()],f.O.bind(r,U.getId())),U=R6(S6(f.F)),U.push(X),X=S6(f.F),Qj(X,8,U)}r=0;void 0!==Cj(b,6)&&Cj(b,6)!=f.isResolved()&&(r=Cj(b,6)?r|2:r|4);q&&!F?r|=16:w&&
(r|=8);Qj(n,8,[]);q&&(n.setContent(void 0),Oj(n,4,void 0),Oj(n,9,void 0));zNh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.iR=null;Tj(f.F,l)||(r|=1);b=r;a.xa.C(f);sSh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=jSh(a.D,h),delete a.Da[l],a.C[f.getId()]=f,l&&!iSh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=jSh(a.D,f.getId());l7(f.C)?(delete a.C[f.getId()],hSh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Da[l]=f),oSh(f,c)&&(dd(a.H,f.getId()),dd(a.Ha,
f.getId())),d=oPh(nPh("dd"),c),k=f.getId(),d.D=k,k=u7(f),d.vr=k,d.C=l,d=pPh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(rPh(d))):(k&&(delete a.F[f.getId()],delete a.Da[l],a.C[f.getId()]=f,(a.Ca.Ha||u7(f))&&a.D.bind(f.getId()),l=jSh(a.D,f.getId())),0!=b&&(oSh(f,c)&&dd(a.H,f.getId()),pSh(a,c,h,f,l,b,d)))}else f=new dPh(b.C,a.D,b.Us?b.Us:void 0),a.xa.C(f),l7(f.C)?a.F[f.getId()]=f:tSh(a,f,c,d);qSh(a)!=e&&(e=qSh(a)?32:0,c=rPh(pPh(oPh(nPh("p"),c),e)),a.dispatchEvent(c))}
function EPh(a,b,c){for(var d=new bSh(a,c),e=0;e<b.length;e++)z7(a,b[e],c,d);a.dispatchEvent(cSh(d))}function vPh(a,b){b.getNewDocoType()||kPh(b,"draft");b=new dPh(b.C,a.D,b.Us?b.Us:void 0);a.xa.C(b);tSh(a,b)}
function tSh(a,b,c,d){if(Cj(a.Ca.Zg,38)||!b.isTodo()){c=c||"c";var e=null;b.Iz()&&(e=uSh(a,u7(b)));e&&gPh(e)?(iSh(a.D,e.getId(),null,b.getId(),null),zPh(a,e.getId(),c)):(a.Ca.Ha||b.Iz())&&a.D.bind(b.getId());a.C[b.getId()]=b;sSh(a,b);e=8|(b.isResolved()?2:0);oSh(b,c)&&dd(a.H,b.getId());var f=jSh(a.D,b.getId());pSh(a,c,void 0,b,f,e,d)}}
function zPh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Iz()){var e=u7(d);delete a.L[u7(d)]}a.xa.H(d);d=jSh(a.D,b);delete a.C[b];hSh(a.D,b);c=oPh(nPh("dd"),c);c.D=b;c.C=d;b=pPh(c,16);void 0!=e&&(b.vr=e);a.dispatchEvent(rPh(b))}}function F7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function IPh(a,b){b=b.getId();return $c(a.Ka,x7(a,b))}mSh.prototype.R=function(a){return(this.Ca.Ha||a.Iz())&&(!a.isResolved()||this.V)};function vSh(a){var b=Zd(a.C);ae(b,a.F);return b}
function wSh(a){var b=new MMh;a=Nd(vSh(a));for(var c=0;c<a.length;c++)ZRh(b,a[c]);return NMh(b)}function xSh(a){function b(d){return d.eR()}var c=Tc(Nd(a.C),b);a=Tc(Nd(a.F),b);return c.concat(a)}function qSh(a){return a.Oa?a.xa.F():!1}function ySh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.eR())return!0}return!1}mSh.prototype.ud=function(a){return this.C[a]};function rSh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function sSh(a,b){u7(b)&&(l7(b.C)?delete a.L[u7(b)]:a.L[u7(b)]=b)}function uSh(a,b){var c=a.L[b]||null;return c&&u7(c)!=b?(delete a.L[b],null):c}function A7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function DPh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?p7(a,b):null:null}mSh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function x7(a,b,c){return jSh(a.D,b,c)}
mSh.prototype.flush=function(a){this.dispatchEvent(rPh(qPh(oPh(nPh("f"),"c"),!!a)));this.dispatchEvent(rPh(oPh(nPh("af"),"c")))};function zSh(a,b){a=a.ma;if(!a)return null;b=b.Dc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new Xm(b,b+a.height)}function ASh(a,b){return(a=BSh(a,b))?new vY(a.getKey().getId(),a.getValue()):null}
function BSh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Zd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=ePh(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+CSh(h,c,b);if(k>d)return new vY(h,d-a);a=k}return null}function DSh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Jq('<span class="%s">%s</span>',d,h));c+=h}return c}
function CSh(a,b,c){a=ESh(a,c);if(!a)return 0;a=jp(a).textContent.toLowerCase();return Cga(a,b.toLowerCase())}function ESh(a,b){var c=a.Ufa();if(!c){var d=FSh();a.zk()?c=XL(d,nSh(a,b)):a.getContent()?c=XL(d,a.getContent()):c=null}return c}function FSh(){var a=Gic();a.F=ge;return new Aic(a)};function GSh(a,b){this.C=a;this.D=b};function HSh(a,b,c){this.C=a;this.D=b;this.F=c};function ISh(a,b,c,d){b7.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new GA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(ISh,b7);m=ISh.prototype;m.Gc=function(a){b7.prototype.Gc.call(this,a);this.H=this.oa().bb("like-button-text",a);this.J=this.oa().bb("docos-icon",a);this.F=this.oa().bb("docos-icon-img",a);this.D.Va(this.getElement())};m.Ia=function(){d7(this,this.D,"action",this.mRb);d7(this,this.getElement(),["click","keypress","keyup"],this.lRb);this.update()};m.RTa=da("L");
m.lRb=function(a){a.stopPropagation()};function JSh(a){var b=g7(a.R).ud(a.L);return null!=a.O?p7(b,a.O):b}m.mRb=function(a){a.stopPropagation();a=i7(this.R);var b=JSh(this).Hz();b=!b||1!=k7(b);null!=this.O?a.zf("docos-vote-reply").mb(new HSh(this.L,b,this.O)):a.zf("docos-vote-doco").mb(new GSh(this.L,b))};
m.update=function(){var a=JSh(this).Hz(),b=!a||0==ONh(a,1).length&&1!=k7(a);$x(this.H,"no-votes");!b||Yx(this.H,"no-votes");ay(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);ay(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Yx(this.F,"docos-icon-thumb-black"):1==k7(a)?(Yx(this.J,"current-user-has-up-vote"),Yx(this.F,"docos-icon-thumb-green")):0<ONh(a,1).length&&(Yx(this.J,"post-has-votes-no-current-user-vote"),Yx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=ONh(a,1),b=k7(a),c=c.length,1==b&&c++);xp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==k7(a))&&(b="Unlike this"),a=ONh(a,1),0<a.length))for(b=ff(b,"\n"),c&&(b=ff(b,"\n","You")),c=0;c<a.length;c++)b=ff(b,"\n",a7(DNh(N(a[c].C,sY,1))));this.D.getElement()&&c7(this.R).C.C(this.D.La(),b)};function KSh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';
a+=R(FA({id:"docos-shadow-confirm",content:wx("Delete")},b));a+=R(FA({id:"docos-shadow-cancel",content:wx("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function LSh(a,b){b7.call(this,a,b);this.D=this.J=this.L=this.V=this.Ca=this.R=this.ge=null;this.H=new GA(null,b);this.Ga(this.H);this.F=new GA(null,b);this.Ga(this.F);this.Ig=this.O=null;this.ma=!1;this.xa=new xA(this);this.qa(this.xa);a=i7(a);this.xa.Kb(a.Ra("docos-highlight-doco"),kt,this.O0)}v(LSh,b7);var MSh=null;function NSh(a,b){MSh||(MSh=new LSh(a,b),MSh.render());return MSh}var OSh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=LSh.prototype;
m.Ba=function(){this.jb(Ky(KSh,{},void 0,this.oa()))};
m.Ia=function(){LSh.Ua.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new nC(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);oC(this.O);this.Ig=new hy(a.Ub());this.qa(this.Ig);this.ma=!0}d7(d7(d7(d7(this,this.H,"action",this.Odb),this.F,"action",this.Pdb),this.getElement(),
["keyup","keydown"],this.Qdb),this.Ig,"focusin",this.ey)};m.prompt=function(a,b,c,d,e,f){this.qb()&&this.vd();if(c!=this.V){var h=OSh[c];h&&this.oa().Re(this.L,h);this.V=c}this.ge=b;this.R=a;this.J=e||null;b=Ww(a);Tw(this.D,b);b=Jw(a,"paddingLeft");c=Jw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?ix(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ca=d.getId(),this.getHandler().listen(d,"rd",this.Rdb))};
m.vd=function(){LSh.Ua.vd.call(this);this.J=this.R=this.ge=null};m.O0=function(){Tw(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();np(this.getElement());this.qb()&&this.vd()};m.Pdb=function(){this.ge&&this.ge();this.O0()};m.Qdb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.O0())};m.Odb=function(){this.O0()};m.Rdb=function(a){a.target&&a.target.getId()==this.Ca&&this.R&&P(this.getElement(),!0)};
m.ey=function(a){a=a.target;vp(this.getElement(),a)||this.O0()};function PSh(a,b){return 1==b&&!a.C&&!a.getId()};function QSh(a,b,c,d){b7.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new GA(null);this.F=null;this.qa(this.D)}t(QSh,b7);m=QSh.prototype;m.Gc=function(a){b7.prototype.Gc.call(this,a);this.F=this.oa().bb("vote-button-text",a);this.D.Va(this.getElement())};m.Ia=function(){d7(this,this.D,"action",this.vRb);d7(this,this.getElement(),["click","keypress","keyup"],this.uRb);this.update()};m.RTa=da("H");m.uRb=function(a){a.stopPropagation()};
function RSh(a){var b=g7(a.L).ud(a.H);return null!=a.J?p7(b,a.J):b}m.vRb=function(a){a.stopPropagation();a=i7(this.L);var b=RSh(this).Hz();b=!b||1!=k7(b);null!=this.J?a.zf("docos-vote-reply").mb(new HSh(this.H,b,this.J)):a.zf("docos-vote-doco").mb(new GSh(this.H,b))};
m.update=function(){var a=RSh(this).Hz();ay(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==k7(a)?Yx(this.F,"current-user-has-up-vote"):0<ONh(a,1).length&&Yx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=ONh(a,1);b=k7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}xp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==k7(a))&&(b="Remove your +1"),a=ONh(a,1),0<a.length))for(b=ff(b,"\n"),c&&(b=ff(b,"\n","You")),c=0;c<a.length;c++)b=
ff(b,"\n",a7(DNh(N(a[c].C,sY,1))));this.D.getElement()&&c7(this.L).C.C(this.D.La(),b)};function SSh(a,b,c,d,e,f,h){b7.call(this,a,d);this.F=a;this.ob=c7(this.F).O;this.wg=new YRh(a);this.O=b;this.H=e;this.Vg=h||"";this.ze=u(this.nRb,this);this.D=null;this.Kc(f||"root");this.Pa=c;this.tb=!0;this.Xa=2;this.$d=!1;this.Me=this.F.get("relativeDateFormatter");this.Mc=this.Qa=this.Da=this.Oa=this.Vd=this.Ta=this.Za=this.$a=this.Ad=this.Ec=this.Zc=this.Wb=this.xa=this.If=this.Pb=this.pb=this.Ca=this.bf=this.R=this.L=this.J=this.V=this.ma=this.Ka=this.Fc=this.Ha=null;this.fb=new Aic(Fic(["data-rawHref"]));
d7(this,this.Me,"Cj",u(this.zTa,this,!0))}t(SSh,b7);m=SSh.prototype;m.ud=function(){return g7(this.F).ud(this.O)};function TSh(a){return p7(a.ud(),a.getId())}function G7(a){return H7(a)?a.ud():TSh(a)}
m.Ba=function(){var a=this.oa(),b=G7(this),c=b.ww(),d=USh(this),e=VSh(this);if(H7(this)&&fOh(this.ud().C)){var f=Dd(fOh(this.ud().C));f=f.replace(WSh,"<br>").replace(XSh," ");f=XL(this.fb,f)}else f=null;var h=f;f="legacy"!=this.C.D;var k="Unknown"===c.getName();b=Ky(fQh,{author:c.getName(),Wg:c.C,yM:this.C.V&&!k?c.getId():null,Kma:e||"",Qe:this.Vg,vp:this.Pa,Zma:YSh(this),Hm:I7(this),kva:d,xB:H7(this),zk:b.zk(),H$b:h?h:"",yya:ZSh(this),gJ:$Sh(this),FX:!!G7(this).EB(),bk:this.C.bk(),Sea:this.C.Sea(),
ava:this.C.ava(),timestamp:aTh(this),zcb:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",ao:f},void 0,a);this.jb(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.Wb=a.bb("docos-body-action-text",b);this.Ec=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);d&&h&&(this.ma=new GA(null,a),k=this.C.bk(),this.ma.YN=k,this.qa(this.ma),this.V=new GA(null,a),this.qa(this.V),this.ma.Va(d),this.V.Va(h));if(k=a.bb("docos-replyview-resolve-button",
b)){this.J=new GA(null,a);var l=this.C.bk();this.J.YN=l;this.qa(this.J);this.J.Va(k)}(k||d&&h)&&bTh(this);d=this.oa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new QSh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(h)):k&&(this.R=new ISh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(I7(this)||YSh(this)||H7(this))&&d&&(f=Ky(eQh,{gi:"docos-icon-overflow-three-dots",rB:"docos-icon-overflow-three-dots-size",
hR:f}),a.appendChild(d,f),Hw(d,"visibility",""),f=[],I7(this)&&(f=f.concat(["edit"])),YSh(this)&&(f=f.concat(["delete"])),H7(this)&&(this.C.Fc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new JOh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.bf=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ca=a.bb("docos-collapsible-replyview",b);this.pb=a.bb("docos-replyview-timestamp",b);H7(this)&&fOh(this.ud().C)&&
(this.xa=a.bb("docos-replyview-quote",b),this.$a=a.bb("docos-replyview-quote-expand",b),this.Ta=a.bb("docos-replyview-quote-collapse",b));(this.Pb=a.bb("docos-show-less",b))&&cTh(this);this.If=a.bb("docos-show-more",b);this.Vd=a.$h("docos-replyview-static",b);I7(this)&&this.D&&dTh(this);(I7(this)||YSh(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Da=oV(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.Ad)&&c.getId()?
h(c.getId()):(d=d.tE)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Qa=a.bb("docos-replyview-origin",b);eTh(this);e&&(this.Ka=e,fTh(this,Ce(e)),gTh(this),hTh(this));iTh(this)};
function iTh(a){if(IOh(a.C)){var b={AUTHOR_NAME:G7(a).ww().getName(),CREATION_TIME:aTh(a)};if(a.Ha.textContent)if($Sh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=$Sh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=$Sh(a);c=(new pB(c)).format(b);Ux(a.getElement(),c)}}
function jTh(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.tAa(!1),b=a.ud())b.zk(),kTh(a,!1,yNh(a.H))}else a.dispatchEvent("br"),a.H.tAa(!1),(b=a.ud())&&(b.zk()?lTh(a):kTh(a,!0,yNh(a.H))),a.dispatchEvent("ar")}function mTh(a){a.D||(a.D=new IRh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.Ca="Edit your comment...",a.D.$a=!1,d7(d7(d7(a,a.D,"p",a.xec),a.D,"c",a.PFa),a.D,"s",a.oRb),a.getElement()&&dTh(a))}
function dTh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):H7(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=$Sh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Ky(jQh,{Qe:c,cJa:d,ena:e,gJ:f,bk:a.C.bk(),II:a.C.Da});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.fC(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Zc=b.bb("docos-edit-pane-action-text",c)}
m.a8b=function(a){a&&a.stopPropagation();jTh(this)};
m.Ia=function(){b7.prototype.Ia.call(this);d7(this,this.getElement(),["click","keypress","keyup"],this.pRb);this.xa&&(d7(d7(this,this.Ta,"click",this.w2a),this.$a,"click",this.w2a),nTh(this));this.J&&d7(this,this.J,"action",this.a8b);this.ma&&this.V&&d7(d7(d7(this,this.ma,"action",this.j5b),this.V,"action",this.$7b),this.C,"r",this.qRb);this.L&&d7(d7(d7(this,this.L,"d",this.Y5b),this.L,"e",this.rRb),this.L,"ra",this.S7b);var a=G7(this).ww();oTh(this,a);this.Oa&&pTh(this,a);qTh(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();IOh(this.C)&&yp(this.getElement(),!0)};m.qRb=function(){bTh(this)};
function bTh(a){var b=a.ud();if(b){var c=G7(a);if(c){var d=c.zk();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.AH())return;d=a.C.F;d=c.zk()&&"full"==d.C&&IPh(g7(a.F),b)&&!a.C.ma;var e=a.C.F;b=c.zk()&&(qOh(e,c)||"full"==e.C)&&IPh(g7(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&c7(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&c7(a.F).C.C(a.V.getElement(),f);a.ma.Na(d);a.V.Na(b)}else SOh(b)?
(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=USh(a),a.J.Na(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":g7(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Sea()||xp(a.J.getElement(),d),a.J&&a.J.getElement()&&c7(a.F).C.C(a.J.La(),b));!a.Ec||null!==a.Ad&&a.Ad==c||(P(a.Ec,c),a.Ad=c)}}}}function rTh(a){var b=X6(W6(V6(a.H.getId()),a.H.Za)),c=i7(a.F);c.zf("docos-before-highlight-doco").mb(b);F7(g7(a.F),a.H.getId());c.zf("docos-highlight-doco").mb(b)}
m.rRb=function(){rTh(this);sTh(this)};m.Y5b=function(){rTh(this);H7(this)?this.H.k1a():tTh(this)};m.S7b=function(a){rTh(this);this.dispatchEvent(new lQh("ra",this.O));a.stopPropagation()};function oTh(a,b){var c=b.D,d=f7(a.F);a.Da&&PSh(b,G7(a).getOrigin())&&(c=UPh(d),Yx(a.Da,"docos-avatar-unverified"),a.C.C.C(a.Da,"Author from imported document"));vNh(d,a.Da,c,a7(b))}function pTh(a,b){(b=b.getName())?(b=XL(a.fb,b),Ke(a.Oa,b)):(b=XL(a.fb,""),Ke(a.Oa,b))}
function qTh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Oa&&a.C.C.C(a.Oa,c),a.Da&&a.C.C.C(a.Da,c))}function uTh(a,b){a.J&&a.oa().Qi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Qi(a.ma.getElement(),b),a.oa().Qi(a.V.getElement(),b));a.L&&a.L.Sh(b);a.R&&a.oa().Qi(a.R.getElement(),b)}function vTh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.ql()&&this.tb&&nTh(this);var a=this.D&&I7(this)&&D7(this.D),b=VSh(this),c=Ce(b),d=!this.Ka||Ce(this.Ka)!=c;d&&(this.Ka=b,Ke(this.Ha,b),hTh(this));gTh(this);fTh(this,c);H7(this)||this.dispatchEvent(new B7(this.getId()));I7(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=G7(this).ww();oTh(this,b);this.Oa&&pTh(this,b);qTh(this,b);eTh(this);if(this.Pa&&!a){switch(this.Xa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.ql()?this.expand():this.collapse()}cTh(this)}this.zTa();
d&&(this.D&&this.D.qb()&&this.D.reset(!0),this.PFa());bTh(this);this.R&&this.R.update();this.L&&this.L.update();iTh(this)};m.iA=function(){if(this.Fc){var a=wTh(this,this.Fc);a.Lo()!=this.Ka.Lo()&&(this.Ka=a,Ke(this.Ha,this.Ka),hTh(this))}};function VSh(a){var b=G7(a),c=b.Ufa();if(!c){c=b.getContent();var d=b.swa();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.zk()&&(c=nSh(b,a.C));c=XL(a.fb,c)}a.Fc=c;return wTh(a,c)}
function wTh(a,b){var c=g7(a.F),d=c.J;if(!d)return b;a=(c=ASh(c,a.C))&&c.getKey()==G7(a).getId()?c.getValue():void 0;c=FSh();var e=hp("DIV");e.appendChild(jp(XL(c,Ye(d))));d=e.innerHTML;e.replaceChild(jp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new Xm(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new Xm(f,r)),f=r):k||((w=Bd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new Xm(f,r+1)),h=DSh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=DSh(q,b,h);h+=b.slice(f,b.length);return XL(c,h)}m.zTa=function(a){if(this.pb){var b=aTh(this);b&&(a&&(this.pb.textContent=b),a=G7(this),H7(this)||this.Pa||a.Tx().equals(a.YP())||(this.pb.textContent=b))}};function aTh(a){var b=a.Me,c=G7(a),d=c.Tx();return d?a.Pa||H7(a)||!(a=c.YP())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Zw(this.getElement())};m.oRb=function(a){this.dispatchEvent(new B7(this.O));a.stopPropagation()};function tTh(a){var b=a.getElement();b&&(a.C.ob?(b=a.C.fb,b(function(){return a.ze()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):NSh(a.F,a.oa()).prompt(b,a.ze,"delete-reply",a,a.H.getElement(),!a.Pa))}
m.pRb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!H7(this)&&Xx(c,"docos-replyview-delete")&&b?(tTh(this),a.stopPropagation(),a.preventDefault()):Xx(c,"docos-replyview-edit")&&b?(sTh(this),a.stopPropagation(),a.preventDefault()):Xx(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new B7(this.O)),this.Pb.focus()):Xx(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new B7(this.O)),this.If.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&vp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function xTh(a,b){var c=a.ud();if(!c||IPh(g7(a.F),c)){var d=G7(a);d&&d.AH()&&(c=a.C.H[b])&&(a=x7(g7(a.F),a.O))&&(d=d.Iz&&d.Iz()&&!d.isResolved()?u7(d):void 0,b=(new Z6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function lTh(a){var b=a.ud();b&&b.zk()&&xTh(a,"before-suggestion-accepted")}m.j5b=function(){var a=Date.now();lTh(this);this.ob&&this.ob.So("dsabb",Date.now()-a)};function kTh(a,b,c){var d=a.ud(),e=a.H;e.D&&D7(e.D)&&e.D.setValue("");d&&!d.zk()&&d.isResolved()!=b&&i7(a.F).zf("docos-resolve-doco").mb(new sNh(a.O,b,c||null))}m.$7b=function(){var a=Date.now();xTh(this,"before-suggestion-rejected");this.ob&&this.ob.So("dsrbb",Date.now()-a)};
m.expand=function(){G7(this).zk()||($x(this.Ca,"docos-collapsed-replyview"),this.Xa=150>=this.Ca.offsetHeight?2:1,cTh(this))};m.collapse=function(){!G7(this).zk()&&this.Pa&&($x(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.Xa=2:(this.Xa=0,Yx(this.Ca,"docos-collapsed-replyview")),cTh(this))};function cTh(a){if(!G7(a).zk()){var b=1==a.Xa;b!=a.$d&&(a.Pb.style.display=b?"block":"none",a.$d=b)}}function H7(a){return"root"==a.getId()}
function YSh(a){var b=G7(a);return b?sOh(a.C.F,b)&&!a.C.ma:!1}function I7(a){var b=G7(a);return b?rOh(a.C.F,b):!1}function USh(a){var b=a.ud();return b?tOh(a.C.F,b):!1}m.nRb=function(){if(this.isDisposed())return!1;i7(this.F).zf("docos-delete-reply").mb({Rj:this.O,Jza:this.getId()});return!0};function sTh(a){I7(a)&&(mTh(a),yTh(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready(G7(a).XA()))}
m.PFa=function(){I7(this)&&(yTh(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};m.xec=function(){if(I7(this)){mTh(this);var a=i7(this.F),b=this.D.getValue();Cd(b)||(H7(this)?a.zf("docos-edit-doco").mb({id:this.O,text:b,gpa:this.D}):(b={Rj:this.O,Jza:this.getId(),text:b,gpa:this.D},a.zf("docos-edit-reply").mb(b)))}};function yTh(a,b){for(var c=0;c<a.Vd.length;++c)P(a.Vd[c],b)}
m.w2a=function(){var a=Xx(this.xa,"docos-replyview-quote-collapsed");P(this.$a,!a);P(this.Ta,a);this.tb=!a;a?dy(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):dy(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function nTh(a){!a.xa||0>=Ww(a.xa).height||(dy(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Ww(a.xa).height?(P(a.$a,!0),P(a.Ta,!1),dy(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.$a,!1),P(a.Ta,!1)),a.tb=!0)}m.vd=function(){b7.prototype.vd.call(this);h7(f7(this.F),this.Da)};function eTh(a){var b=ZSh(a);b?(b=XL(a.fb,b),Ke(a.Qa,b),P(a.Qa,!0)):P(a.Qa,!1)}
function ZSh(a){var b=G7(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=uY(a.Zg)&&Cj(uY(a.Zg),33)&&b.Uua()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function $Sh(a){var b=a.wg;var c=G7(a),d=a.ud();c&&d?(a=c.Tfa(),0==a&&e7(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.EB(),c=(d=SOh(d))&&d.getId()!=c.getId(),a=$6(a),b=nNh(a,b.C,!0),b=c?(new pB("Reassigned to {user}")).format({user:b}):(new pB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function fTh(a,b){b=-1==ne(b,!0);if(null===a.Mc||b!=a.Mc)bMe(a.bf,b),a.Mc=b}
function gTh(a){var b=$Sh(a);a.Wb&&xp(a.Wb,b);a.Zc&&xp(a.Zc,b)}function hTh(a){if(a.C.Pb)for(var b=Wo("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Lf(d,Jo,a.F5b)}}m.F5b=function(a){PLe(this.C.Pb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var XSh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,WSh=/[\n-\x0B]/g;function zTh(a,b){b7.call(this,a,b);this.D=!1}v(zTh,b7);zTh.prototype.Ba=function(){var a=this.oa();this.jb(Ky(hQh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};zTh.prototype.setVisible=function(a){a!=this.D&&this.qb()&&(P(this.getElement(),a),this.D=a)};zTh.prototype.isVisible=g("D");zTh.prototype.Ja=function(){zTh.Ua.Ja.call(this);delete this.F};function J7(a,b,c,d,e){C7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new SSh(a,b,this.vp(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Fc=u(this.fRb,this);this.Vd=tPh(a);this.Ha="docos-docoview-input-pane";this.Wb="";this.tb=this.Mc=null;this.ob=!1;this.J=null;IOh(this.C)&&(a=new cB(this),this.qa(a),a.jj("up",38),a.jj("down",40),this.getHandler().listen(a,"shortcut",this.vub))}t(J7,C7);
function ATh(a){a.D||(a.D=new IRh(a.getContext(),a.oa(),a),a.qa(a.D),a.D.Ca="Reply...",a.D.Fe("Reply"),a.LAa(),a.getElement()&&BTh(a))}m=J7.prototype;m.vub=function(a){switch(a.identifier){case "down":a=CTh(this);var b=DTh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=CTh(this),b=DTh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function CTh(a){var b=ePh(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function DTh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Np(e);if(d==f||e.contains(d,f))return c}return-1}
function BTh(a){var b=a.oa(),c=Ky(jQh,{Qe:a.Ha,cJa:"",ena:a.Wb,gJ:"",bk:a.C.bk(),II:a.C.Da}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.fC(c,e);a.D.Va(c);a.D.V=d}m.LAa=function(){this.D&&d7(d7(d7(d7(d7(this,this.D,"p",this.kRb),this.D,"c",this.iRb),this.D,"b",this.hRb),this.D,"e",this.jRb),this.D,"s",this.mY)};
m.Ba=function(){C7.prototype.Ba.call(this);var a=this.getElement(),b=this.oa();this.D&&BTh(this);Px(a,"listitem");this.tb=b.bb("docos-docoview-replycontainer",a);this.Mc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Mc);ETh(this)};m.Ia=function(){C7.prototype.Ia.call(this);d7(this,this.getElement(),["keydown","keypress","keyup"],this.gRb);if(this.D){var a=this.getElement();this.D.V=a}yp(this.getElement(),!0)};m.rb=g("tb");
m.Kc=function(a){C7.prototype.Kc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&LOh(b.L,a);b.R&&b.R.RTa(a)}};m.vp=ea(!1);m.PTa=function(a){if(!Xx(a.target,"docos-noclick")){var b=i7(this.getContext()),c=W6(V6(this.getId()),this.Za);b.zf("docos-before-highlight-doco").mb(X6(c));F7(g7(this.R),this.getId());b.zf("docos-highlight-doco").mb(X6(aNh(c)));this.ma=!0;this.MXa(a)}};m.MXa=ba();
m.gRb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&W8a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&uOh(this.C.F)&&this.ma&&(ATh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.k1a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().zk())this.Fc("suggestion");else if(b){var c=function(){return a.Fc("discussion")};this.C.ob?(0,this.C.fb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):NSh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function ETh(a){for(var b=ePh(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new SSh(a.getContext(),a.getId(),a.vp(),a.oa(),a,e);a.Ef(f,mx(a,c)+1,!0);c=a.H[e]=f}}}m.kRb=function(){if(this.D){var a=this.D.getValue(),b=ERh(this.D.H);b=b?LNh(b):void 0;if(!Cd(a)){var c=x7(g7(this.getContext()),this.getId());this.dispatchEvent(new XRh("sr",this.getId(),u7(this.ud()),c,a,void 0,b))}}};m.iRb=function(){wPh(this.Vd,cPh(bPh(aPh($Oh(43012),this.ud().getId()),u7(this.ud()))))};
m.hRb=function(){this.ql()&&(this.ma=!0)};m.jRb=function(){this.ql()&&(this.ma=!0)};m.focus=function(){ATh(this);var a=this.ql();a&&Zw(this.getElement())&&uOh(this.C.F)&&(this.ma=!0);if(a){var b=this.oa();a=Np(b);(nf&&!a||!b.contains(this.getElement(),a))&&Zp(function(){this.qb()&&!b.contains(this.getElement(),Np(b))&&this.getElement().focus()},0,this)}};
function FTh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=mx(a,a.F);d<a.yc();d++){var e=a.Ac(d);if((e=e==a.J?null:e)&&2==(TSh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.yc();d++)if(e=a.Ac(d),e=e==a.J?null:e){if(2!=(TSh(e)||b).getOrigin())break;P(e.Qa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Qa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.Fe(a.ww(),e7(a)||void 0);ETh(this);for(var b in this.H){var c=this.H[b];p7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.ob&&(this.ob=a.isResolved(),ATh(this),this.ob?(this.D.Ca="Adding a comment will re-open this discussion...",this.D.Fe("Adding a comment will re-open this discussion")):(this.D.Ca="Reply...",this.D.Fe("Reply")),!a.isResolved()&&D7(this.D)||this.D.reset(!0));nQh(this);!this.ql()&&
this.D&&this.D.blur();FTh(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(Xw(b).contains(new Lm(a.H,a.J))||cQh(a,!1))};m.fRb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");i7(this.getContext()).zf("docos-delete-doco").mb({$m:u7(this.ud()),Rj:this.getId(),Fp:x7(g7(this.getContext()),this.getId()),oS:a});return!0};function GTh(a){i7(a.getContext()).zf("docos-resolve-doco").mb(new sNh(a.getId(),!1,null))}function yNh(a){return a.D&&D7(a.D)?a.D.getValue():null}
function HTh(a){var b=a.getContext(),c=a.ud();c&&y7(tPh(b),s7(r7(q7(43045),c)));a=a.getId();i7(b).zf("docos-speak-doco").mb(a)}m.tAa=ba();m.Ja=function(){C7.prototype.Ja.call(this);this.J&&delete this.J;delete this.tb;delete this.H;delete this.D};function ITh(a,b,c,d,e){J7.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Da=new tNh(a,d,b,this);this.Ka=this.fb=this.Qa=null;this.Ta=new cB(this);this.qa(this.Ta);b=this.Ta;b.jj("backToDocument",85);b.jj("resolve",69);b.jj("blur",27);b.jj("next",74);b.jj("next",Dt(["N","C"]));b.jj("prev",75);b.jj("prev",Dt(["P","C"]));b.jj("speakComment",Dt(["A","C"]));b.jj("reply",82);this.getHandler().listen(this.Ta,"shortcut",this.bRb);this.getHandler().listen(this,"rd",this.cRb);this.Xa=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Pb=null;z(y(),"docs-edp")&&(this.Pb=new HRh(a,d,"unfocused-presenceindicator"));this.Ad="legacy"!=this.C.D;this.Ca=null}t(ITh,J7);m=ITh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&g7(this.R).J&&this.iA();J7.prototype.setVisible.call(this,a)};m.iA=function(){this.F.iA();for(var a in this.H)this.H[a].iA()};m.Kc=function(a){J7.prototype.Kc.call(this,a);this.Da&&this.Da.Kc(a)};m.vp=ea(!0);m.sR=function(){return this.ud()?u7(this.ud()):null};
m.Ba=function(){J7.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Qa=a.bb("docos-replyview-control",b);this.fb=a.bb("docos-anchoreddocoview-internal",b);this.Ka=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&tOh(c7(this.getContext()).F,c);by(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=e7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Da.render(a),JTh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Pb&&(a=this.oa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Pb.render(a))};m.Ia=function(){J7.prototype.Ia.call(this);var a=this.ud();a&&e7(a)&&this.Ef(this.Da,mx(this,this.F));nQh(this);2<=Md(this.ud().D)&&(a=KTh(this))&&LTh(this,a);this.o_(!0);FTh(this);MTh(this);d7(d7(this,this,"show",this.VXa),this,"hide",this.UXa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&D7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Bc(this,"show",this.VXa);this.getHandler().Bc(this,"hide",this.UXa);J7.prototype.vd.call(this)};m.Sh=function(a){this.oa().Qi(this.getElement(),a)};function NTh(a,b){uTh(a.F,b);for(var c in a.H)uTh(a.H[c],b)}m.dRb=function(){var a=new WMh(this.getId(),this.Za),b=i7(this.getContext());b.zf("docos-before-highlight-doco").mb(a);F7(g7(this.R),this.getId());b.zf("docos-highlight-doco").mb(a)};
m.cRb=function(){this.O=null;if(pQh(this)){var a=this.Ka.scrollHeight>this.Ka.offsetHeight,b=this.getElement();a&&!this.Ca&&b?(this.Ca=new wK(b),d7(this,this.Ca,"mousewheel",this.FLb)):!a&&this.Ca&&(this.Ca.dispose(),this.Ca=null);a=a?B7a():0;b=this.Ad?282:240;Uw(this.getElement(),b+a);Uw(this.Ka,b+a)}};m.VXa=function(a){a.target instanceof Hz&&(Yx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.UXa=function(a){a.target instanceof Hz&&($x(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.tAa=function(a){this.Qa&&P(this.Qa,a)};m.c$=ea(!0);m.update=function(){J7.prototype.update.call(this);var a=this.ql();this.ql()?this.L||this.C.pb||(this.L=new nC(this.getElement(),this.oa()),this.qa(this.L),oC(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Xa&&OTh(this);this.Xa=a;MTh(this);if(a=e7(this.ud()))this.Da.update(),JTh(this,a);this.V&&this.qza()};
function MTh(a){var b=a.ud();null!=b.R&&(ATh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.o_(!0);FTh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=KTh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.rb().style.maxHeight="",LTh(this,a),this.o_(!0),FTh(this)}};m.LAa=function(){J7.prototype.LAa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.o_,this,!0)),this.getHandler().listen(this.D,"e",this.kOa),this.getHandler().listen(this.D,"f",this.dRb))};
function KTh(a){var b=c7(a.getContext()).Zr;a=pQh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function LTh(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=mx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new zTh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Ef(a.J,f+e);var h=a.J;h.F&&xp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Ac(l+e).setVisible(!1)}}}
m.qza=function(){var a=this.Xc();this.V&&this.expand();this.collapse();var b=this.Xc();Sm(a,b)||this.dispatchEvent(new B7(this.getId()))};m.o_=function(a){var b=pQh(this);b&&(ATh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.rb().style.maxHeight=b+"px":this.rb().style.maxHeight="",a&&(this.fb.scrollTop=this.fb.scrollHeight))};
m.bRb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.zf("docos-back-to-document").mb({Rj:this.getId()});break;case "resolve":jTh(this.F);break;case "blur":this.kOa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":HTh(this);break;case "reply":this.D.focus()}};m.kOa=function(){var a=i7(this.getContext());a.zf("docos-before-highlight-doco").mb(U6());F7(g7(this.R),null);a.zf("docos-highlight-doco").mb(U6())};
m.focus=function(){J7.prototype.focus.call(this);this.Xa=this.ql();OTh(this)};function OTh(a){ATh(a);D7(a.D)||a.Xa||a.D.reset(!0);a.ql()&&(a.expand(),a.Hfa());a.o_(!0);a.dispatchEvent(new B7(a.getId()))}m.TS=function(a){J7.prototype.TS.call(this,a);this.o_(!1)};m.Ja=function(){J7.prototype.Ja.call(this);delete this.Ta;delete this.Qa};function JTh(a,b){var c=a.xa;c&&(a=lNh(b,a.C),ay(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Yx(c,a))}m.FLb=function(a){this.ql()&&a.stopPropagation()};function PTh(a,b,c,d,e){this.Us=a;this.Ze=void 0===b?null:b;this.$9a=void 0===c?null:c;this.Lha=void 0===d?null:d;this.Ngc=void 0===e?!1:e}m=PTh.prototype;m.getNewDocoType=g("Us");m.getText=g("Ze");m.getAssigneeEmail=g("$9a");m.getOriginatingDocoType=g("Lha");m.getWasSmartTodo=g("Ngc");function QTh(a,b,c,d){return PTh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(QTh,PTh);function K7(a,b,c,d,e,f,h){C7.call(this,a,b,c,e,f);this.vr=d;this.Da=this.Ta=null;this.D=new IRh(a,this.oa(),this,h);this.Ga(this.D);this.Kc(b)}t(K7,C7);m=K7.prototype;m.Ba=function(){this.Da=new cB(this.getElement());this.qa(this.Da);var a=this.Da;a.jj("backToDocument",85);a.jj("blur",27);a.jj("next",74);a.jj("next",Dt(["N","C"]));a.jj("prev",75);a.jj("prev",Dt(["P","C"]));a.jj("reply",82)};
m.Ia=function(){C7.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.lYa).listen(this.D,"c",this.Zxa).listen(this.D,"s",this.mY).listen(this.D,"b",this.YQb).listen(this.D,"e",this.bta).listen(this.D,"f",this.$Qb);this.getHandler().listen(this.Da,"shortcut",this.ZQb);var a=this.getElement();this.D.V=a;this.Ta=new nC(this.getElement(),this.oa());this.qa(this.Ta);oC(this.Ta)};m.Rjb=function(a,b,c,d,e){i7(this.getContext()).zf("docos-convert-doco").mb({Rj:a,$m:b,Fp:c,pXa:d,oS:e})};
m.lYa=function(){var a=this.twa()?this.twa().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.oba();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new QTh(c,a,b,1==d);c=x7(g7(this.getContext()),this.getId());Zp(u(this.Rjb,this,this.getId(),this.sR(),c,a,b))};m.Qjb=function(a,b,c,d){i7(this.getContext()).zf("docos-delete-doco").mb({Rj:a,$m:b,Fp:c,oS:d})};
m.Zxa=function(){var a=x7(g7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;Zp(u(this.Qjb,this,this.getId(),this.sR(),a,b))};m.vp=ea(!0);m.sR=g("vr");m.uwa=ea(!0);m.PTa=function(a){RTh(this);a.stopPropagation()};function RTh(a){var b=i7(a.getContext()),c=aNh(W6(V6(a.getId()),a.Za));b.zf("docos-before-highlight-doco").mb(X6(c));F7(g7(a.R),a.getId());b.zf("docos-highlight-doco").mb(X6(c))}
m.ZQb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.zf("docos-back-to-document").mb({Rj:this.getId()});break;case "blur":b.zf("docos-before-highlight-doco").mb(U6());F7(g7(this.R),null);b.zf("docos-highlight-doco").mb(U6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){nQh(this);this.Hfa()};m.YQb=function(a){this.mY(a)};
m.bta=function(){var a=i7(this.getContext());a.zf("docos-before-highlight-doco").mb(U6());F7(g7(this.R),null);a.zf("docos-highlight-doco").mb(U6())};m.$Qb=function(){this.ql()||RTh(this)};m.focus=function(){this.ql()&&(nf?Zp(this.BZa,0,this):this.BZa())};m.mY=function(a){var b=pQh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}C7.prototype.mY.call(this,a)};
m.BZa=function(){this.D.ready();var a=this.oa(),b=Np(a);(nf&&!b||!a.contains(this.getElement(),b))&&Zp(function(){this.qb()&&this.getElement().focus()},0,this)};function STh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f);this.D.Ca="Reply...";this.J=!1;this.F=this.H=null}t(STh,K7);m=STh.prototype;
m.Ba=function(){var a=this.oa(),b=this.C.gh(),c="Unknown"===b.getName();c=Ky(kQh,{author:b.getName(),Wg:b.C,yM:this.C.V&&!c?b.getId():null,tB:!0,vp:!0,bk:this.C.bk(),II:this.C.Da},void 0,a);this.jb(c);this.D.Va(a.bb("docos-docoview-input-pane",c));this.H=a.bb("docos-author",c);this.F=oV(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.Ad)a.style.backgroundColor=c(b.getId());K7.prototype.Ba.call(this)};
m.Ia=function(){K7.prototype.Ia.call(this);nQh(this);var a=this.ud().XA();Cd(a)||this.D.ready(a,!0,!0);a=this.C.gh();VPh(f7(this.getContext()),this.F,a.D,a7(a))};m.twa=function(){return ERh(this.D.H)};m.oba=function(){return this.D.getValue()};m.bta=function(a){D7(this.D)?this.mY(a):K7.prototype.bta.call(this,a)};
m.update=function(){K7.prototype.update.call(this);var a=this.ql();a!=this.J&&(this.ql()||D7(this.D)?this.dispatchEvent(new B7(this.getId())):this.Zxa());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.vd=function(){K7.prototype.vd.call(this);i7(this.getContext()).zf("docos-edit-draft").mb({Rj:this.getId(),text:this.oba(),iFa:this.F})};m.Ja=function(){K7.prototype.Ja.call(this);delete this.H;delete this.F};function TTh(a,b,c,d,e,f){STh.call(this,a,b,c,d,e,f);this.ud()}t(TTh,STh);function UTh(a,b,c,d,e,f){STh.call(this,a,b,c,d,e,f);this.ud()}t(UTh,STh);UTh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new XRh("sd",a,b,c,d,e,f))};UTh.prototype.lYa=function(){var a=x7(g7(this.getContext()),this.getId()),b=ERh(this.D.H);if(null!=b){Cj(this.C.Zg,38);var c=LNh(b)}Zp(u(this.L,this,this.getId(),this.sR(),a,this.oba(),"instant-doco"==this.ud().Us,c))};UTh.prototype.V=function(a,b,c,d){i7(a).zf("docos-cancel-insert-discussion").mb({Rj:b,$m:c,Fp:d})};
UTh.prototype.Zxa=function(){var a=x7(g7(this.getContext()),this.getId());Zp(u(this.V,this,this.getContext(),this.getId(),this.sR(),a))};function VTh(a,b,c,d,e,f){b=PTh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(VTh,PTh);VTh.prototype.getPosition=g("od");function WTh(a){this.Lha=a}WTh.prototype.getOriginatingDocoType=g("Lha");function XTh(a,b,c){this.Lha=a;this.iR=b;this.QOb=c;return this}t(XTh,WTh);XTh.prototype.isTodo=g("iR");XTh.prototype.isWrongAssignee=g("QOb");function YTh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f,!0);this.Ka=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Qa=this.V=this.Ca=null;this.Xa=tPh(a)}t(YTh,K7);m=YTh.prototype;
m.Ba=function(){var a=this.C,b=this.oa();a=Ky(kQh,{vp:!0,PX:!0,vab:!!Cj(a.Zg,41),bk:a.bk(),ao:"legacy"!=a.D},void 0,b);this.jb(a);this.D.$a=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ca=b.bb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=jx(this,"body");this.F=b.bb("docos-smarttodoview-feedback",a);this.Ha=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ka=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new JOh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Va(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=ZTh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=ZTh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Qa=$Th(this,"docos-smarttodoview-feedback-cancel"),(this.ma=$Th(this,"docos-smarttodoview-feedback-submit"))&&this.oCa());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=jx(this,"headertext");Rx(a,"labelledby",b.id);Rx(a,"describedby",this.V.id);K7.prototype.Ba.call(this)};function ZTh(a,b,c){var d=a.oa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new kR(!1,d),c&&iR(e,c),e.Va(b),a.qa(e));return e}function $Th(a,b){var c=a.oa();b=c.bb(b,a.getElement());var d=null;b&&(d=new GA(null,c),d.Va(b),Ux(b,d.Al()),a.qa(d));return d}
m.Ia=function(){K7.prototype.Ia.call(this);d7(d7(d7(this,this.H,"e",this.tRb),this.H,"i",this.gub),this.H,"h",this.ayb);this.F&&(this.Ha&&this.getHandler().Lf(this.Ha,Jo,this.tIb),this.Ka&&this.getHandler().Lf(this.Ka,Jo,this.QLb),this.J&&d7(this,this.J,"change",this.oCa),this.L&&d7(this,this.L,"change",this.oCa),this.Qa&&d7(this,this.Qa,"action",this.pwb),this.ma&&d7(this,this.ma,"action",this.sRb));this.D.ready(void 0,void 0,!0);this.update()};
m.Hfa=function(){K7.prototype.Hfa.call(this);this.xa&&Yx(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){K7.prototype.update.call(this);var a=e7(this.ud());a=$6(a);a=nNh(a,this.C,!0);a=(new pB("Assign to {user}?")).format({user:a});xp(this.Ca,a);P(this.Ca,!0);a=XL(new Aic(new Bic),this.ud().getContent());Ke(this.V,a);this.resize()};
m.tRb=function(){var a=$6(this.ud().EB()).getEmail();a=new VTh(void 0,"client-integrated-draft",this.ud().XA(),a,"smart-todo",!0);var b=x7(g7(this.getContext()),this.getId());i7(this.getContext()).zf("docos-convert-doco").mb({Rj:this.getId(),Fp:b,pXa:a,oS:"smart-todo"})};m.gub=function(){i7(this.getContext()).zf("docos-disable-smart-todo-feature").mb()};
m.ayb=function(){nx("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});wPh(this.Xa,cPh(bPh(aPh($Oh(43029),this.ud().getId()),u7(this.ud()))))};m.tIb=function(){this.F&&P(this.F,!0);wPh(this.Xa,cPh(bPh(aPh($Oh(43025),this.ud().getId()),u7(this.ud()))))};m.QLb=function(){i7(this.getContext()).zf("docos-write-feedback").mb({source:"smart-todo"})};m.pwb=function(){this.F&&P(this.F,!1);this.focus()};
m.oCa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Na(a||b)};m.sRb=function(){i7(this.getContext()).zf("docos-reject-doco-with-feedback").mb({Rj:this.getId(),$m:this.sR(),Fp:x7(g7(this.getContext()),this.getId()),oS:"smart-todo",Ejb:new XTh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.twa=function(){return e7(this.ud())?$6(e7(this.ud())):null};m.oba=function(){return this.ud().XA()};
m.Ja=function(){K7.prototype.Ja.call(this);delete this.Ca;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ka};function aUh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}aUh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.H.dk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new UTh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "client-integrated-draft":return new TTh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "smart-todo":return new YTh(this.C,a.getId(),b,u7(a),this.cb,this.D);default:return new ITh(this.C,a.getId(),b,this.cb,this.D)}};function bUh(a,b){this.C=a;this.D=b}bUh.prototype.clone=function(){return new bUh(this.C,this.D)};bUh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function L7(a,b){No.call(this);this.cb=b;this.L=a;this.D=null;if(a=M7(this).J)this.D=new bUh(a,!0);this.xa=!a;this.Ca=!a;this.ob=this.H=null}v(L7,No);m=L7.prototype;m.pAa=da("O");m.dk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.LP=function(){return[]};m.Fq=function(){return this.H?this.H.getId():null};m.PV=function(){return this.H?t7(this.H):null};m.QV=function(){var a=this.Fq();return a?this.O.Dc(a):null};
m.oa=g("cb");function M7(a){return c7(a.L)}m.getContext=g("L");m.ZF=function(){return this.dk().getId()};m.eba=g("D");m.hja=function(a,b){var c=this.Fq();return a||c?b==this.ZF()||this.D&&this.D.C==a?!0:!mQh(this,a):!1};function mQh(a,b){if(a.Fq()==b)return!0;a=a.PV();return!!a&&a==b}
m.Qoa=function(a,b,c){if(this.hja(a,b)){var d=mQh(this,a)?null:this.H;this.H=g7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!t7(d)||a!=t7(d));if(e){var f=this.O.Dc(d.getId());f&&!l7(d.C)&&f.update()}d=!d||e;b=b==this.ZF()&&(void 0===c||c);a&&(d||b)&&(d&&this.e_a(),(c=this.O.Dc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new bUh(a,b),d&&this.dya(a))}};m.e_a=ba();
m.eRa=function(a,b){var c=i7(this.L);c.zf("docos-before-highlight-doco").mb(a);F7(g7(this.L),b.getId());c.zf("docos-highlight-doco").mb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==M7(this).J&&(a=M7(this).H["highlight-initial-doco"]))&&(b=(new Z6("highlight-initial-doco")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.getContext()),c)).setNonAnchored(!(b.Iz()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){cUh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){cUh(this,!1,void 0,a,b,c)};m.vha=ba();m.tha=ba();function cUh(a,b,c,d,e,f){var h=g7(a.L),k=dUh(a,h,b,!!d,!!e);k||!c||e||(k=dUh(a,h,!b,!!d,!1));b=i7(a.L);k&&(a=X6(aNh($Mh(YMh(W6(V6(k.getId()),a.ZF())),void 0!==f?f:!0))),b.zf("docos-before-highlight-doco").mb(a),F7(h,k.getId()),b.zf("docos-highlight-doco").mb(a))}
function dUh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.dk().yc();if(0==h)return null;a:{var k=a.Fq();if(k){var l=a.dk();if(k=l.Dc(k)){l=mx(l,k);break a}}l=-1}0>l&&(l=0,f=a.dk().Ac(l));for(k=l;!f||d&&!IPh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.dk().Ac(l)}return f}
m.dya=function(a){if(a==M7(this).J){var b=this.O.Dc(a);b&&b.ql()&&!this.Ca&&(this.Ca=!0,b=M7(this).H["linked-doco-highlighted"])&&(a=g7(this.L).ud(a),a=bNh("linked-doco-highlighted").addAnchorId(u7(a)).setUserInitiated(!0).build(),b(a))}};m.Cba=function(a){for(var b=this.dk(),c=b.yc(),d=c,e=0;e<c;++e){var f=b.Ac(e);if(f&&0>=this.YU(a,f)){d=e;break}}return d};
function eUh(a){if(a.o3()){for(var b=a.dk(),c=[],d=b.yc(),e=0;e<d;++e)c.push(b.Ac(e));c.sort(u(a.YU,a));for(e=0;e<d;++e)b.Ac(e)!=c[e]&&b.Ef(c[e],e)}}m.bz=function(){YPh(f7(this.getContext()))};m.nJ=ba();m.Poa=function(){for(var a=this.dk().yc(),b=new MMh,c,d=0;d<a;d++)c=this.dk().Ac(d),null!=c&&(c=c.ud(),null!=c&&ZRh(b,c));return NMh(b)};m.MJ=ta;m.W$=fe;m.O1=fe;m.P1=ba();m.Ja=function(){L7.Ua.Ja.call(this);this.H=null};
m.Ooa=function(a){a=a.pV()||a;a instanceof L7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ca=this.Ca)};m.pV=ea(null);m.oAa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof L7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ca==a.Ca}else a=!1;return a};function fUh(a,b){Bo.call(this,a);this.FHa=b}v(fUh,Bo);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function gUh(a){this.C=[];if(a)a:{if(a instanceof gUh){var b=a.kf();a=a.Kd();if(0>=this.le()){for(var c=this.C,d=0;d<b.length;d++)c.push(new vY(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)hUh(this,b[d],a[d])}}function hUh(a,b,c){var d=a.C;d.push(new vY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=gUh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)cd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function iUh(a){return a.C[0]&&a.C[0].getKey()}m.Kd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.kf=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Ju=function(a){return Wc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new gUh(this)};m.le=function(){return this.C.length};m.isEmpty=function(){return ad(this.C)};m.clear=function(){cd(this.C)};function jUh(){gUh.call(this)}v(jUh,gUh);jUh.prototype.enqueue=function(a,b){hUh(this,a,b)};function kUh(a,b){L7.call(this,a,b);this.V=g7(this.getContext());this.C={};this.R={};this.$a=new jUh;this.J=new dNh}v(kUh,L7);m=kUh.prototype;m.LP=function(){var a=kUh.Ua.LP.call(this);a.push("docos-layout-anchored");M7(this).zd&&a.push("docos-layout-anchored-shadows");return a};m.$na=function(a){return(new aUh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.zU=function(a){if(this.V.R(a)){var b=a.getId(),c=x7(this.V,b),d=this.uqa(c,!1);if(d){var e=this.$na(a);this.R[c]&&delete this.R[c];c=this.Cba(e);if(c<=this.dk().yc()&&-1<c)for(lUh(this,e,d,c);!this.$a.isEmpty()&&iUh(this.$a)<=this.dk().yc();)e=this.$a.remove(),lUh(this,e.view,e.position,e.index);else this.$a.enqueue(c,new mUh(e,d,c))}else this.R[c]=a;b=$Mh(V6(b),!a.PX());a.zk()||W6(b,this.ZF());d&&a.tB()&&Cd(a.XA())&&(d=i7(this.getContext()),d.zf("docos-before-highlight-doco").mb(X6(b)),F7(this.V,
a.getId()),d.zf("docos-highlight-doco").mb(X6(b)));(d=this.eba())&&d.C==a.getId()&&($Mh(b,d.D),Zp(u(this.eRa,this,X6(b),a),0))}};function lUh(a,b,c,d){var e=La();a.dk().Ef(b,d,!0);a.dha(c.x,c.y,b,!1);b=La()-e;(a=M7(a).H["doco-rendered"])&&a(new cNh("doco-rendered",b))}m.CS=function(a){var b=this.dk().Dc(a);a==this.Fq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.vp()&&M7(this).Zc?nUh(this,a,b):(this.dk().removeChild(b,!0),Jf(b));this.EJ(this.C)}};
function nUh(a,b,c){function d(){q||(q=!0,Jf(c),np(e),Yx(h,"docos-resolve-highlight"),Zp(function(){$x(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Ow(e),h=M7(a).Zc,k=Ww(h),l=Ww(e),n=Ow(h);n.x+=(k.width-l.width)/2;a.dk().removeChild(c);Yx(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;nf?oUh(a,e,f,n,d,b):pUh(a,e,c.getId(),f,n,d)}
function pUh(a,b,c,d,e,f){fNh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";Zp(function(){Ho(b,ADa,f);Zp(f,570);Yx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function oUh(a,b,c,d,e,f){var h=new TB(b,[c.x,c.y],[d.x,d.y],270),k=new $fb(b,270);k.play();eNh(a.J,f,h,270,function(){Jf(h);Jf(k);e()})}
function qUh(a){var b=[];a.dk().Xe(function(c){var d=c.ud();null!=d&&null!=u7(d)?(d=x7(this.V,c.ud().getId()),this.uqa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new fUh("rv",b))}m.V$=function(a){for(var b=Zd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.EJ(b)};m.oV=function(a){var b=Zd(this.C),c;for(c in a)b[c]=a[c];this.EJ(b)};m.uqa=function(a){return this.C[a]||null};
m.W$=function(a){a=rUh(this,a);return a?(a=a?a.getElement():null)?new Lm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=rUh(this,a))?a.getDocoMaxHeight():null};m.Noa=function(a,b){(a=rUh(this,a))&&a.TS(b)};function rUh(a,b){return(b=A7(a.V,b))?a.dk().Dc(b.getId()):null}m.Ja=function(){kUh.Ua.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function mUh(a,b,c){this.Rj=a.getId();this.view=a;this.position=b;this.index=c};function sUh(a,b){kUh.call(this,a,b)}v(sUh,kUh);m=sUh.prototype;m.o3=ea(!1);m.YU=ea(0);m.n_=ta;m.GJ=function(){qUh(this)};m.bz=function(){sUh.Ua.bz.call(this);this.dk().Xe(function(a){var b=a.ud();b&&null!=u7(b)&&(b=x7(g7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.dha(b.x,b.y,a,!1))},this)};m.EJ=function(a){this.C=a;qUh(this);for(var b in this.C)(a=this.R[b])&&this.zU(a);this.bz()};m.dha=function(a,b,c){(c=c.getElement())&&K8a(c,a,b,c7(this.getContext()).pj)};function N7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Cd(f)?f:null}pa("docos.api.Assignee",N7,void 0);N7.prototype.getToken=g("L");N7.prototype.getToken=N7.prototype.getToken;N7.prototype.getEmail=g("F");N7.prototype.getEmail=N7.prototype.getEmail;N7.prototype.getAffinity=g("D");N7.prototype.getAffinity=N7.prototype.getAffinity;N7.prototype.getMatchingMethod=g("H");N7.prototype.getMatchingMethod=N7.prototype.getMatchingMethod;N7.prototype.O=g("C");
N7.prototype.isMatchedOnEmailUserName=N7.prototype.O;N7.prototype.getName=g("J");N7.prototype.getName=N7.prototype.getName;function tUh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function uUh(a,b,c,d){return new N7(a.C,b,d,a.L,a.D,c)}function vUh(a,b){return a.C.toLowerCase().replace(wUh,"")==b?a.D=!0:!1}tUh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&xUh(this,e)){var f=ef(e.getEmail());Cd(f)||c.push(uUh(this,f,e.getName(),0))}}a.resolve(c)};
function xUh(a,b){if(b.getEmail())var c=ef(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||rRh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if($c(qRh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&$c(f,d[h]))&&
1<d[h].length)return!0;return vUh(a,e)}function yUh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new tUh(a[d],"full-query",b));return c}function zUh(a,b){for(var c=[],d=0;d<a.length;d++)md(c,AUh(a[d],b));return c}function AUh(a,b){return ARh(yRh,a).map(function(c){return new tUh(c,"email",b)})}var wUh=/^[@+]|[@+]$/g;function BUh(a){this.C=a}pa("docos.api.AssigneeThenable",BUh,void 0);BUh.prototype.get=g("C");BUh.prototype.get=BUh.prototype.get;function CUh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new $l;this.J=d}function DUh(a,b){var c=Vp();a.C.C?EUh(a,b,c):iRh(a.C).then(u(function(d,e,f){f?EUh(this,d,e):e.reject()},a,b,c));return new BUh(c.C)}function EUh(a,b,c){var d=Ha(zUh,b,a.D);b=u(a.H,a,Ha(yUh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
CUh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Vp();Cd(f.C)?k.resolve([]):vUh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([uUh(f,f.F,null,Number.MAX_VALUE)]):h.Do(f.C,5,u(f.O,f,k));f=k.C;md(d,f)}FUh(this,d,b,c)};function FUh(a,b,c,d){Up(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.HP&&k.value&&md(f,k.value)}ad(f)?d():GUh(a,f,c)})}
function GUh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}ad(e)?(HUh(a,d),a.J(d).then(function(k){return IUh(a,b,c,k)})):JUh(a,e,c)}else JUh(a,b,c)}function JUh(a,b,c){b.sort(Ha(KUh,a.D));c.resolve(b[0])}function HUh(a,b){var c=a.F;Kya(b,c.contains,c)||(am(a.F,b),wPh(a.L,cPh($Oh(43026))))}
function IUh(a,b,c,d){for(var e=[],f={D_:0};f.D_<d.length;f={D_:f.D_},f.D_++){var h=Yc(b,function(k){return function(l){return l.getEmail()==d[k.D_]}}(f));h&&e.push(h)}ad(e)?c.resolve(null):JUh(a,e,c)}function KUh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function LUh(a){this.xab=a;return this}t(LUh,i5);LUh.prototype.getCancelAnchorId=g("xab");LUh.prototype.getCancelAnchorId=LUh.prototype.getCancelAnchorId;function MUh(a,b,c,d,e,f){a=Y6.call(this,a,b,c,d,e,f||new i5)||this;a.C=!1;return a}t(MUh,Y6);MUh.prototype.canPreventDefault=ea(!0);MUh.prototype.preventDefault=function(){this.C=!0};function NUh(a){return Z6.call(this,a)||this}t(NUh,Z6);NUh.prototype.build=function(){return new MUh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new i5)};function OUh(){this.D=!1}OUh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};OUh.prototype.gk=function(){return!this.D&&(null==this.C||this.C.gk())};function PUh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Vp();this.L=c}v(PUh,A);function iRh(a){if(!yNe())return Rp(!1);if(a.C)return Rp(!0);if(!a.F){var b=Zd(Kdf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Do(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new aMd;h=L(k,1,h);h=WLh(h);c.So("dacpc",La()-a.L,h.serialize())}})}return a.H.C}
PUh.prototype.Do=function(a,b,c,d){var e=this;if(!yNe())return new Fdf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Te(a)&&this.F&&this.F.gk()){var k=new OUh,l=La();this.H.C.then(function(){var n=e.J.O;if(k.gk()){var q=e.D.Do(h,c);n&&n.So("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.So("dcrdc",La()-l)});return k}return this.D.Do(h,c)};PUh.prototype.Ja=function(){delete this.D};function QUh(a){this.C=a}v(QUh,i5);pa("docos.api.OriginatingDocoTypeArgs",QUh,void 0);QUh.prototype.getOriginatingDocoTypeArgs=g("C");QUh.prototype.getOriginatingDocoTypeArgs=QUh.prototype.getOriginatingDocoTypeArgs;function O7(a,b,c){this.C=c;this.vr=a;this.D=b}v(O7,QUh);pa("docos.api.ConvertDocoArgs",O7,void 0);O7.prototype.getAnchorId=g("vr");O7.prototype.getAnchorId=O7.prototype.getAnchorId;O7.prototype.getNewDocoArgs=g("D");O7.prototype.getNewDocoArgs=O7.prototype.getNewDocoArgs;function P7(a,b,c){this.D=a;this.od=void 0!==b?b:null;this.C=void 0==c?-1:c}v(P7,i5);P7.prototype.isInstantDoco=g("D");P7.prototype.getPosition=g("od");P7.prototype.getInstantDocoSpacerIndex=g("C");P7.prototype.isInstantDoco=P7.prototype.isInstantDoco;P7.prototype.getInstantDocoSpacerIndex=P7.prototype.getInstantDocoSpacerIndex;function RUh(a){this.F=a}RUh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Rj))?e7(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};RUh.prototype.D=ea(0);function SUh(a,b){this.od=a;this.vr=b;return this}t(SUh,i5);SUh.prototype.getPosition=g("od");SUh.prototype.getAnchorId=g("vr");SUh.prototype.getPosition=SUh.prototype.getPosition;SUh.prototype.getAnchorId=SUh.prototype.getAnchorId;function TUh(a){A.call(this);this.C=a}t(TUh,A);function wPh(a,b){var c=c7(a.C).Za;if(c){var d=new hk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);UUh(a,d,b.D);b.J&&(a=wSh(g7(a.C)).C.clone(),Oj(d,10,a));a=new vOh;b.vr&&L(a,1,b.vr);c(b.H,b.F||void 0,d,a)}}
function y7(a,b){var c=c7(a.C).Za;if(c){var d=b.ud();var e=new hk;var f=d.Pua();e=L(e,2,f);null!=d.Hz()&&(f=ONh(d.Hz()).length,L(e,8,f));null!=b.ly&&(f=b.ly.Pua(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new jId;var k=new fId;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Oj(f,2,h);Oj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=c7(a.C).Pa&&(f=c7(a.C).Pa,Oj(e,12,f));null!=c7(a.C).J&&(f=c7(a.C).J==d.getId(),L(e,13,f));f=d.AH();h=e7(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);UUh(a,e,d.getId());b.L&&(a=wSh(g7(a.C)).C.clone(),Oj(e,10,a));a=new vOh;d=u7(b.ud());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function UUh(a,b,c){a=g7(a.C).O;null!=c&&b.Lg(null!=a&&c==a.getId())}TUh.prototype.Ja=function(){A.prototype.Ja.call(this)};function VUh(){}VUh.prototype.C=function(){return["Comment changed"]};VUh.prototype.D=ea(0);function WUh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Fp&&a.addDocoHandle(d.Fp),d.$m&&a.addAnchorId(d.$m));return a};function XUh(a,b){this.C=a;this.D=b}v(XUh,QUh);pa("docos.api.FeedbackArgs",XUh,void 0);XUh.prototype.getFeedback=g("D");XUh.prototype.getFeedback=XUh.prototype.getFeedback;function YUh(a){this.C=a}v(YUh,i5);pa("docos.api.HighlightDocoArgs",YUh,void 0);YUh.prototype.isOriginInStreamOrGutter=g("C");YUh.prototype.isOriginInStreamOrGutter=YUh.prototype.isOriginInStreamOrGutter;function ZUh(a){var b=a.gNb,c=a.kc,d=a.SNb;a=a.hNb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function $Uh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Xy(Wy,0<c.length?c[0]:"docs-instant-button");Zy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;dz(this,2,!0)}t($Uh,Zy);m=$Uh.prototype;m.Ba=function(){var a=this.oa(),b={kc:!1};b.gNb=this.R.join(" ");ad(this.J)||(b.SNb=this.J.join(" "));ad(this.L)||(b.hNb=this.L.join(" "));this.jb(Ky(ZUh,b,void 0,a))};
function aVh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.qb()){var h=0>=c;a.isVisible()||h?(bVh(a),cVh(a,b,d,f),e&&e()):(a.D=new dVh(b,d,f,e),b=!a.C,h||b||bVh(a),a.C||(a.C=Zp(function(){cVh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.ge;k&&k();a.D=null;a.C=null},c,a)))}}
m.qf=function(a){if(this.qb()){if(void 0===a?0:a)Hw(this.getElement(),"top","0px"),Yx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&($x(this.getElement(),"docs-instant-button-visible"),Yw(this.La(),0),this.F=!1);bVh(this)}};m.jg=function(a){this.isVisible()&&(Zy.prototype.jg.call(this,a),a.stopPropagation())};m.Lm=function(a){this.isVisible()&&(Zy.prototype.Lm.call(this,a),a.stopPropagation())};m.KQ=function(a){this.isVisible()&&a.stopPropagation()};
function cVh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;$x(a.getElement(),"docs-instant-quick-hide");Yx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function bVh(a){a.C&&($p(a.C),a.C=null)}m.isVisible=function(){Xx(this.getElement(),"docs-instant-button-visible");return this.F};function dVh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.ge=d}dVh.prototype.getOpacity=g("C");function eVh(a,b){b7.call(this,a,b);this.D=null;this.F=a}t(eVh,b7);eVh.prototype.Ba=function(){b7.prototype.Ba.call(this);this.D=new $Uh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Va(this.D.getElement())};
eVh.prototype.Ia=function(){b7.prototype.Ia.call(this);c7(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||c7(this.F).C.D(this.getElement(),!0);this.D.Ia();d7(this,this.D,"action",this.H)};function fVh(a,b,c,d){fA(a.D.getElement(),"docos");c7(a.F).C.D(a.getElement(),!1);var e=a.D.H;aVh(a.D,b,c,d,function(){e!=b&&c7(a.F).C.qf(a.getElement())})}eVh.prototype.qf=function(a){this.D.isVisible()&&c7(this.F).C.D(this.getElement(),!0);this.D.qf(a)};eVh.prototype.H=function(){this.qf();this.dispatchEvent("create-draft")};function gVh(a,b){A.call(this);this.D=a;this.F=c7(a);this.C=b;this.H=new xA(this);a=i7(this.D);this.H.Kb(a.Ra("docos-edit-reply"),kt,this.q6b).Kb(a.Ra("docos-delete-reply"),kt,this.$5b).Kb(a.Ra("docos-edit-doco"),kt,this.m6b).Kb(a.Ra("docos-edit-draft"),kt,this.p6b)}t(gVh,A);function hVh(a,b,c,d,e,f){return Q7(a,u(a.ONb,a,b,c,d,e,void 0===f?!1:f))}m=gVh.prototype;m.ONb=function(a,b,c,d,e,f,h){if(iVh(h))return a=uPh(this.C,a,b,c,d,e),f.Xg.callback(a),a;f.Xg.callback(0);return 0};
m.QNb=function(a,b,c,d,e,f){if(iVh(f))return a=xPh(this.C,a,b,c,d),e.Xg.callback(a),a;e.Xg.callback(0);return 0};m.NNb=function(a,b,c,d,e,f){if(iVh(f))return a=yPh(this.C,a,b,c,d),e.Xg.callback(a),a;e.Xg.callback(0);return 0};function jVh(a,b){return Q7(a,u(a.Z$b,a,b))}m.p6b=function(a){var b=this,c=a.data;nq(Q7(this,u(this.o6b,this,c.Rj,c.text)),function(d){d&&c.iFa&&h7(f7(b.D),c.iFa);return d})};m.o6b=function(a,b,c,d){R7(u(this.C.n6b,this.C,a,b),c,d)};
m.Z$b=function(a,b,c){R7(u(this.C.zdb,this.C,a),b,c)};function kVh(a,b,c,d,e,f,h){return Q7(a,u(a.$8a,a,b,c,d,e,f,h))}
m.$8a=function(a,b,c,d,e,f,h,k){if(iVh(k)){k=this.C;var l,n;a&&(n=uSh(g7(k.C),a))&&"instant-doco"==n.Us&&(l=31);var q=$Oh(43009);null!=n&&aPh(q,n.getId());null!=l&&(q.F=l);n&&n.tB()&&a!=b&&zPh(g7(k.C),n.getId());a=gf();l=La();n=nOh(jOh(n7(new m7(a)),l),k.F.gh());c&&o7(n,c,l);d&&(c=(new lMh).setType("text/plain").setValue(d),Oj(n.C,9,c));e&&(iOh(n,e),q.J=e);f&&(mOh(n,f),q.C=f);e=w7(v7(n),!0);L(e.C,3,l);b&&(jPh(e,b),bPh(q,b));z7(g7(k.C),e);g7(k.C).flush();wPh(k.D,cPh(q));b=x7(g7(k.C),a);h.Xg.callback(b);
return b}h.Xg.callback(0);return 0};m.m6b=function(a){var b=a.data;nq(Q7(this,u(this.uib,this,b.id,b.text)),function(c){c||b.gpa.dispatchEvent("c")})};m.uib=function(a,b,c,d){R7(u(this.C.tib,this.C,a,b),c,d)};m.$5b=function(a){a=a.data;nq(Q7(this,u(this.Z5b,this,a.Rj,a.Jza)),ba())};m.Z5b=function(a,b,c,d){R7(u(this.C.Kcb,this.C,a,b),c,d)};m.q6b=function(a){var b=a.data;nq(Q7(this,u(this.wib,this,b.Rj,b.Jza,b.text)),function(c){c||b.gpa.dispatchEvent("c")})};
m.wib=function(a,b,c,d,e){R7(u(this.C.vib,this.C,a,b,c),d,e)};m.a9a=function(a,b,c,d,e,f){R7(u(this.C.vdb,this.C,a,b,c,d),e,f)};m.Hgc=function(a,b,c,d){R7(u(this.C.Bdb,this.C,a,b),c,d)};m.Igc=function(a,b,c,d,e){R7(u(this.C.Cdb,this.C,a,b,c),d,e)};m.Hac=function(a,b,c,d,e){R7(u(this.C.Adb,this.C,a,b,c),d,e)};function R7(a,b,c){iVh(c)?(a(),b.Xg.callback(!0)):b.Xg.callback(!1)}m.Gcb=function(a,b,c,d){R7(u(this.C.wdb,this.C,a,b),c,d)};
m.Pfc=function(a,b,c){if(iVh(c))return a=APh(this.C,a),b.Xg.callback(a),a;b.Xg.callback(0);return 0};m.pcc=function(a,b,c,d){R7(u(this.C.KHa,this.C,a,b),c,d)};m.Jcb=function(a,b,c){R7(u(this.C.ydb,this.C,a),b,c)};m.Icb=function(a,b,c){R7(u(this.C.xdb,this.C,a),b,c)};function lVh(a,b,c,d){return Q7(a,u(a.H8a,a,b,c,d))}m.H8a=function(a,b,c,d,e){if(iVh(e))return a=FPh(this.C,a,b,c),d.Xg.callback(a),a;d.Xg.callback(0);return 0};
m.kEa=function(a,b,c,d){if(iVh(d))return a=JPh(this.C,a,b),c.Xg.callback(a),a;a=[];c.Xg.callback(a);return a};function Q7(a,b){var c=new lq,d={Xg:c};(a=a.F.ze)?a(d,b):b(d,"edit-not-intercepted");return c}function iVh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function mVh(a,b){A.call(this);this.C=[];this.F=new JMh(a);this.D=KMh(this.F,"user");this.J=KMh(this.F,"control");this.Gd=new Yp(b||50);this.Gd.start();Go(this.Gd,"tick",this.M_a,!1,this);this.J.Cf("setPeerReady_",u(this.tcc,this))}v(mVh,A);m=mVh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.M_a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Gd.stop(),a;}};m.Cf=function(a,b,c){this.D.Cf(a,b,c)};m.WM=function(a){this.D.WM(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({PZ:a,Cm:b})};m.tcc=function(a){a?this.Gd.stop():this.Gd.start();if(!this.H){this.H=!0;this.M_a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.PZ,b.Cm)}this.C=null}};m.Ja=function(){Jf(this.F);Jf(this.Gd);mVh.Ua.Ja.call(this)};function nVh(a){No.call(this);this.C=a;this.Ma=new Oo(this);this.qa(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Yd(this)}v(nVh,KPh);nVh.prototype.D=function(a){var b=zOh(a.Cm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new LPh("u",new DMh(b))));a.stopPropagation()};function NPh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&ya(n[0])&&d(n[0])});a.C.MHa(b,c?c.Wf():void 0,l,e,f,h,k)};function oVh(a,b,c){oNe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.WM(u(this.D,this));this.F=b}v(oVh,oNe);oVh.prototype.send=function(a,b){Ba(b)&&(b=Fm(b));this.C.send(a,{t:this.F,p:b})};oVh.prototype.D=function(a,b){pNe(this,a,b)};oVh.prototype.F$=function(a,b,c){b=oVh.Ua.F$.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?oVh.Ua.F$.call(this,a,b.p,c):null};function pVh(){No.call(this)}v(pVh,No);function qVh(a,b,c,d,e,f,h){c=void 0===c?[]:c;No.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new oo;this.qa(this.J);po(this.J,this.H.getStatus().C,function(l){if(l.D.xk()&&Bl(l.C))k.dispatchEvent(new LPh("r"));else{var n;if(n=l.C.equals(tya))n=k.D,n=null!=K(n.Zg,44)&&null!=K(uY(n.Zg),52)&&!!Cj(uY(n.Zg),52);n?k.dispatchEvent(new LPh("p")):Cl(l.C)&&k.dispatchEvent(new LPh("e"))}});this.F=function(l){l&&k.dispatchEvent(new LPh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));
this.D=f;this.O=h;this.ma=0;this.V=b}t(qVh,pVh);qVh.prototype.LHa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.S$)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new NLa;var b=this.D.gh().getId();a.R=b;$Ka(a,this.D.T$,this.O,this.D.Moa);this.C=a;this.C.subscribe("9",this.F)}};
qVh.prototype.MHa=function(a,b,c,d,e,f,h){b=b?["p",Fm(b)]:[];rVh(this,b,"/docos/p/"+a,c,d,e,f,h)};function rVh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?dza(b):void 0;c=Xq(a.H.$e(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Aq();h?El(c,h):El(c,3);d&&Gl(c,function(n){d(n.Ne())});e&&Fl(c,e,f);k&&Zq(c,k);null!=a.L&&(c.Qa=a.L);c.We()}qVh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());pVh.prototype.Ja.call(this)};function sVh(a,b,c){this.seq=tVh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var tVh=1;function uVh(a){No.call(this);this.C=a;this.C.Cf("recv",u(this.Z7b,this),!0);this.C.Cf("recvEvt",u(this.Y7b,this),!0);this.D={}}v(uVh,pVh);m=uVh.prototype;m.Z7b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.Y7b=function(a){this.dispatchEvent(new LPh(a.type,a.payload))};m.LHa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.MHa=function(a,b,c,d,e,f,h){a=new sVh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ja=function(){uVh.Ua.Ja.call(this);delete this.C};function vVh(a){A.call(this);this.F=a;this.D=this.C=null}t(vVh,A);
function wVh(a){if(a.C)return a.C;var b=c7(a.F),c=b.Loa;if(void 0!==c)return c&&(a.C=new nVh(c),a.qa(a.C)),a.C;if(b.HHa){var d=idd();c=new MKa(new d6b,void 0,void 0,void 0,new yIa,void 0,void 0,zKa(vKa(d)));var e=b.Moa;e&&c.Z5(e);var f=b.JHa;f&&VKa(c,f);b.HJa&&EIa(c.D,"anon","true");(f=b.YRa)&&EIa(c.D,"invite",f);f=null;if(b.S$){f=new NLa;var h=b.gh().getId();f.R=h;GIa(c.H,f);$Ka(f,b.T$,d,e)}b=new qVh(c,!0,["id",b.T$],f,null!=b.N1?b.N1:6E4,b,d);b.qa(c);a.C=new nVh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.IYa;if(!b)throw Error("Peer missing.");c={};d=new sm(window.location.href);(e=Bm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new sm(b)).toString());d=idd();b=(new sm(b)).mc("ctoken",d).toString();c.pu=b;a.D=hp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new jW(c);AQe(b,a.D);b.connect();b=new mVh(b);c=pNh(a.F);b=new oVh(b,d,c);c=new uVh(b);a.C=new nVh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
vVh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function xVh(a,b){this.C=a;this.F=b}xVh.prototype[Fua]=!0;function S7(a,b,c){var d=La();b();b=La()-d;a.F.So(c,b)}m=xVh.prototype;m.Qoa=function(a,b,c){a=u(this.C.Qoa,this.C,a,b,c);S7(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);S7(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);S7(this,a,"dvmhp")};m.GJ=function(){var a=u(this.C.GJ,this.C);S7(this,a,"dvmla")};
m.bz=function(){var a=u(this.C.bz,this.C);S7(this,a,"dvmfl")};m.zU=function(a){a=u(this.C.zU,this.C,a);S7(this,a,"dvmadv")};m.n_=function(a){a=u(this.C.n_,this.C,a);S7(this,a,"dvmudv")};m.CS=function(a){a=u(this.C.CS,this.C,a);S7(this,a,"dvmrdv")};m.dk=function(){return this.C.dk()};m.pAa=function(a){this.C.pAa(a)};m.LP=function(){return this.C.LP()};m.Fq=function(){return this.C.Fq()};m.PV=function(){return this.C.PV()};m.QV=function(){return this.C.QV()};m.oa=function(){return this.C.oa()};
m.ZF=function(){return this.C.ZF()};m.eba=function(){return this.C.eba()};m.hja=function(a,b){return this.C.hja(a,b)};m.vha=function(){this.C.vha()};m.tha=function(){this.C.tha()};m.YU=function(a,b){return this.C.YU(a,b)};m.nJ=function(a,b){this.C.nJ(a,b)};m.Poa=function(){return this.C.Poa()};m.MJ=function(a){this.C.MJ(a)};m.W$=function(a){return this.C.W$(a)};m.O1=function(){return this.C.O1()};m.P1=function(a){this.C.P1(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Qc=function(a,b,c,d){return this.C.Qc(a,b,c,d)};m.Bc=function(a,b,c,d){return this.C.Bc(a,b,c,d)};m.uT=function(a){return this.C.uT(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.dC=function(a){return this.C.dC(a)};m.hp=function(){return this.C.hp()};m.BP=function(a,b,c){return this.C.BP(a,b,c)};m.qK=function(a,b){return this.C.qK(a,b)};m.fD=function(a,b,c,d){return this.C.fD(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.pV=function(){return this.C.pV()||this.C};m.Ooa=function(a){this.pV().Ooa(a)};m.equals=function(a){return this===a};m.oAa=function(a){this.pV().oAa(a)};function yVh(a,b){xVh.call(this,a,b);this.D=a}t(yVh,xVh);m=yVh.prototype;m.V$=function(a){a=u(this.D.V$,this.D,a);S7(this,a,"davmddp")};m.oV=function(a){a=u(this.D.oV,this.D,a);S7(this,a,"davmudp")};m.EJ=function(a){a=u(this.D.EJ,this.D,a);S7(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.Noa=function(a,b){this.D.Noa(a,b)};function zVh(a,b,c){No.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Oo(this);this.qa(this.Ma);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new xA(this);this.qa(this.ma);this.Ma.listen(this.H,"r",this.X7b).listen(this.H,"u",this.T8b).listen(this.H,"e",this.WQb).listen(this.H,"p",this.XQb);this.Ma.listen(g7(a),["dd"],this.VQb).listen(g7(a),"bu",this.UQb)}t(zVh,No);
function AVh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return BVh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new lq),a.F="in-progress",BVh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function BVh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.OTa(b))}function CVh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Id(null):d.callback(c)}m=zVh.prototype;
m.OTa=function(a){for(var b=g7(this.C),c=xSh(b),d=[],e=0;e<c.length;e++){d.push(Uj(c[e].F));var f=c[e].getId();id(b.H,f)}b=new RMh;d=Qj(b,1,d);this.L&&L(d,2,this.L);c7(this.C).tb&&(b=c7(this.C).tb,L(d,5,b));NPh(this.H,"sync",d,u(this.V6b,this),u(this.U6b,this),!1,a?a:void 0)};m.U6b=function(){this.O=!1;CVh(this,!0)};m.WQb=function(){this.dispatchEvent("net-error")};m.XQb=function(){this.dispatchEvent("post-limit-error")};
m.V6b=function(a){a=new AMh(a);var b=this.O;this.O=!1;var c=La();if(b){var d=T7(this.xa,"model-loaded");if(d){var e=(new Z6("model-loaded")).build();d(e)}}d=g7(this.C);try{if(DVh(this,a,b),this.L=K(a,2),ySh(d))Zp(u(this.OTa,this));else{var f=La()-c;CVh(this,!1,b?f:void 0);this.V&&this.V.So("dscat",f)}}catch(h){throw Zp(function(){throw h;}),h;}};
function DVh(a,b,c){var d=g7(a.C),e=vSh(d),f=Nj(b,T6,1);b=0<f.length;var h=g7(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=Uj(l.value);var n=S6(l),q=rSh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=g7(r.C);n=S6(l);delete e[q.getId()];var x=q.getId();if($c(w.H,x))n=!1;else{x=q.getId();if(x=$c(w.Ha,x)){if(l7(q.C)){EVh(r,q);n=!1;break a}r=q.getId();id(w.Ha,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=Zd(q.D);w=ja(R6(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(FVh(Uj(q[x.value].C)));q=R6(n);Qj(n,8,kd(q,w));n=!0}}n&&k.push(new iPh(l))}EPh(h,k,"n");h=ja(xSh(d));for(k=h.next();!k.done;k=h.next())k=k.value,l7(k.C)&&void 0===k.C.C.getId()&&EVh(a,k);if(c)for(a=ja(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],gPh(h)||void 0===h.C.C.getId()&&!l7(h.C)||(b=!0,h=Uj(h.F),S6(h),k=S6(h),Qj(k,8,[]),f=La(),L(k,13,f),L(k,12,!1),
L(h,9,!1),z7(d,new iPh(h),"n"));b&&d.flush(c)}function EVh(a,b){a=g7(a.C);var c=Uj(b.F),d=S6(c);L(c,9,!1);L(d,12,!1);b=b.getId();id(a.H,b);z7(a,new iPh(c),"n")}function FVh(a){var b=La();L(a,13,b);L(a,12,!1);return a}m.X7b=function(){var a=12E4*Math.random();null!==this.R&&$p(this.R);this.R=Zp(function(){AVh(this,c7(this.C).jea?1:void 0)},a,this)};
m.T8b=function(a){if(a.Cm){var b=a.Cm;a=g7(this.C);var c=0;b=Nj(b,T6,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=Uj(d.value);var e=S6(d);e=rSh(a,e.getId(),K(e,11));e&&e.eR()||(z7(a,new iPh(d),"n"),c++)}0<c&&g7(this.C).flush()}};m.VQb=function(a){"n"!=a.O&&qSh(g7(this.C))&&AVh(this)};m.UQb=function(a){"n"!=a.source&&qSh(g7(this.C))&&AVh(this)};m.Ja=function(){No.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function GVh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Ma=new Oo(this);this.qa(this.Ma);this.C=null;this.O=!1;this.J=null}t(GVh,A);function HVh(a){if(!ZLh(a.H,"netIo"))return!1;a.C=new zVh(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.Ma.listen(a.C,"net-error",a.V);a.Ma.listen(a.C,"post-limit-error",a.R);return!0}GVh.prototype.V=function(){IVh(this.F,"fe")};GVh.prototype.R=function(){IVh(this.F,"p")};function JVh(a){a.O=!0;a.J=La();oq(nq(AVh(a.C,a.D.Gz?1:void 0),a.L,a),a.ma,a)}
function KVh(a){if(DOh(a.D)){var b=a.C.D;b?nq(b,function(){return LVh(a)}):LVh(a)}}GVh.prototype.L=function(a){var b=this.D.O;b&&b.JAa(wSh(g7(this.H)).C.clone().serialize());if(b=T7(this.F,"sync-success")){var c=(new Z6("sync-success")).build();b(c)}(b=T7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new cNh("initial-anchored-render-done",a));(a=T7(this.F,"initial-sync-and-render-complete"))&&a(new cNh("initial-sync-and-render-complete",La()-this.J));IVh(this.F,"s");IVh(this.F,"r")};
GVh.prototype.ma=function(){var a=T7(this.F,"sync-error");if(a){var b=(new Z6("sync-error")).build();a(b)}IVh(this.F,"e")};function LVh(a){a.C.L=null;AVh(a.C,a.D.jea?1:void 0)};function MVh(){}MVh.prototype.C=function(a,b){return b?b.B0?["Action item created"]:["Comment created"]:[]};MVh.prototype.D=ea(0);function NVh(){}NVh.prototype.C=function(){return["Reply added"]};NVh.prototype.D=ea(0);function OVh(a){var b=a.r9a,c=a.nNb,d=a.Q4b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function PVh(a){aW.call(this);this.V=a;this.Ha=c7(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(PVh,aW);m=PVh.prototype;
m.Ba=function(){aW.prototype.Ba.call(this);Yx(qy(this),"docos");var a=Da(qy(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Iy(this.rb(),OVh,{r9a:this.O,nNb:this.R,Q4b:this.ma});Hy(this,"ok");a=this.Ha.Xa;null!==a&&(Hw(this.Mq(),"z-index",a),Hw(qy(this),"z-index",a+1))};
m.Ia=function(){aW.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=xy(this.D,"ok");Go(this.F,"click",u(this.iCa,this));Go(this.H,"click",u(this.iCa,this));Go(this.L,"click",u(this.iCa,this))};
m.update=function(){this.xa.disabled=!0;QVh($Ph(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.Uza=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}RVh($Ph(this.V),a)};m.iCa=function(){var a=this;QVh($Ph(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){Mo(this.F);Mo(this.H);Mo(this.L)};m.Ja=function(){aW.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function SVh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",SVh,void 0);function TVh(a,b){if(a){b||a.unshift(void 0);UVh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),VVh(c[2],b),TVh(c[3],b),b&&c.shift());b&&a.shift()}}function VVh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function UVh(a,b){if(a){b||a.unshift(void 0);VVh(a[3],b);VVh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)UVh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function WVh(a){A.call(this);this.D=a;this.C=c7(a).Wb;this.H=[];this.F=[];c7(a).Tc||(this.Ma=new Oo(this),this.qa(this.Ma),this.Ma.listen(g7(a),["f","dd"],this.Edb).listen(g7(a),"bu",this.Ddb))}v(WVh,A);m=WVh.prototype;m.Edb=function(a){if("o"!=a.O&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=ld(this.H);var b=ld(this.F);this.C.B3a(a,b,u(this.RLb,this,a),u(this.PLb,this,b));this.H=[];this.F=[]}}else XVh(this,a.type,a.C,a.R)};
m.Ddb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,XVh(this,a.type,c.Rj,c.C)};function XVh(a,b,c,d){if(c){var e;"bu"==b?e=g7(a.D).ud(c):e=g7(a.D).F[c];(b=e)&&l7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!gPh(b)&&(e=Uj(b.F).Wf(),e=$d(e),TVh(e,!1),b=new SVh(c,e,b.eR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.RLb=function(a){for(var b=0;b<a.length;b++);};
m.PLb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);YVh(this,d,c)};m.Gyb=function(a,b){if(0<b.length){for(var c=g7(this.D),d=0;d<b.length;d++){ya(b[d]);var e=$d(b[d]);TVh(e,!0);e=new T6(e);z7(c,new iPh(e),"o")}c.flush(!0)}a()};m.Fyb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);YVh(this,d,c);a()};
function YVh(a,b,c){if(a=pNh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ja=function(){WVh.Ua.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function ZVh(a,b){var c=new aef(new Pdf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));cef(c,b);b=c.D;a=null!=K(a.Zg,50)?K(a.Zg,50):4;L(b,5,$Vh(a));return shf(c)}function $Vh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function aWh(a,b){this.F=a;this.D=b;this.H=c7(this.D);this.C=null};function bWh(a){this.F=a}bWh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?e7(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};bWh.prototype.D=ea(0);function cWh(a,b){this.F=a;this.H=g7(this.F);this.J=b}cWh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.tB())return["Draft comment"];b=[];c=ePh(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.zk()){var h=this.J;var k=f.l3();null==k?h="":(h=h(k).C(),h=null==h?"":Ivd(h,xvd.getInstance()))}else h=f.XA();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(a7(f.ww())+(" on "+a.format(eOh(f)))));b.push(h+f)}return b};
cWh.prototype.D=ea(0);function dWh(a){this.Pcc=a;return this}t(dWh,i5);dWh.prototype.shouldOverrideHide=g("Pcc");dWh.prototype.shouldOverrideHide=dWh.prototype.shouldOverrideHide;function eWh(a){this.C=a}v(eWh,i5);pa("docos.api.ToggleShowStreamPaneArgs",eWh,void 0);eWh.prototype.getDisplay=g("C");eWh.prototype.getDisplay=eWh.prototype.getDisplay;function fWh(a){cB.call(this,a);this.jj("back-to-document",[85]);this.jj("next-doco",[74]);this.jj("prev-doco",[75]);this.jj("prev-anch",[75,1]);this.jj("next-anch",[74,1]);this.jj("resolve",[69]);this.jj("reopen",[69,1]);this.jj("reply",[82]);this.jj("speak-comment",Dt(["A","C"]));this.addEventListener("shortcut",this.Da)}t(fWh,cB);fWh.prototype.Da=function(a){this.dispatchEvent(a.identifier)};function gWh(a,b,c){b=c||b;var d=a.CJ,e=a.D4b;c=a.q$a;var f=a.p$a,h=a.ao,k=a.f2,l='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';l+=yx("Comment history box.");var n='"><div class="'+T("docos-streampane-content")+'">';e?(a='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',b=b={ao:h},e="",b.ao?(e+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+T("docs-material")+'">'+R(gNh({gi:"docos-icon-add-comment",rB:"docos-icon-add-comment-size",Qe:"docos-new-comment-icon",hR:!0})),e+="Comment</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+T("docos-notification-settings")+'">',h=h={ao:h},h=h.ao,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(gNh({gi:"docos-icon-bell",rB:"docos-icon-bell-size",Qe:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",k=a+h+(k?'<div class="'+T("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=b,d=a.wC,k=a.CJ,a=a.II,h='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(hNh({size:48,Qe:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+
'"><div class="'+T("docos-streampane-username")+" "+T("goog-inline-block")+'">'+R(d)+"</div>"+R(jQh({Qe:"docos-streampane-input-pane",Ydc:!0,II:a},h)),k&&(h+='<div class="'+T("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;c&&(l+='<div class="'+T("docos-streampane-bannertext")+'">'+R(c),f&&(l+='<a target="_blank" rel="noreferrer" href="'+T(zx(f))+'" class="'+T("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+" "+T("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function hWh(){var a='<div class="'+T("docos-streampane-error")+'">';return S(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function iWh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+jWh({Bq:"spinner-blue"})+jWh({Bq:"spinner-red"})+jWh({Bq:"spinner-yellow"})+jWh({Bq:"spinner-green"})+"</div></div>")}
function jWh(a){a=a.Bq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function kWh(a,b){b7.call(this,a,b);this.D=null}v(kWh,b7);kWh.prototype.Ba=function(){var a=this.oa();this.D=Ky(iWh,{},void 0,a);this.jb(this.D)};kWh.prototype.qf=function(){this.D.parentElement.removeChild(this.D)};kWh.prototype.Ja=function(){delete this.D};function lWh(a,b){Oo.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=i7(this.R);this.Ig=null;this.V=new cB(this.C.oa().Ub());this.V.jj("blur",27);this.ma=new xA(this);this.qa(this.ma);this.ma.Kb(this.J.Ra("docos-new-doco"),kt,this.OQb).Kb(this.J.Ra("docos-highlight-doco"),kt,this.NQb);this.listen(this.C,"bd",this.MQb).listen(this.C,"br",this.PQb)}t(lWh,Oo);
function mWh(a){0==a.D&&0<a.C.yc()&&(a.D=nWh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.yc();c++)nWh(a,c)==a.D&&(b=c);oWh(a);U7(a.C,!1);b=a.C.Ac(b).getId();b=new WMh(b,a.C.getId());a.J.zf("docos-before-highlight-doco").mb(b);a.J.zf("docos-highlight-doco").mb(b)}}function oWh(a){a.Ig||(a.Ig=new hy(a.C.oa().Ub()),a.qa(a.Ig));a.listen(a.Ig,"focusin",a.aYa).listen(a.V,"shortcut",a.jOa)}m=lWh.prototype;
m.aYa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,pWh(this,!0),U7(this.C,!0),this.Bc(this.Ig,"focusin",this.aYa).Bc(this.V,"shortcut",this.jOa),a=U6(),this.J.zf("docos-before-highlight-doco").mb(a),this.J.zf("docos-highlight-doco").mb(a))};m.jOa=function(){U7(this.C,!1);pWh(this,!1)};
m.NQb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Dc(a)){if(this.D=x7(g7(this.R),b.C),b.D==this.C.getId()){oWh(this);pWh(this,!1);a instanceof ITh&&(a.Sh(!0),NTh(a,!0));U7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof ITh)a:if(ATh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=ePh(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(vTh(a.H[b[c].getId()]))break a;vTh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,U7(this.C,!0),pWh(this,!0)};
m.OQb=function(a){a=a.data;var b=A7(g7(this.R),a.Fp);if(b){for(var c=0;c<this.C.yc();c++)if(b.getId()==this.C.Ac(c).getId()){this.D=a.Fp;break}this.F=!0;U7(this.C,!1,!0);pWh(this,!1)}};m.MQb=function(){qWh(this)};m.PQb=function(){g7(this.R).V||qWh(this)};function qWh(a){if(1==a.C.yc())a.D=0,U7(a.C,!1);else{for(var b=0,c=0;c<a.C.yc();c++)if(nWh(a,c)==a.D){b=c;break}b==a.C.yc()-1?b--:b++;a.D=nWh(a,b);a.F=!0;U7(a.C,!1,!0);pWh(a,!1)}}
function pWh(a,b){for(var c=E7a(a.C),d=0;d<c.length;d++){var e=a.C.Dc(c[d]);e instanceof ITh&&(e.Sh(b),NTh(e,b))}}function nWh(a,b){return x7(g7(a.R),a.C.Ac(b).getId())};function rWh(a,b,c){this.D=a;this.F=b;this.C=c||null};function sWh(a,b,c,d){b7.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.pAa(this);this.O={};this.J=[];this.H=[];this.Ca=!1;this.ma=this.F=this.R=null;this.xa=new xA(this);this.qa(this.xa);a=g7(this.context);this.getHandler().listen(a,"bu",this.A5b).listen(a,"dd",this.a6b).listen(a,"f",this.B6b).listen(b,"rv",this.eac).listen(this,"ra",this.R7b).listen(this,"sd",this.v8b).listen(this,"sr",this.w8b).listen(this,"sn",this.f8b).listen(this,"sp",this.g8b).listen(this,"bd",this.B5b).listen(this,
"ar",this.n5b).listen(this,"ph",this.T6b);rNh(this)}v(sWh,b7);m=sWh.prototype;
m.Ia=function(){sWh.Ua.Ia.call(this);fA(this.getElement(),"docos");Zx(this.getElement(),["docos","docos-stream-view"]);Px(this.getElement(),"list");EOh(this.C)?Yx(this.getElement(),"docos-stream-view-height"):(Yx(this.getElement(),"docos-stream-view-legacy"),Yx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.D&&Yx(this.getElement(),"docs-gm");"material_blue"==this.C.D?Yx(this.getElement(),"docos-gm-blue"):"material_green"==this.C.D?Yx(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.D&&Yx(this.getElement(),"docos-gm-yellow");Zx(this.rb(),this.D.LP());this.getHandler().listen(this,"rd",this.Kdb);var a=i7(this.context);this.xa.Kb(a.Ra("docos-highlight-doco"),kt,this.yha);c7(this.context).pb&&Xx(this.getElement(),"docos-layout-vertical")&&(this.R=new lWh(this.context,this),this.F=this.gb.createElement("DIV"),Yx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.ey).listen(this.F,"focus",this.i8b),tWh(this).appendChild(this.F),this.ma=new cC);
this.qEa()};m.NHa=ea(!0);m.q$=function(){this.D.GJ();uWh(this);this.D.MJ(!0);this.dispatchEvent("ail")};m.ey=function(){mWh(this.R)};m.i8b=function(){var a=this.R;a.H=!0;mWh(a)};m.qEa=function(){var a=g7(this.context);if(Md(a.C)){this.D.MJ(!1);a=Zd(a.C);for(var b in a)vWh(this,b);this.D.nJ();this.q$()}};m.iA=function(a,b){for(var c=this.yc()-1;0<=c;--c){var d=this.Ac(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.iA()}};
m.yha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.hja(a,c)){if(this.ma&&a&&this.D.Fq()!=a){var d=this.yc();d="Comment "+(mx(this,this.Dc(a))+1+(" of "+(d+" ")));dC(this.ma,d)}this.dispatchEvent("us");this.D.Qoa(a,c,b);uWh(this);this.dispatchEvent("ud")}};m.A5b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Rj;c=c.C;b&&(g7(this.context).ud(b),(c=this.Dc(b)||c&&this.Dc(c))?(c.getId()!=b&&c.Kc(b),this.J.push(b)):this.O[b]=!0)}};m.a6b=function(a){this.H.push(a.C)};
function uWh(a){a.Ca||a.D.bz()}m.B6b=function(a){this.D.MJ(!a.F);this.Ca=!0;for(var b=0;b<this.H.length;++b)wWh(this,this.H[b]);for(var c in this.O)vWh(this,c);Td(this.O)||this.D.nJ();for(b=0;b<this.J.length;++b)xWh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.GJ();this.D.bz();this.Ca=!1;this.D.MJ(!0)};m.Kdb=function(a){this.Dc(a.Rj)&&(this.D.n_(a.Rj),uWh(this))};
m.R7b=function(a){var b=g7(this.context).ud(a.Rj);if(a=c7(this.context).H.reanchor)b=u7(b),b=bNh("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.v8b=function(a){var b={text:a.C,$m:a.$m,Fp:a.Fp,beb:a.$m,B0:a.B0};a.$m&&c7(this.context).Mc&&(b.quote=(0,c7(this.context).Mc)(a.$m));a.$m&&c7(this.context).Oa&&(b.$m=(0,c7(this.context).Oa)(a.$m));i7(this.context).zf("docos-new-doco").mb(b)};
m.w8b=function(a){var b=g7(this.context).ud(a.Rj);if(!b)throw Error(a.Rj+" not contained within appropriate stream.");var c=i7(this.context);b.isResolved()?c.zf("docos-resolve-doco").mb(new sNh(a.Rj,!1,a.C)):c.zf("docos-new-reply").mb(new rWh(a.Rj,a.C,a.B0))};m.f8b=function(){this.D.highlightNext()};m.g8b=function(){this.D.highlightPrevious()};m.B5b=function(){this.D.vha()};m.n5b=function(){this.D.tha()};
function vWh(a,b){var c=g7(a.context).ud(b);c&&a.Ha(c)&&!a.Dc(b)&&(a.dispatchEvent("us"),a.D.zU(c),a.dispatchEvent("ud"),a.R&&U7(a,!0))}function xWh(a,b){a.dispatchEvent("us");var c=a.Dc(b);if(c){var d=g7(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.n_(b)):wWh(a,b)}a.dispatchEvent("ud")}function wWh(a,b){b&&(a.dispatchEvent("us"),a.D.CS(b),a.dispatchEvent("ud"))}m.eac=function(a){for(var b=a.FHa.length,c=0;c<b;++c)wWh(this,a.FHa[c])};m.T6=function(){for(var a=this.yc(),b=0;b<a;++b)this.Ac(b).T6()};
function tWh(a){return(a=a.getElement())?a.parentElement:null}function U7(a,b,c){if(!b&&!c||0!=a.yc())a.oa().Qi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Qi(a.F,b))}m.Ja=function(){sWh.Ua.Ja.call(this);delete this.xa};m.T6b=function(){var a=this.D.QV();null==a||a.isDisposed()||(a.update(),a.focus())};function yWh(a){A.call(this);this.C=[];this.D=!1;this.F=new Aq;this.H=a?!1:!0}t(yWh,A);yWh.prototype.start=function(){this.H=!0;zWh(this)};function zWh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Gk(u(a.J,a)))}yWh.prototype.J=function(){this.C.shift()();this.D=!1;zWh(this)};yWh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function AWh(a,b,c,d){sWh.call(this,a,b,c,d);this.Oa=new yWh;this.L=[];this.Ka=new kWh(a,d);this.Da=!1;this.V=null}v(AWh,sWh);m=AWh.prototype;m.NHa=g("Da");m.q$=function(){AWh.Ua.q$.call(this);this.Ka.qf();this.Da=!0;this.V&&this.yha(this.V)};m.tEa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Dc(b)||(vWh(this,b),a++)}0==this.L.length?this.q$():(a=this.Oa,b=u(this.tEa,this),a.C.push(b),zWh(a))};
m.qEa=function(){var a=g7(this.context);if(Md(a.C)){this.Ka.render(tWh(this));this.D.MJ(!1);a=Zd(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=u(this.tEa,this);b.C.push(a);zWh(b)}};m.yha=function(a){this.Da?AWh.Ua.yha.call(this,a):this.V=a};function BWh(a,b,c,d,e){J7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];c7(a).Fc&&(c=c.concat(["link"]));this.L=new JOh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);ATh(this);this.Ha+=" docos-streamdocoview-input-pane";this.Wb="Discard reply";this.Ca=this.V=this.Ka=this.Ta=this.Qa=this.Da=null}t(BWh,J7);m=BWh.prototype;
m.Ba=function(){J7.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Da=a.bb("docos-streamdocoview-inputcontainer",b);this.Qa=a.bb("docos-streamdocoview-reopen-control",b);this.Ta=a.bb("docos-streamdocoview-resolve-control",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Ux(this.L.F.La(),"More options");this.Ka=a.bb("docos-author",b);this.V=oV(a,"IMG","docos-streamdocoview-avatar",b);this.Ca=oV(a,"IMG","docos-streamreplyview-avatar",this.Da);a=this.oa();b=this.getElement();var c=a.bb("docos-docoview-comment",
b);c&&(c7(this.getContext()).C.C(c,"Reply to this comment"),Ux(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))c7(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),Ux(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))c7(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),Ux(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){J7.prototype.Ia.call(this);CWh(this);var a=this.getElement();this.D.V=a;d7(d7(d7(d7(this,this.L,"d",this.k1a),this.L,"e",this.k6b),this.L,"r",this.b8b),this.L,"ra",this.T7b);a=this.ud().ww();DWh(this,a);EWh(this,a);a=c7(this.getContext()).gh();vNh(f7(this.getContext()),this.Ca,a.D,a7(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ca&&this.C.C.C(this.Ca,a)};m.Kc=function(a){J7.prototype.Kc.call(this,a);this.L&&LOh(this.L,a)};
m.update=function(){J7.prototype.update.call(this);var a=this.ud().ww();DWh(this,a);EWh(this,a);this.L.update();CWh(this);this.Da&&(a=!Td(this.H)||D7(this.D)||this.ql(),P(this.Da,a))};function DWh(a,b){var c=f7(a.getContext()),d=b.D;a.V&&PSh(b,a.ud().getOrigin())&&(d=UPh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));vNh(c,a.V,d,a7(b))}function EWh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ka&&a.C.C.C(a.Ka,c),a.V&&a.C.C.C(a.V,c))}
function CWh(a){var b=a.ud();a.Qa&&P(a.Qa,b.isResolved());a.Ta&&P(a.Ta,!b.isResolved())}m.MXa=function(a){var b=this.getElement();a=a.target;Xx(a,"docos-docoview-comment")&&b?this.D.ready():Xx(a,"docos-docoview-resolve")&&b?FWh(this):Xx(a,"docos-docoview-reopen")&&b&&GTh(this)};m.k6b=function(){sTh(this.F)};m.b8b=function(){this.ud().isResolved()?GTh(this):FWh(this)};m.T7b=function(a){this.dispatchEvent(new lQh("ra",this.ud().getId()));a.stopPropagation()};
function FWh(a){var b=i7(a.getContext());a.dispatchEvent("br");var c=new sNh(a.getId(),!0,D7(a.D)?a.D.getValue():null);b.zf("docos-resolve-doco").mb(c);a.dispatchEvent("ar")}m.T6=function(){var a=this.F;a.tb&&!a.H.ql()||nTh(a)};m.vd=function(){J7.prototype.vd.call(this);var a=f7(this.getContext());h7(a,this.V);h7(a,this.Ca)};m.Ja=function(){J7.prototype.Ja.call(this);delete this.L;delete this.Ka;delete this.V;delete this.Ca;delete this.Da;delete this.Qa;delete this.Ta};function GWh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}GWh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.D.dk().getId();return new BWh(this.C,a.getId(),b,this.cb,this.H)};function HWh(a,b){L7.call(this,a,b)}v(HWh,L7);m=HWh.prototype;m.o3=function(){return"none"!=c7(this.getContext()).$a};m.$na=function(a){return(new GWh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.YU=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");switch(M7(this).$a){case "creation":var c=b.Tx().getTime()-a.Tx().getTime();break;case "priority":c=a.isResolved()?1:0;var d=b.isResolved()?1:0;(c-=d)||(a.isResolved()&&b.isResolved()?c=0:(d=e7(a),c=e7(b),d=jNh(d,M7(this))?1:0,c=(jNh(c,M7(this))?1:0)-d));c=c||IWh(a,b);break;default:c=IWh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0);return c};
function IWh(a,b){return b.YP().getTime()-a.YP().getTime()}m.zU=function(a){var b=this.dk(),c=this.$na(a),d=0;this.o3()&&(d=this.Cba(c));b.Ef(c,d,!0);c.update();if(c=b=this.eba())b.C!=a.getId()?c=!1:(c=a.Iz()?u7(a):void 0,d=c7(this.getContext()).Fi,d=null!=c&&d(c),c=null==c||a.isResolved()||!!hPh(a)||d);c&&(b=X6($Mh(W6(V6(a.getId()),this.ZF()),b.D)),this.eRa(b,a))};m.CS=function(a){this.dk().Dc(a)&&(a=this.dk().removeChild(a),Jf(a))};
m.n_=function(a){if(this.o3()){var b=this.dk();if(a=b.Dc(a)){var c=mx(b,a),d=this.Cba(a);c!=d&&b.Ef(a,d)}}};m.vha=function(){cUh(this,!0,!0)};m.tha=function(){if(this.H&&this.Fq()){var a=this.Fq();F7(g7(this.getContext()),a);this.ZF()&&i7(this.getContext()).zf("docos-highlight-doco").mb(X6(YMh(W6(V6(a),this.ZF()))))}};m.GJ=function(){eUh(this)};function JWh(a){a=a||{};var b=a.Vac,c=a.Wac,d=a.gab,e=a.fab;a=a.xcb;if(vx(d)||vx(c)){var f;vx(a)&&vx(c)?f='<a href="'+T(zx(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function KWh(a,b){Q.call(this,b);this.C=a}t(KWh,Q);KWh.prototype.Ba=function(){this.jb(Ky(JWh,{fab:K(this.C,4),gab:this.C.um(),xcb:K(this.C,5),Vac:K(this.C,2),Wac:K(this.C,1)},void 0,this.oa()))};function LWh(a,b){b7.call(this,a,b);i7(a);this.Oc=new Hz(b);this.F=a;for(var c in LMh){a=LMh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new lP(d,a,b);this.Oc.Ga(a,!0)}this.D=new Pz("",this.Oc,pH.getInstance(),b);Qz(this.D,new Lz(null,9));this.D.jI=!0;this.Ga(this.D)}v(LWh,b7);m=LWh.prototype;
m.Ia=function(){LWh.Ua.Ia.call(this);var a=this.oa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Re(a,"Notifications");b=c7(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Oc.yc();a++){var c=this.Oc.Ac(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}d7(this,this.D,"action",this.Ndb);d7(this,this.C,"r",this.Roa);d7(this,this.getElement(),"keyup",this.Mjb);d7(this,this.Oc,"show",this.Mdb);d7(this,this.Oc,"hide",this.Ldb);this.Roa()};m.Mdb=function(){0<this.Oc.yc()&&this.Oc.ji(0)};m.Ldb=function(a){a.stopPropagation()};m.Mjb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.Ndb=function(a){var b=a.target.Sa(),c=$Ph(this.F);b!=QVh(c)&&RVh(c,b);this.Roa();a.stopPropagation()};m.Roa=function(){var a=this;!this.C.R&&this.C.CJ()?QVh($Ph(this.F)).then(function(b){for(var c=0;c<a.Oc.yc();++c){var d=a.Oc.Ac(c);d.Vb(d.Sa()==b)}b=!a.C.R&&a.C.CJ();a.D.Na(b)},void 0,this):this.D.Na(!1)};function MWh(a,b,c,d){b7.call(this,a,b);this.H=new HWh(a,b);this.qa(this.H);this.D=c?new AWh(a,this.H,gfa(fPh),b):new sWh(a,this.H,gfa(fPh),b);this.Ga(this.D);this.J=a;this.xa=null;this.Ha=!!d;Cj(this.C.Zg,30)||(this.F=new IRh(a,b),this.qa(this.F),this.Ga(this.F),this.F.Ca="Add a comment");this.R=null;Cj(this.C.Zg,30)&&this.C.CJ()&&!this.C.ma&&(this.R=new LWh(a,b),this.Ga(this.R));this.L=null;this.C.f2()&&(this.L=new cU(b),this.Ga(this.L));this.O=null;Cj(this.C.Zg,30)&&(this.O=new GA("",b,"legacy"!=
this.C.D?4:void 0),this.Ga(this.O));this.Ca=new xA(this);this.qa(this.Ca);this.ma=new KWh(N(this.C.Zg,Q8e,2)||new Q8e,b);this.Ga(this.ma);this.Da=!1;this.V=null;rNh(this)}v(MWh,b7);m=MWh.prototype;m.jZa=0;m.cz=null;m.U$=null;m.nV=null;m.QC=null;m.oP=null;
m.Ba=function(){var a="legacy"!=this.C.D,b=this.oa(),c=Ky(gWh,{wC:this.C.gh().getName(),CJ:this.C.CJ(),D4b:!!Cj(this.C.Zg,30),II:this.C.Da,q$a:this.C.Dz,p$a:this.C.Cz,ao:a,f2:this.C.f2()},void 0,b);Cj(this.C.Zg,30)&&Yx(c,"docos-enable-docs-header");a&&Yx(c,"docs-gm");"material_blue"==this.C.D?Yx(c,"docos-gm-blue"):"material_green"==this.C.D?Yx(c,"docos-gm-green"):"material_yellow"==this.C.D&&Yx(c,"docos-gm-yellow");this.jb(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.oP=Cj(this.C.Zg,
30)?this.D.rb():this.C.L;this.ma.render(c);this.U$=b.bb("docos-streampane-username",c);this.nV=oV(b,"IMG","docos-streampane-avatar",c)};
m.Ia=function(){MWh.Ua.Ia.call(this);var a=this.oa(),b=this.getElement();this.F&&this.F.Va(a.bb("docos-streampane-input-pane",b));if(this.R){var c=a.bb("docos-notification-settings",b);this.R.Va(c)}this.L&&(c=a.Fa("docos-priority-checkbox",b),this.L.render(c),this.L.setContent("Priority"),d7(this,this.L,"action",this.Iab));c=c7(this.J).C;this.O&&(a=a.bb("docos-new-comment-button",b),this.O.Va(a),c.C(a,this.C.Ka?"Add comment not available":"Add a comment"),d7(this,this.O,"action",this.Fdb),this.e3a(),
this.getHandler().listen(this.C,"r",this.e3a));this.C.xa&&(b=this.C.xa,this.F&&(this.F.V=b));yp(b,!0);this.QC=new fWh(b);Go(this.QC,"next-doco",this.p7b,!0,this);this.QC.addEventListener("prev-doco",this.I7b,!0,this);Go(this.QC,"resolve",u(this.G8a,this),!0);Go(this.QC,"reopen",u(this.Jdb,this),!0);Go(this.QC,"back-to-document",this.k$a,!0,this);Go(this.QC,"speak-comment",this.iec,!0,this);b=i7(this.J);a=this.C.Ka?this.M6b:this.Idb;this.Ca.Kb(b.Ra("docos-highlight-doco"),kt,a);this.F&&d7(this,this.F,
"p",this.l5b);d7(d7(d7(d7(d7(d7(d7(d7(this,this.getElement(),"click",this.Gdb),this.D,"f",this.C6b),this.D,"b",this.E5b),this.D,"e",this.s6b),this.D,"us",this.u8b),this.D,"ud",this.t8b),this.D,"ail",this.s8b),this,["aftershow","afterhide"],this.Hdb);b=this.C.gh();VPh(f7(this.J),this.nV,b.D,a7(b));this.U$&&(a=b.getName())&&this.C.C.C(this.U$,a);this.nV&&(a=b.getName())&&this.C.C.C(this.nV,a);this.Ha||(this.xa=new nC(this.getElement(),this.oa()),this.qa(this.xa),oC(this.xa));NWh(this)};
m.Hdb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof tdf;var d=(new Z6(b)).setNonAnchored(!0).setApiEventArgs(new dWh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.T6=function(){this.D.T6()};m.Gdb=function(a){Xx(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.l5b=function(){var a=this.F.getValue();Cd(a)||(i7(this.J).zf("docos-new-doco").mb({text:a,$m:null,Fp:0,quote:null}),this.cz=null)};m.C6b=function(a){if(a=a.target)this.cz=a.getElement()};m.E5b=function(a){OWh(this,a)};m.s6b=function(a){OWh(this,a)};function OWh(a,b){(b=b.target)&&b.getElement()==a.cz&&(a.cz=null)}m.u8b=function(){null!=this.cz&&(this.jZa=this.cz.offsetTop)};m.t8b=function(){null!=this.cz&&this.oP&&(this.oP.scrollTop+=this.cz.offsetTop-this.jZa)};m.s8b=function(){this.dispatchEvent("initial-load-complete")};
m.Idb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&PWh(this,a.C||null);if(a=a.C?this.D.Dc(a.C):null)this.cz=a.getElement()};m.M6b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?g7(this.J).ud(b):null)&&(b=(new Z6("toggle-show-stream-pane")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.J),b.getId())).setNonAnchored(!(b.Iz()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new eWh(!0)).build(),c(b));PWh(this,a.C||null)};
function PWh(a,b){(b=b?a.D.Dc(b):null)?(a.cz=b.getElement(),a.oP&&(a.oP.scrollTop=b.getElement().offsetTop)):a.cz=null}m.p7b=function(){this.H.highlightNext()};m.I7b=function(){this.H.highlightPrevious()};m.G8a=function(){var a=this.H.QV(),b=this.H.Fq();b=b?g7(this.J).ud(b):null;a&&b&&(a=a.F,b.zk()?lTh(a):kTh(a,!0))};m.Jdb=function(){var a=this.H.QV();a&&kTh(a.F,!1)};m.k$a=function(){var a=i7(this.J),b=this.H.Fq();a.zf("docos-back-to-document").mb({Rj:b})};m.iec=function(){var a=this.H.QV();a&&HTh(a)};
function NWh(a){if(a.Da&&!a.V&&a.qb()){var b=Ky(hWh);a.V=new Q;a.V.Va(b);a.Ef(a.V,0)}}m.e3a=function(){this.O.Na(this.C.If)};m.Fdb=function(){this.dispatchEvent("create-draft")};m.Iab=function(){var a=i7(this.J),b=this.L.isChecked()?"updated":"priority";a.zf("docos-update-sort").mb({eec:b})};m.vd=function(){MWh.Ua.vd.call(this);h7(f7(this.J),this.nV)};
m.Ja=function(){MWh.Ua.Ja.call(this);delete this.U$;delete this.nV;delete this.cz;delete this.oP;delete this.ma;delete this.F;delete this.H;delete this.D;delete this.Ca;this.QC&&(delete this.QC,this.QC=null)};function QWh(a){A.call(this);this.H=a;a=c7(a);null!=K(a.Zg,44)&&null!=K(uY(a.Zg),39)&&Cj(uY(a.Zg),39)?a=null:a=(a=N(a.Zg,tY,7))?a:new tY;this.C=a;this.D=null;this.F=Vp();ZLh(this.H,"netIo")&&this.F.resolve()}v(QWh,A);
function QVh(a){if(a.C)return Rp(RWh(a.C));a.D||(a.D=a.F.C.then(function(){return new Qp(function(b,c){NPh(a.H.get("netIo"),"uc",void 0,function(d){return b(new xMh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.kp();a.D=null;return RWh(a.C)},void 0,a)}function RVh(a,b){var c="all"==b;b="none"==b;var d=(new tY).Na(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new PMh;b=Oj(b,1,a.C);NPh(a.H.get("netIo"),"uc",b)}
function RWh(a){return Fj(a,2,!0)?Cj(a,3)?"all":Fj(a,4,!0)||Fj(a,5,!0)?"important":"none":"none"};function SWh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Tx();a=d.Tx();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function TWh(a,b){this.C=a;this.od=b}TWh.prototype.ud=g("C");TWh.prototype.getPosition=g("od");function UWh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function VWh(a,b){return a.C().Ac(b).getId()}function WWh(a,b){for(var c=a.C().yc(),d=0;d<c;++d)a.H(VWh(a,d),Infinity);a.layout(b||[])}m=UWh.prototype;m.layout=function(a){do{var b=a;XWh(this,0,this.C().yc(),1,-Infinity,this.okb,this.pkb,b);b=a;XWh(this,this.C().yc()-1,-1,-1,Infinity,this.m$a,this.n$a,b);a.pop()}while(0<a.length)};function YWh(a,b){0==a.D&&(a.D=1);a.F=kd(b,a.F);od(a.F)}
function ZWh(a){0!=a.D&&(2==a.D?WWh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function XWh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=VWh(a,b);var n=b;n=a.C().Ac(n).getHeight();var q=a;var r=b;r=q.C().Ac(r).ud().getId();q=q.J(r);r=a.L(l);e=$c(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.okb=function(a,b){return b+a+10};m.m$a=function(a,b){return b-10};m.pkb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.n$a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function $Wh(a,b){var c=this;kUh.call(this,a,b);this.F={};this.ma={};this.Da=new UWh(u(this.dk,this),u(this.STa,this),u(this.hqa,this),u(this.Wbc,this));this.Ta=c7(a).Wn;this.Ha=new DL;this.fb=!0;this.Pb=new Iq(this.pgc,500,this);this.Oa=this.Pa=null;this.Ka=aQh(a);this.tb=new oo;this.qa(this.tb);po(this.tb,this.Ka.D,function(){c.Qa=!0;c.Za&&aXh(c,c.Za);ZWh(c.Da);c.pb&&c.bz();c.Qa=!1});this.pb=!1;this.Za=null;this.Xa=this.Qa=!1}v($Wh,kUh);var bXh=null;m=$Wh.prototype;
m.LP=function(){var a=$Wh.Ua.LP.call(this);a.push("docos-layout-vertical");return a};m.o3=ea(!0);m.MJ=da("fb");m.YU=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=x7(g7(this.getContext()),a.getId()),d=x7(g7(this.getContext()),b.getId());return SWh(new TWh(a,this.C[c]||new Lm(Number.MAX_VALUE,Number.MAX_VALUE)),new TWh(b,this.C[d]||new Lm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.n_=function(a){this.nJ(a,!1)};m.dya=function(a){$Wh.Ua.dya.call(this,a);this.bz()};
m.e_a=function(){for(var a=this.dk(),b=a.yc(),c=0;c<b;c++){var d=a.Ac(c);d.getId()!=this.Fq()&&d.getId()!=this.PV()&&d.c$()&&d.collapse()}};m.GJ=function(){qUh(this);eUh(this);for(var a=this.dk(),b=a.yc(),c=0;c<b;++c){var d=a.Ac(c);d.c$()&&!d.ql()&&d.qza()}a=[];(b=this.Fq())&&a.push(b);this.Ka.C||this.Qa?(b=this.Da,b.D=2,YWh(b,a||[])):WWh(this.Da,a);cXh(this)};m.P1=function(a){this.Pa=a.clone();this.Oa&&this.Oa.contains(a)?this.Pb.start():(a=this.Pb,a.stop(),a.xra())};
m.pgc=function(){if(this.O){this.Oa=this.Pa.clone();var a=this.dk();this.Oa.expand(500,0,500,0);var b=a.yc(),c="";0<b&&(c=a.Ac(b-1).getId());for(var d=0;d<b;d++){var e=a.Ac(d),f=this.ma[e.getId()];f=dXh(e,this.Oa,f.y,c);e.setVisible(f)}}};
m.bz=function(){$Wh.Ua.bz.call(this);if(this.Ka.C)this.pb=!0;else{ZWh(this.Da);var a=this.dk(),b;for(b in this.F){var c=a.Dc(b);if(c){var d=b==this.Fq()||b==this.PV()?-10:this.Ta,e=!c.uwa();b!=this.Fq()&&b!=this.PV()&&this.ob&&(e=e&&this.ob.Xa);this.dha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}cXh(this);this.pb=!1}};function dXh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.ql()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function cXh(a){var b=M7(a).H.bounds;b&&(a=a.O1(),!bXh&&!a||td(bXh,a)||(bXh=a,a=(new Z6("bounds")).setUserInitiated(!0).build(),b(a)))}m.hqa=function(a){if(a&&!(a in this.F))if(M7(this).Qa){var b=this.STa(a);null!==b&&(this.F[a]=b)}else if(b=this.dk().Dc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.Wbc=function(a,b){this.F[a]=b};m.nJ=function(a){qUh(this);if(M7(this).Qa)eXh(this);else{var b=[];this.Fq()&&b.push(this.Fq());a&&b.push(a);fXh(this,b)}};
function eXh(a){M7(a).Qa&&(a.F={});var b=a.Fq();fXh(a,b?[b]:[])}function fXh(a,b){a.Ka.C||a.Qa?YWh(a.Da,b):a.Da.layout(b)}m.EJ=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Xa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Ka.C?this.Za=a:aXh(this,a))};
function aXh(a,b){a.C=b;gXh(a);qUh(a);a.Xa&&(eUh(a),a.Xa=!1);eXh(a);b=a.Ha.kf();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.zU(d)}a.nJ();a.bz();a.Za=null}function gXh(a){var b=Object.keys(a.C);b.sort(u(a.Y9b,a));a.Ha.clear();for(var c=g7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=A7(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.le())}}
m.Y9b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=A7(g7(this.getContext()),c);d=A7(g7(this.getContext()),d);return SWh(new TWh(c,b),new TWh(d,a))};m.CS=function(a){$Wh.Ua.CS.call(this,a);gXh(this)};m.Cba=function(a){a=x7(g7(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(gXh(this),b=this.Ha.get(a));return b};
m.dha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.dk();f=h.yc();h=h.Ac(f-1).getId();f=dXh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.fb&&l&&this.dk().yc()<hXh(this);k=this.fb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));fNh(this.J,h);var n=new HMh(e,[a,b],f,eN);eNh(this.J,h,n,f,function(){return Jf(n)})}else Lw(e,
a,b),f||c.setVisible(!1);c.Ec=-10==a;this.ma[h]=new Lm(a,b);this.F[h]=b}};function iXh(a,b){return(a=a.C[b])?a.y:null}m.STa=function(a){a=x7(g7(this.getContext()),a);return iXh(this,a)};m.uqa=function(a,b){a=iXh(this,a);return null===a?null:new Lm(b?-10:this.Ta,a)};
m.O1=function(){var a=this.dk();if(!a||!a.qb())return null;var b=a.yc();if(!b)return null;var c=a.Ac(0);b=a.Ac(b-1);a=b.getElement();c=this.hqa(c.getId());b=this.hqa(b.getId());return null!=c&&null!=b?[c,210+this.Ta,b+a.offsetHeight,this.Ta]:null};function hXh(a){a=M7(a);return(a=null!=K(a.Zg,47)?K(a.Zg,47):null)?a:100};function jXh(a){this.C=a}v(jXh,i5);pa("docos.api.WriteFeedbackArgs",jXh,void 0);jXh.prototype.getSource=g("C");jXh.prototype.getSource=jXh.prototype.getSource;if(!kXh)var kXh=ea("");if(!lXh)var lXh=ea("");function V7(a,b){var c=this;A.call(this);this.Ad=La();this.J={};this.F=new ZPh;var d=V7.__default_config;d&&ae(this.J,d);a&&ae(this.J,a);this.D=new COh(this.J,b);this.F.Cf("config",this.D);this.ma={};Cj(this.D.Zg,17)&&(this.Wa=new MPh,this.F.Cf("errorReporter",this.Wa),this.qwa=this.Wa.F.C(this.qwa));this.xa=null;this.V={};this.Ha=null;this.Xa=!1;this.Za=!0;this.R=new GVh(this.F,this.D,this);mXh(this,"s",function(){c.C.Oa=!0;if(0<Md(c.C.C)){nXh(c);var e=c.D.Nk;e&&e(43082,3E4)}});mXh(this,"fe",u(this.Ela,
this));this.Wb=new aWh(this,this.F);XLh();this.qwa()}v(V7,A);pa("Docos",V7,void 0);pa("docos.api.connect",function(a){return new V7(a)},void 0);m=V7.prototype;m.F2a=!1;m.uS=null;m.Wa=null;m.D6=null;m.Fu=null;m.dn=null;m.$s=null;m.HXa=!1;m.yBa=null;m.Qt=null;m.rR=null;
m.qwa=function(){if(this.Wa)for(var a in V7.prototype)Ca(this[a])&&(this[a]=this.Wa.F.C(this[a]));this.$a=new SPh(this.D);this.F.Cf("imageManager",this.$a);a=new QWh(this.F);this.F.Cf("subscriptionManager",a);this.Ca=new TUh(this.F);this.F.Cf("impressionRecorder",this.Ca);this.fb=hid(Ro());this.qa(this.fb);this.zd=new OPh(this.fb);this.F.Cf("relativeDateFormatter",this.zd);this.C=new mSh(this.D);this.F.Cf("stream",this.C);this.Pa=new vVh(this.F);this.qa(this.Pa);this.Ma=new Oo(this);this.qa(this.Ma);
this.Da=null;this.L=new sPh(this.F);this.F.Cf("controller",this.L);this.H=new gVh(this.F,this.L);if(Cj(this.D.Zg,19)){this.Da=new WVh(this.F);this.qa(this.Da);a=this.Da;var b=u(this.Zc,this),c=u(this.Oa,this);a.C?a.C.GHa(u(a.Gyb,a,b),u(a.Fyb,a,c)):c()}else this.Oa();this.rR=oXh(this);this.F.Cf("contactStore",this.rR);this.Ta=this.D.gh().getEmail()?new CUh(this.rR,this.D.gh(),this.Ca,this.D.Ll):null;a=i7(this.F);this.O=this.Ec=null;Uo("docs-aria-speakable")&&(this.Ec=new yhf(void 0,!0),this.O=new Edf(this.Ec,
a),this.O.bind("docos-new-doco",new MVh),this.O.bind("docos-new-reply",new NVh),this.O.bind("docos-delete-doco",new RUh(this.C)),this.O.bind("docos-resolve-doco",new bWh(this.C)),this.O.bind("docos-speak-doco",new cWh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new VUh));this.Qa=new xA(this);this.qa(this.Qa);this.Qa.Kb(a.Ra("docos-cancel-insert-discussion"),kt,this.I5b).Kb(a.Ra("docos-delete-doco"),kt,this.RQb).Kb(a.Ra("docos-reject-doco-with-feedback"),kt,this.X5b).Kb(a.Ra("docos-convert-doco"),
kt,this.U5b).Kb(a.Ra("docos-before-highlight-doco"),kt,this.Xxa).Kb(a.Ra("docos-highlight-doco"),kt,this.pwa).Kb(a.Ra("docos-new-doco"),kt,this.SQb).Kb(a.Ra("docos-resolve-doco"),kt,this.TQb).Kb(a.Ra("docos-back-to-document"),kt,this.y5b).Kb(a.Ra("docos-new-reply"),kt,this.o7b).Kb(a.Ra("docos-write-feedback"),kt,this.f9b).Kb(a.Ra("docos-disable-smart-todo-feature"),kt,this.b6b).Kb(a.Ra("docos-vote-doco"),kt,this.b9b).Kb(a.Ra("docos-vote-reply"),kt,this.c9b).Kb(a.Ra("docos-update-sort"),kt,this.S8b).Kb(a.Ra("mouse-hover-doco-view"),
kt,this.k7b);this.Ma.listen(this.C,"dd",this.h7b).listen(this.C,"af",this.m5b).listen(this.C,"bu",this.g7b).listen(this.C,"p",this.x7b).listen(this.D,"r",this.rla)};function oXh(a){var b=Qkd("client").then(function(){var c=qa("gapi.config.update");a.D.Koa&&c("googleapis.config/sessionIndex",a.D.Koa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new PUh(a.D,ZVh(a.D,b),a.Ad)}
function nXh(a){a.rR&&!a.rR.C&&uOh(a.D.F)&&GOh(a.D)&&iRh(a.rR)}function pXh(a){a.$s||(qXh(a),a.$s=new MWh(a.F,Ro(a.D.L),a.D.Fm,a.D.$d),a.Ma.listen(a.$s,"dnd",a.mub),a.Ma.listen(a.$s,"initial-load-complete",a.eJb),a.Ma.listen(a.$s,"create-draft",a.Me));return a.$s}m.mub=function(){this.ob()};m.eJb=function(){var a=T7(this,"initial-pane-render-done");if(a&&this.yBa){var b=La()-this.yBa;a(new cNh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Zd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Iz()&&!gPh(k)){var l=CSh(k,f,d);k=Zd(k.D);for(var n in k)l+=CSh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,ae(a,e),this.Fu.iA(a));this.V=e;e={};for(var q in this.V)e[x7(this.C,q)]=this.V[q];return e};V7.prototype.find=V7.prototype.find;V7.prototype.$d=function(){this.C.J&&(this.C.J=null,this.Fu.iA(this.V,!0),this.V={})};V7.prototype.clearFind=V7.prototype.$d;
V7.prototype.Cz=function(){var a=this.D;var b=BSh(this.C,a);b?(b=b.getKey(),a=(a=ESh(b,a))?jp(a).textContent:null):a=null;return a};V7.prototype.getSelectedMatchA11yContext=V7.prototype.Cz;V7.prototype.highlightNext=function(a,b,c){this.dn&&this.dn.highlightNext(!!a,b,c)};V7.prototype.highlightNext=V7.prototype.highlightNext;V7.prototype.highlightPrevious=function(a,b,c){this.dn&&this.dn.highlightPrevious(!!a,b,c)};V7.prototype.highlightPrevious=V7.prototype.highlightPrevious;
V7.prototype.select=function(a,b){var c=A7(this.C,a);a=c?c.getId():"";b=c?new vY(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Fu.Dc(c.getKey()):null;c=this.Fu.Dc(a);b&&b!=c&&b.iA();if(c){c.c$()&&(b=ASh(g7(this.F),this.D),c.expand(b?b.getKey():void 0));c.iA();b=zSh(this.C,this.Fu);d=i7(this.F);var e=ZMh(V6(a));e.C=b?b.start:0;e=X6(e);d.zf("docos-before-highlight-doco").mb(e);F7(g7(this.F),a);
d.zf("docos-highlight-doco").mb(e);if(b&&pQh(c)&&(a=c.rb())){c=Ww(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};V7.prototype.select=V7.prototype.select;V7.prototype.c5a=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Fu.Dc(a.getKey()))&&a.iA();a=i7(this.F);var b=ZMh(V6(""));b.C=0;b=X6(b);a.zf("docos-before-highlight-doco").mb(b);F7(g7(this.F),null);a.zf("docos-highlight-doco").mb(b)}};
V7.prototype.unselect=V7.prototype.c5a;V7.prototype.m5a=function(){var a=this.C,b=new bSh(a,"c"),c;for(c in a.C)b.C.push(new $Rh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(cSh(b));a.flush(!0)};V7.prototype.updateAll=V7.prototype.m5a;V7.prototype.a0=function(){return!!Cj(this.D.Zg,19)&&!!this.D.Wb&&!this.D.Tc};V7.prototype.isSavingToOfflineStorage=V7.prototype.a0;V7.prototype.dO=function(){return 0<SRh.le()};V7.prototype.hasUnpostedDocos=V7.prototype.dO;
V7.prototype.eO=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=uSh(d,c))&&(c.zk()?IPh(d,c):d.R(c)))return!0}return!1};V7.prototype.hasVisibleAnchoredDocos=V7.prototype.eO;V7.prototype.Agc=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Fu&&(a=this.Fu,b=g7(a.context),Md(b.C))){for(c=a.yc()-1;0<=c;--c){var d=a.Ac(c).getId();xWh(a,d)}b=Zd(b.C);for(d in b)vWh(a,d);a.D.GJ();uWh(a);a.D.nJ()}};
V7.prototype.rla=function(){rXh(this);0<Md(this.C.C)&&nXh(this);if(this.$s)if("none"!=this.D.$a){var a=this.$s.D;a.D.GJ();uWh(a)}else this.$s.T6()};V7.prototype.setResolvedAnchoredDocosVisible=V7.prototype.Agc;V7.prototype.b0=function(a,b,c){return sXh(this,a,b?b:void 0,c)};V7.prototype.newDoco=V7.prototype.b0;
V7.prototype.WT=function(a,b,c){if(null==a||Cd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=tXh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());nq(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Fkb();a=Q7(f,u(f.QNb,f,a,d,e,b));
nq(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=Q7(f,u(f.NNb,f,a,d,e,b));nq(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.interceptingNewDoco=V7.prototype.WT;function sXh(a,b,c,d,e,f,h){uXh(a,b,c);b=uPh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,W7(a).oV(d));return b}
function tXh(a,b,c,d,e,f,h){uXh(a,b,c);return nq(hVh(a.H,b,d||"draft",e,f,h),function(k){if(c&&0<k){var l={};l[k]=c;W7(a).oV(l)}return k})}function uXh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.pb();c&&(a.xa=c)}
V7.prototype.qla=function(a,b){if(null==a||Cd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return sXh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),xPh(this.L,a,c,d,b.Fkb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,yPh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.newDoco2=V7.prototype.qla;V7.prototype.XT=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");nq(nq(kVh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.tb(e);return e}),c)};V7.prototype.interceptingNewSuggestion=V7.prototype.XT;
V7.prototype.dJ=function(a,b,c){var d=this;nq(nq(lVh(this.H,a,!0,b),function(e){vXh(d,a);return e}),c)};V7.prototype.interceptingAcceptSuggestion=V7.prototype.dJ;V7.prototype.Fd=function(a){return JPh(this.L,a,!0)};V7.prototype.acceptSuggestions=V7.prototype.Fd;V7.prototype.ZT=function(a,b,c){var d=this;nq(nq(lVh(this.H,a,!1,b),function(e){vXh(d,a);return e}),c)};V7.prototype.interceptingRejectSuggestion=V7.prototype.ZT;V7.prototype.mO=function(a,b){var c=this.H;a=Q7(c,u(c.kEa,c,a,!0));nq(a,b)};
V7.prototype.interceptingAcceptSuggestions=V7.prototype.mO;V7.prototype.Cma=function(a,b){b=FPh(this.L,a,!1,b);vXh(this,a);return b};V7.prototype.rejectSuggestion=V7.prototype.Cma;function vXh(a,b){(b=A7(a.C,b))&&a.dn&&a.dn.CS(b.getId())}V7.prototype.gna=function(a){return JPh(this.L,a,!1)};V7.prototype.rejectSuggestions=V7.prototype.gna;V7.prototype.aU=function(a,b){var c=this.H;a=Q7(c,u(c.kEa,c,a,!1));nq(a,b)};V7.prototype.interceptingRejectSuggestions=V7.prototype.aU;
V7.prototype.VT=function(a,b){var c=this.H;a=Q7(c,u(c.Jcb,c,a));nq(a,b)};V7.prototype.interceptingDeleteReply=V7.prototype.VT;V7.prototype.RT=function(a,b){var c=this.H;a=Q7(c,u(c.Icb,c,a));nq(a,b)};V7.prototype.interceptingDeleteReplies=V7.prototype.RT;V7.prototype.pj=function(a){return(a=A7(this.C,a))?u7(a):null};V7.prototype.getAnchorData=V7.prototype.pj;V7.prototype.Dz=function(a){return(a=A7(this.C,a))?a.AH():null};V7.prototype.getSuggestionId=V7.prototype.Dz;V7.prototype.qm=function(){return this.D.gh().getId()};
V7.prototype.getCurrentAuthor=V7.prototype.qm;V7.prototype.Ll=function(a){return(a=A7(this.C,a))?a.ww().getId():null};V7.prototype.getAuthor=V7.prototype.Ll;V7.prototype.nm=function(a){return(a=A7(this.C,a))?a.ww().getName():null};V7.prototype.getAuthorName=V7.prototype.nm;V7.prototype.Wn=function(a){"string"===typeof a&&(a=this.Ka(a));return wXh(this).D.W$(a)};V7.prototype.getDocoPosition=V7.prototype.Wn;V7.prototype.getDocoMaxHeight=function(a){return W7(this).getDocoMaxHeight(a)};
V7.prototype.getDocoMaxHeight=V7.prototype.getDocoMaxHeight;V7.prototype.f5b=function(a,b){W7(this).Noa(a,b)};V7.prototype.setDocoMaxHeight=V7.prototype.f5b;V7.prototype.gj=function(a){a=xXh(this,a);W7(this).EJ(a)};V7.prototype.flushAnchors=V7.prototype.gj;V7.prototype.Fi=function(a){W7(this).EJ(a)};V7.prototype.flushDocoPositions=V7.prototype.Fi;V7.prototype.w5a=function(a){a=xXh(this,a);W7(this).oV(a)};V7.prototype.updateAnchors=V7.prototype.w5a;V7.prototype.z5a=function(a){W7(this).oV(a)};
V7.prototype.updateDocoPositions=V7.prototype.z5a;V7.prototype.bf=function(a){W7(this).V$(Uc(a,this.Ka,this))};V7.prototype.deleteAnchors=V7.prototype.bf;V7.prototype.If=function(a){W7(this).V$(a)};V7.prototype.deleteDocoPositions=V7.prototype.If;V7.prototype.F5a=function(a){this.dn?this.dn.P1(a):this.Ha=a};V7.prototype.updateViewport=V7.prototype.F5a;V7.prototype.wg=da("Xa");V7.prototype.enableAnchoredDocoAnimations=V7.prototype.wg;
V7.prototype.Zr=function(){var a=this.D.J;return(a=a?this.C.ud(a):void 0)?u7(a):""};V7.prototype.getLinkedAnchor=V7.prototype.Zr;V7.prototype.$r=function(){var a=this.D.J;return null===a?0:x7(this.C,a)};V7.prototype.getLinkedDoco=V7.prototype.$r;V7.prototype.mU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};V7.prototype.isLinkedDocoDeleted=V7.prototype.mU;function xXh(a,b){var c={};Id(b,function(d,e){(e=this.Ka(e))&&(c[e]=d)},a);return c}V7.prototype.ePb=function(a){this.C.Ka=a};
V7.prototype.setActiveSuggestions=V7.prototype.ePb;V7.prototype.Xn=function(){var a=this.C.O;return a&&a.zk()?a.getId():null};V7.prototype.getHighlightedSuggestionDocoId=V7.prototype.Xn;V7.prototype.Ka=function(a){return(a=uSh(this.C,a))?x7(this.C,a.getId()):0};V7.prototype.rMb=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.yBa=La();pXh(this).qb()&&(Jf(this.$s),this.$s=null);bMe(this.D.L,!1);pXh(this).render(this.D.L)};V7.prototype.renderPaneSurface=V7.prototype.rMb;
V7.prototype.$_=function(){return pXh(this).D.NHa()};V7.prototype.isPaneSurfaceRendered=V7.prototype.$_;function W7(a){a.dn||(a.dn=yXh(a),a.Ha&&(a.dn.P1(a.Ha),a.Ha=null));return a.dn}function wXh(a){if(!a.Fu){qXh(a);var b=W7(a);a.Fu=new sWh(a.F,b,u(a.C.R,a.C),b.oa())}return a.Fu}function qXh(a){if(!a.F2a){a.F2a=!0;var b=a.D.L,c=a.D.Ca;b&&(a.D.Ec||$w(Ehe(""),b),a.D.C.install(b));!c||b&&To(b)==To(c)||(a.D.Ec||$w(Ehe(""),c),a.D.C.install(c))}}
V7.prototype.koa=function(){if(!this.D.Ca)throw Error("Anchor surface div not specified in config.");wXh(this).qb()&&(Jf(this.Fu),this.Fu=null,yXh(this));bMe(this.D.Ca,!1);wXh(this).render(this.D.Ca)};V7.prototype.renderAnchorSurface=V7.prototype.koa;
function yXh(a){var b=a.D.Cj,c=$Wh;"absolute"==b&&(c=sUh);if(a.dn&&(a.dn instanceof c||a.dn.pV()instanceof c))return a.dn;var d=Ro(a.D.Ca);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new yVh(c,d));a.dn&&(a.dn.Ooa(c),Jf(a.dn));a.dn=c;a.dn.oAa(a);a.qa(a.dn);return a.dn}
V7.prototype.Dpa=function(){if(!this.D.Ta)throw Error("Instant docos div not specified in config.");this.Qt&&this.Qt.qb()&&(Jf(this.Qt),this.Qt=null);this.Qt||this.J["enable-gsuite-embedding"]||(this.Qt=new eVh(this.F,Ro(this.D.Ta)),this.Ma.listen(this.Qt,"create-draft",this.Fc),this.Qt.render(this.D.Ta))};V7.prototype.renderInstantDocosButton=V7.prototype.Dpa;V7.prototype.lhc=function(a,b,c){this.Qt&&fVh(this.Qt,a,b,c)};V7.prototype.showInstantDocosButtonAt=V7.prototype.lhc;
V7.prototype.pb=function(a){this.Qt&&this.Qt.qf(a)};V7.prototype.hideInstantDocosButton=V7.prototype.pb;V7.prototype.Cj=function(){return this.dn?this.dn.O1():null};V7.prototype.getAnchorSurfaceBounds=V7.prototype.Cj;V7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.M1(this.J))};V7.prototype.setOption=V7.prototype.setOption;V7.prototype.tE=function(){if(this.$s){var a=this.$s;a.C.xa&&a.C.xa.focus()}};V7.prototype.grabFocus=V7.prototype.tE;
V7.prototype.Jfc=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.M1(this.J)};V7.prototype.setListener=V7.prototype.Jfc;function zXh(a,b){return b&&a.C.R(b)?b.getId():null}V7.prototype.Cn=function(a){return(a=A7(this.C,a))?a.Tx()?a.Tx().getTime():null:null};V7.prototype.getDocoCreationTime=V7.prototype.Cn;
V7.prototype.fO=function(a,b){var c=i7(this.F);a=uSh(this.C,a);a=zXh(this,a);var d=ZMh(V6(a||""));b&&(b=this.D.Ka?this.$s.D.getId():wXh(this).getId(),W6(d,b));c.zf("docos-before-highlight-doco").mb(X6(d));F7(g7(this.F),a);c.zf("docos-highlight-doco").mb(X6(d))};V7.prototype.highlightAnchor=V7.prototype.fO;
V7.prototype.tb=function(a,b){var c=i7(this.F);a=A7(this.C,a);a=zXh(this,a);var d=ZMh(V6(a||""));b&&(b=this.D.Ka?this.$s.D.getId():wXh(this).getId(),d=W6(d,b));c.zf("docos-before-highlight-doco").mb(X6(d));F7(g7(this.F),a);c.zf("docos-highlight-doco").mb(X6(d))};V7.prototype.highlightDoco=V7.prototype.tb;V7.prototype.L5a=function(a){var b=i7(this.F);a=A7(this.C,a);a=zXh(this,a);if(null!=a){var c=this.C.ud(a);c&&y7(this.Ca,s7(r7(q7(43045),c)));b.zf("docos-speak-doco").mb(a)}};
V7.prototype.verbalizeDoco=V7.prototype.L5a;V7.prototype.DN=function(a){return!!uSh(this.C,a)};V7.prototype.hasDocoForAnchorId=V7.prototype.DN;V7.prototype.RM=function(a){return!!A7(this.C,a)};V7.prototype.hasDoco=V7.prototype.RM;V7.prototype.jt=function(a){return(a=uSh(this.C,a))?a.zk()?!IPh(this.C,a):a.isResolved():!1};V7.prototype.getResolvedForAnchorId=V7.prototype.jt;V7.prototype.fU=function(a){return(a=A7(this.C,a))?a.isResolved():!1};V7.prototype.isDocoResolved=V7.prototype.fU;
V7.prototype.Fm=function(){var a=wSh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};V7.prototype.getDocoCounts=V7.prototype.Fm;V7.prototype.Ym=function(){return wSh(this.C).C.clone().serialize()};
V7.prototype.getDocoCounts2=V7.prototype.Ym;V7.prototype.Yj=function(){return W7(this).Poa().C.clone().serialize()};V7.prototype.getAnchoredDocoCounts=V7.prototype.Yj;V7.prototype.Nk=function(){return Od(this.C.L)};V7.prototype.getAnchors=V7.prototype.Nk;V7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};V7.prototype.getDocoHandles=V7.prototype.getDocoHandles;V7.prototype.ob=function(){this.D.CJ()&&(this.D6||(this.D6=new PVh(this.F),this.qa(this.D6)),this.D6.setVisible(!0))};
V7.prototype.displayNotificationControlDialog=V7.prototype.ob;V7.prototype.Mc=function(a){return a.x};V7.prototype.Tc=function(a){return a.y};function rXh(a){if(a.HXa&&!ZLh(a.F,"netIo")){var b=wVh(a.Pa);b&&(a.F.Cf("netIo",b),a.Wa&&(a.Wa.H=b),b=a.R,DOh(b.D)?b.D.Fd?IVh(b.F,"r"):HVh(b)&&JVh(b):b.L(null),ZLh(a.F,"subscriptionManager")&&$Ph(a.F).F.resolve())}}V7.prototype.ze=function(a){this.R.H.get("netIo").C.LHa(a)};V7.prototype.connectBrowserChannel=V7.prototype.ze;
V7.prototype.Ela=function(){var a=T7(this,"net-error");a&&a((new Z6("net-error")).build());this.D.jt&&(this.setOption("accessLevel","readonly"),a=pXh(this),a.Da||(a.Da=!0,NWh(a)))};V7.prototype.Zc=function(){IVh(this,"r");this.Oa()};V7.prototype.Oa=function(){this.HXa=!0;rXh(this)};V7.prototype.wka=function(a){mXh(this,"r",a)};V7.prototype.onReady=V7.prototype.wka;V7.prototype.vla=function(a){mXh(this,"s",a)};V7.prototype.onInitialSyncSuccess=V7.prototype.vla;
V7.prototype.sla=function(a){mXh(this,"e",a)};V7.prototype.onInitialSyncError=V7.prototype.sla;V7.prototype.Me=function(){var a=this.D.H["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};V7.prototype.Fc=function(){var a=this.D.H["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!0,new Lm(0,this.Qt.D.H),this.Qt.D.O)).build();a(b)}};
function mXh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=ie(d,c)}else a.ma[b]=c}function IVh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}V7.prototype.Q3a=function(){this.Pb()};V7.prototype.tickle=V7.prototype.Q3a;V7.prototype.Pb=function(){a:{var a=this.R;if(DOh(a.D)){if(!a.O){if(!a.C&&!HVh(a))break a;JVh(a)}AVh(a.C,a.D.jea?1:void 0)}}};V7.prototype.sync=V7.prototype.Pb;V7.prototype.nj=function(){KVh(this.R)};V7.prototype.fullSync=V7.prototype.nj;
V7.prototype.Vd=function(){var a=this.R;DOh(a.D)&&(a.C.J=!0)};V7.prototype.blockFutureSync=V7.prototype.Vd;V7.prototype.Y3a=function(){var a=this.R;DOh(a.D)&&(a.C.J=!1)};V7.prototype.unblockFutureSync=V7.prototype.Y3a;V7.prototype.lU=function(){var a=this.R;return DOh(a.D)?a.C.J:!1};V7.prototype.isFutureSyncBlocked=V7.prototype.lU;V7.prototype.At=function(){var a=this.D;return null!=a.N1?a.N1:6E4};V7.prototype.getRetryBackoffThreshold=V7.prototype.At;V7.prototype.dU=function(){return this.D.S$};
V7.prototype.isBrowserChannelEnabled=V7.prototype.dU;V7.prototype.kU=function(){return!!Cj(this.D.Zg,30)};V7.prototype.isDocsStreamHeaderEnabled=V7.prototype.kU;V7.prototype.nU=function(){return EOh(this.D)};V7.prototype.isNewDocosStreamPaneUiEnabled=V7.prototype.nU;V7.prototype.cO=function(){return qSh(this.C)};V7.prototype.hasPendingContent=V7.prototype.cO;m=V7.prototype;
m.I5b=function(a){var b=this,c=a.data;a=aPh($Oh(43011),c.Rj);var d=null!=c.$m;d&&bPh(a,c.$m);wPh(tPh(this.F),cPh(a));nq(jVh(this.H,c.Rj),function(e){if(e){e=(e=b.C.O)&&e.getId()!==c.Rj;e||(b.Xxa(new lt(d?new WMh("",void 0,void 0,void 0,c.$m):U6())),b.pwa(new lt(d?new WMh("",void 0,void 0,void 0,c.$m):U6())));var f=T7(b,"deleted");if(f&&c.$m&&c.Fp){var h=(new Z6("deleted")).addAnchorId(c.$m).addDocoHandle(c.Fp).setUserInitiated(!0).build();f(h);b.uS=null}e&&(b.uS=b.C.O)}})};
m.RQb=function(a){a=a.data;AXh(this,a.Fp,a.Rj,a.oS)};m.X5b=function(a){a=a.data;AXh(this,a.Fp,a.Rj,a.oS,a.Ejb)};function AXh(a,b,c,d,e){var f=T7(a,"before-doco-deleted");if(f&&b){var h=u7(A7(a.C,b));d=e?new XUh(d,e):new QUh(d);b=(new NUh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}BXh(a,c,!0,e)}
m.U5b=function(a){var b=a.data;if((a=T7(this,"converted"))&&b){var c=u7(A7(this.C,b.Fp)),d=new O7(c,b.pXa,b.oS);b=(new NUh("converted")).addAnchorId(c).addDocoHandle(b.Fp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.QQb=function(a){(a=A7(this.C,a))&&BXh(this,a.getId(),!1)};V7.prototype.deleteDoco=V7.prototype.QQb;function BXh(a,b,c,d){var e=a.C.ud(b),f=x7(a.C,b);e=u7(e);var h=a.H;b=Q7(h,u(h.Gcb,h,b,d));nq(b,u(a.N5a,a,e,f,c))}
V7.prototype.N5a=function(a,b,c,d){if(d){d=T7(this,"before-selected");var e=T7(this,"selected"),f=T7(this,"deleted");if(a&&b){if(d){var h=(new Z6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new Z6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new Z6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.uS=null}}};V7.prototype.B4a=function(a){return APh(this.L,a)};V7.prototype.undoDeleteDoco=V7.prototype.B4a;
V7.prototype.G$b=function(a){this.Za=a;P(wXh(this).getElement(),a)};V7.prototype.setDocosGutterVisibility=V7.prototype.G$b;V7.prototype.iU=g("Za");V7.prototype.isDocosGutterVisible=V7.prototype.iU;V7.prototype.qh=function(){var a=this.Wb;a.C=a.H.F.C;a.F.setOption("accessLevel","readonly")};V7.prototype.enterReanchorMode=V7.prototype.qh;V7.prototype.TOb=function(){var a=this.Wb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};V7.prototype.resetReanchorMode=V7.prototype.TOb;
V7.prototype.cU=function(a,b){var c=this.H;a=Q7(c,u(c.Pfc,c,a));nq(a,b)};V7.prototype.interceptingUndoDeleteDoco=V7.prototype.cU;V7.prototype.jhc=function(a,b){this.L.KHa(a,new O6(b))};V7.prototype.setSuggestionQuote=V7.prototype.jhc;V7.prototype.bU=function(a,b){var c=this.H;b=new O6(b);Q7(c,u(c.pcc,c,a,b))};V7.prototype.interceptingSetSuggestionQuote=V7.prototype.bU;
V7.prototype.Gz=function(a){a=A7(this.C,a);if(!a)return null;if(!a.zk())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.l3()};V7.prototype.getSuggestionQuote=V7.prototype.Gz;V7.prototype.Xh=function(a){return this.Ta?DUh(this.Ta,a):new BUh(Rp())};V7.prototype.findAssignee=V7.prototype.Xh;V7.prototype.nhc=function(){aQh(this.F).C=!0};V7.prototype.startBatchEvent=V7.prototype.nhc;V7.prototype.Vg=function(){var a=aQh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
V7.prototype.endBatchEvent=V7.prototype.Vg;m=V7.prototype;m.TQb=function(a){a=a.data;var b=this.H;b=Q7(b,u(b.Hac,b,a.C,a.D,a.F));nq(b,u(this.a$b,this,a))};
m.a$b=function(a,b){if(b){b=T7(this,"before-selected");var c=T7(this,"selected");if(c){var d=this.C.ud(a.C),e=x7(this.C,a.C);d&&d.Iz()&&e&&(a.D?(b&&(a=(new Z6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).setUserInitiated(!0).build(),c(a),this.uS=null):(b&&(a=(new Z6("before-selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.uS=d))}}};
m.b9b=function(a){a=a.data;var b=this.H;Q7(b,u(b.Hgc,b,a.C,a.D))};m.c9b=function(a){a=a.data;var b=this.H;Q7(b,u(b.Igc,b,a.C,a.D,a.F))};m.S8b=function(a){this.setOption("sortpaneby",a.data.eec)};m.y5b=function(a){var b=this.D.bf;b&&(a=this.C.ud(a.data.Rj))&&b(u7(a),!0)};
function CXh(a,b,c){var d=T7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.uS||"number"===typeof f){var h=new Z6(c),k=x7(a.C,b.C);e&&e.Iz()&&k&&h.addAnchorId(u7(e)).addDocoHandle(k);k=new i5;var l=b.R;null!=l?k=new LUh(l):"number"===typeof f?k=new o0g(f):void 0!==b.H&&(k=new YUh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.uS=e)}}m.Xxa=function(a){CXh(this,a.data,"before-selected")};
m.pwa=function(a){var b=a.data;CXh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==wXh(this).getId()?1:b.D==pXh(this).D.getId()?2:3;var c=this.Ca;a=r7(q7(43044),a);a.H=b;y7(c,s7(a))}};m.o7b=function(a){a=a.data;var b=a.C,c=this.H;Q7(c,u(c.a9a,c,a.D,a.F,null,b?b:void 0))};m.f9b=function(a){var b=a.data;if(a=T7(this,"write-feedback"))b=(new Z6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new jXh(b.source)).build(),a(b)};
m.b6b=function(){var a=T7(this,"disable-smart-todo-feature");if(a){var b=(new Z6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.SQb=function(a){var b=this,c=a.data;nq(kVh(this.H,c.beb,c.$m,c.text,c.quote,c.zja,c.B0),function(d){if(0<d){var e=c.$m,f=c.Fp,h=T7(b,"posted");h&&e&&f&&(e=(new Z6("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Xxa(new lt(U6()));b.pwa(new lt(U6()))}return d})};
m.k7b=function(a){var b=T7(this,"hover");if(b){a=a.data;var c=bNh("hover").setNonAnchored(!a.bOb).setUserInitiated(!0);if(a.kOb){var d=this.C.ud(a.Rj);c.addAnchorId(d?u7(d):"");c.addDocoHandle(x7(this.C,a.Rj))}b(c.build())}};m.h7b=function(a){if("dd"==a.type){var b=T7(this,"deleted");if(b&&a.C&&a.D&&(a.vr||this.D.Ha)&&a.V&16){var c=(new Z6("deleted")).addDocoHandle(a.D);a.vr&&c.addAnchorId(a.vr);a=c.build();b(a)}}};
m.g7b=function(a){if("bu"==a.type){var b=bNh("created");this.xa&&(b.setApiEventArgs(new SUh(this.xa,a.C[0].$m)),this.xa=null);var c=bNh("resolved"),d=bNh("unresolved");b=WUh(b,a.C,8);c=WUh(c,a.C,2);d=WUh(d,a.C,4);DXh(this,"created",b);DXh(this,"resolved",c);DXh(this,"unresolved",d)}};m.x7b=function(a){if("p"==a.type&&(a=T7(this,"pending"))){var b=(new Z6("pending")).setUserInitiated(!0).build();a(b)}};
m.m5b=function(){var a=T7(this,"view-updated");if(a){var b=(new Z6("view-updated")).setUserInitiated(!0).build();a(b)}};function DXh(a,b,c){a=T7(a,b);!c.isEmpty()&&a&&a(c.build())}function T7(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ja=function(){delete this.dn;delete this.D;delete this.rR;delete this.L;delete this.Wa;delete this.Ma;delete this.$a;delete this.Pa;delete this.D6;delete this.Da;delete this.C;delete this.Qa;Jf(this.Qt);delete this.Qt;Jf(this.Fu);delete this.Fu;Jf(this.$s);delete this.$s;V7.Ua.Ja.call(this);Jf(this.F);delete this.F};pa("Docos",V7,void 0);pa("Docos.Point",Lm,void 0);pa("Docos.Point.getX",V7.prototype.Mc,void 0);pa("Docos.Point.getY",V7.prototype.Tc,void 0);
pa("Docos.AbstractAlteredDocoArgs",PTh,void 0);pa("Docos.NewDraftArgs",VTh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);
pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);
pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);pa("Docos.NewDocoType",zqd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);
pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",V7.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});function EXh(){f1g.apply(this,arguments)}t(EXh,f1g);PJ("docosbundled",EXh);
